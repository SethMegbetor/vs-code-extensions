{"version":3,"sources":["../webpack/bootstrap",".././node_modules/rollbar/src/utility.js","../external \"vscode\"","../external \"os\"","../external \"path\"","../external \"https\"","../external \"fs\"",".././src/utils.js",".././node_modules/kite-api/node_modules/kite-connector/lib/utils.js",".././src/urls.js","../external \"child_process\"","../external \"http\"",".././node_modules/kite-api/node_modules/kite-connector/lib/kite-state-error.js","../external \"util\"",".././node_modules/kite-api/node_modules/kite-connector/lib/constants.js",".././node_modules/kite-connector/lib/logger.js",".././node_modules/source-map/lib/util.js",".././src/constants.js",".././node_modules/kite-api/node_modules/kite-connector/lib/kite-request-error.js",".././node_modules/kite-api/node_modules/kite-connector/lib/kite-process-error.js","../external \"url\"",".././node_modules/rollbar/src/server/logger.js",".././src/kite.js",".././node_modules/kite-api/lib/index.js","../external \"querystring\"","../external \"events\"",".././node_modules/kite-api/node_modules/kite-connector/lib/clients/node.js","../external \"stream\"",".././node_modules/asynckit/lib/iterate.js",".././node_modules/asynckit/lib/async.js",".././node_modules/asynckit/lib/abort.js",".././node_modules/asynckit/lib/state.js",".././node_modules/asynckit/lib/terminator.js",".././node_modules/asynckit/serialOrdered.js",".././node_modules/kite-api/node_modules/kite-connector/lib/clients/browser.js",".././node_modules/md5/md5.js",".././node_modules/charenc/charenc.js",".././node_modules/kite-connector/lib/constants.js",".././src/data-utils.js",".././src/metrics.js",".././src/localconfig.js",".././node_modules/rollbar/src/truncation.js",".././node_modules/json-stringify-safe/stringify.js",".././node_modules/async/lib/async.js",".././node_modules/source-map/lib/source-map-generator.js",".././node_modules/source-map/lib/base64-vlq.js",".././node_modules/source-map/lib/array-set.js",".././node_modules/opn/index.js",".././node_modules/is-wsl/index.js",".././node_modules/kite-api/node_modules/kite-connector/lib/index.js",".././node_modules/form-data/lib/form_data.js",".././node_modules/combined-stream/lib/combined_stream.js",".././node_modules/delayed-stream/lib/delayed_stream.js",".././node_modules/mime-types/index.js",".././node_modules/mime-db/index.js",".././node_modules/asynckit/index.js",".././node_modules/asynckit/parallel.js",".././node_modules/asynckit/lib/defer.js",".././node_modules/asynckit/serial.js",".././node_modules/form-data/lib/populate.js",".././node_modules/kite-api/node_modules/kite-connector/lib/support/osx.js",".././node_modules/kite-api/node_modules/kite-connector/lib/support/windows.js",".././node_modules/kite-api/node_modules/kite-connector/lib/support/linux.js",".././node_modules/kite-api/node_modules/kite-connector/lib/support/no-support.js",".././node_modules/kite-api/lib/editor-config.js",".././node_modules/kite-api/lib/stores/memory.js",".././node_modules/kite-api/lib/constants.js",".././node_modules/kite-api/lib/utils.js",".././node_modules/kite-api/lib/url-helpers.js",".././node_modules/crypt/crypt.js",".././node_modules/is-buffer/index.js",".././node_modules/kite-connector/lib/loggers/null.js",".././node_modules/kite-connector/lib/loggers/console.js",".././src/hover.js",".././src/completion.js",".././src/signature.js",".././src/definition.js",".././src/kite-editor.js",".././src/events.js","../external \"crypto\"",".././node_modules/mixpanel/lib/mixpanel-node.js","../external \"buffer\"",".././node_modules/rollbar/src/server/rollbar.js",".././node_modules/rollbar/src/rollbar.js",".././node_modules/rollbar/src/rateLimiter.js",".././node_modules/rollbar/src/merge.js",".././node_modules/rollbar/vendor/JSON-js/json3.js",".././node_modules/rollbar/src/queue.js",".././node_modules/rollbar/src/notifier.js",".././node_modules/rollbar/src/telemetry.js",".././node_modules/rollbar/src/api.js",".././node_modules/rollbar/src/apiUtility.js",".././node_modules/rollbar/src/server/transport.js",".././node_modules/rollbar/src/server/transforms.js",".././node_modules/rollbar/src/server/parser.js",".././node_modules/lru-cache/lib/lru-cache.js",".././node_modules/rollbar/src/server/sourceMap/stackTrace.js",".././node_modules/source-map/source-map.js",".././node_modules/source-map/lib/base64.js",".././node_modules/source-map/lib/mapping-list.js",".././node_modules/source-map/lib/source-map-consumer.js",".././node_modules/source-map/lib/binary-search.js",".././node_modules/source-map/lib/quick-sort.js",".././node_modules/source-map/lib/source-node.js",".././node_modules/buffer-from/index.js",".././node_modules/request-ip/index.js",".././node_modules/is_js/is.js",".././node_modules/rollbar/src/transforms.js",".././node_modules/rollbar/src/predicates.js",".././src/notifications.js","../external \"dns\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","merge","RollbarJSON","__initRollbarJSON","isType","x","typeName","Error","toString","match","toLowerCase","isFunction","f","isNativeFunction","funcMatchString","Function","replace","reIsNative","RegExp","isObject","test","type","traverse","obj","func","seen","k","v","isObj","isArray","keys","indexOf","push","length","result","same","redact","uuid4","now","Math","random","floor","JSON","stringify","parse","setupCustomJSON","parseUriOptions","strictMode","q","parser","strict","loose","backup","error","jsonError","backupError","wrapCallback","logger","err","resp","e","TELEMETRY_TYPES","TELEMETRY_LEVELS","arrayIncludes","arr","val","Date","addParamsAndAccessTokenToPath","accessToken","options","params","access_token","paramsArray","join","query","sort","path","qs","h","substring","createItem","args","notifier","requestKeys","lambdaContext","message","custom","callback","request","arg","extraArgs","argTypes","typ","DOMException","j","len","undefined","item","timestamp","diagnostic","uuid","level","skipFrames","setCustomItemKeys","_originalArgs","original_arg_types","createTelemetryEvent","metadata","filterIp","requestData","captureIp","newIp","parts","split","pop","beginning","slice","slashIdx","concat","formatArgsAsString","substr","formatUrl","u","protocol","port","hostname","handleOptions","current","input","payload","overwriteScrubFields","scrubFields","isError","isIterable","isString","String","jsonParse","LEVELS","debug","info","warning","critical","makeUnhandledStackInfo","url","lineno","colno","backupMessage","errorParser","location","line","column","guessFunctionName","context","gatherContext","href","document","useragent","window","navigator","userAgent","sanitizeUrl","baseUrlParts","str","exec","uri","$0","$1","$2","parseUri","anchor","source","scrub","data","paramRes","pat","ret","_getScrubFieldRegexs","queryRes","_getScrubQueryParamRegexs","redactQueryParam","dummy0","paramPart","scrubber","tmpV","valScrubber","paramScrubber","set","temp","replacement","maxByteSize","string","count","code","charCodeAt","require","vscode","cp","os","flatten","a","reduce","Array","head","detailGet","evalPath","compact","filter","delayPromise","factory","timeout","Promise","resolve","reject","setTimeout","then","last","log","console","escapeCommandArguments","version","detailExist","detailLang","language_details","detailNotEmpty","parseJSON","fallback","promisifyReadResponse","response","on","chunk","promisifyRequest","secondsSince","when","getTime","stopPropagationAndDefault","stopPropagation","preventDefault","this","truncate","uniq","stripTags","editorsForDocument","visibleTextEditors","b","getDetails","details","detail","getFunctionDetails","function","kiteOpen","env","assign","process","platform","spawnSync","getSupportedLanguage","isUntitled","fileName","http","https","child_process","KiteRequestError","KiteProcessError","anyPromise","arrayOfPromises","resolvingPromises","map","promise","catch","all","results","resolved","deepMerge","forEach","dumpCookies","cookies","Name","Value","execPromise","cmd","cmdOptions","rejectionType","rejectionMessage","stdout","stderr","callStack","stack","findCookie","followRedirections","req","statusCode","header","headers","isRedirection","end","responseStatus","guardCall","fn","handleResponseData","json","parseSetCookies","cookie","parsed","Path","Domain","Expires","RawExpires","MaxAge","Secure","HttpOnly","Raw","Unparsed","raw","idx","promisifyStream","stream","retryPromise","doAttempt","attempts","interval","makeAttempt","retryOrReject","reversePromise","resolutionMessage","shouldAddCatchProcessing","startsWith","spawnPromise","cmdArgs","proc","spawn","_","whoami","execSync","trim","md5","valueReportPath","id","escapeId","encodeURI","normalizeDriveLetter","toUpperCase","accountPath","completionsPath","examplePath","hoverPath","position","Position","character","state","getText","filename","offsetAt","languagesPath","membersPath","page","limit","metricsCounterPath","openDocumentationInWebURL","openExampleInWebURL","openSignatureInWebURL","projectDirPath","reportPath","symbol","searchPath","offset","serializeRangeForPath","range","start","row","shouldNotifyPath","settingsPath","signaturePath","statusPath","symbolReportPath","usagePath","usagesPath","super","captureStackTrace","constructor","STATES","UNSUPPORTED","UNINSTALLED","NOT_RUNNING","UNREACHABLE","UNLOGGED","READY","INSTALLED","RUNNING","REACHABLE","AUTHENTICATED","SILLY","VERBOSE","DEBUG","INFO","WARNING","ERROR","NullReporter","ConsoleReporter","LEVEL","output","msgs","SILENT","getArg","aArgs","aName","aDefaultValue","arguments","urlRegexp","dataUrlRegexp","urlParse","aUrl","scheme","auth","host","urlGenerate","aParsedUrl","normalize","aPath","part","isAbsolute","up","splice","aRoot","aPathUrl","aRootUrl","joined","charAt","relative","index","lastIndexOf","supportsNullProto","identity","isProtoString","strcmp","aStr1","aStr2","toSetString","aStr","fromSetString","compareByOriginalPositions","mappingA","mappingB","onlyCompareOriginal","cmp","originalLine","originalColumn","generatedColumn","generatedLine","compareByGeneratedPositionsDeflated","onlyCompareGenerated","compareByGeneratedPositionsInflated","SUPPORTED_EXTENSIONS","MAX_FILE_SIZE","pow","MAX_PAYLOAD_SIZE","ATTEMPTS","INTERVAL","EVENT_SUPPORT","fileExt","extname","includes","COMPLETIONS_SUPPORT","pattern","FULL_COMPLETIONS_SUPPORT","DEFINITIONS_SUPPORT","HOVER_SUPPORT","SIGNATURES_SUPPORT","CONNECT_ERROR_LOCKOUT","ERROR_COLOR","workspace","getConfiguration","colorTheme","ThemeColor","WARNING_COLOR","KITE_BRANDING","OFFSET_ENCODING","verbose","apply","setVerbose","opn","KiteAPI","Logger","KiteHoverProvider","KiteCompletionProvider","KiteSignatureProvider","KiteDefinitionProvider","KiteEditor","EditorEvents","localconfig","metrics","Rollbar","showNotification","Kite","ctx","globalState","_activate","subscriptions","featureRequested","reset","rollbar","environment","editor","kite_plugin_version","release","tracker","disposables","removeListener","loggingLevel","isKiteInstalled","track","showInformationMessage","languages","registerHoverProvider","registerDefinitionProvider","completionsTriggers","optionalCompletionsTriggers","registerCompletionItemProvider","pythonCompletionsTriggers","registerSignatureHelpProvider","onDidChangeConfiguration","activeTextEditor","onDidChangeActiveTextEditor","setStatusBarLabel","featureFulfilled","isGrammarSupported","registerEvents","registerEditor","evt","eventsByEditor","focus","onDidChangeTextEditorSelection","textEditor","selectionChanged","onDidChangeTextDocument","edit","onDidChangeVisibleTextEditors","editors","registerDocumentEvents","registerDocument","statusBarItem","createStatusBarItem","StatusBarAlignment","Right","text","color","show","commands","registerCommand","lang","increment","registerTextEditorCommand","encodeURIComponent","doc","file","openTextDocument","Uri","showTextDocument","newPosition","revealRange","Range","newSelection","Selection","selection","openKiteTutorial","async","getOnboardingFilePath","language","tutorial","setKiteSetting","showErrorMessage","pos","active","executeCommand","some","config","showWelcomeNotificationOnStartup","update","getKiteSetting","hasDone","checkState","pollingInterval","setInterval","disposable","dispose","kiteEditorByEditor","Map","supportedExtensions","shown","attemptedToStartKite","shownNotifications","lastState","lastStatus","lastPolledState","ke","has","languageId","src","checkHealth","getSupportedExtensions","extensions","isOSSupported","isOSVersionSupported","startKiteEngineOnStartup","runKiteAndWait","setStatus","actions","status","tooltip","hide","getStatus","isDocumentGrammarSupported","documentForPath","textDocuments","shift","checkConnectivity","lookup","activate","deactivate","kite","querystring","KiteConnector","KiteStateError","utils","NodeClient","BrowserClient","EventEmitter","EditorConfig","MemoryStore","checkArguments","checkArgumentKeys","urls","emitter","editorConfig","toggleRequestDebug","Account","method","requestJSON","onboardingFilePath","canAuthenticateUser","isKiteReachable","isUserAuthenticated","email","password","authenticateUser","saveUserID","authenticateSessionID","encoding","getHoverDataAtPosition","getReportDataAtPosition","getReportDataFromHover","idIsEmpty","getSymbolReportDataForId","report","getValueReportDataForId","getMembersDataForId","getUsagesDataForValueId","getUsageDataForId","getExampleDataForId","getCompletions","completions","getSignaturesAtPosition","cursor_runes","offset_encoding","getKSGCompletions","getKSGCodeBlocks","editorMeta","getAutocorrectData","getAutocorrectMetadata","buffer","getAutocorrectModelInfo","event","os_name","getOsName","darwin","win32","linux","postSaveValidationData","feedback","postAutocorrectFeedbackData","requestStartTime","postAutocorrectHashMismatchData","response_time","sendFeatureMetric","suffix","featureApplied","client","base","ssl","checkStatusAndInvokeCallback","content","respData","responseData","target","FormData","opts","form","writeCookies","append","getHeaders","readCookies","pipe","write","hdrs","Cookies","abort","list","iterator","jobs","aborter","runJob","defer","isAsync","clean","sortMethod","isNamedList","initState","keyedList","size","iterate","terminator","ascending","iteratorHandler","descending","domain","XMLHttpRequest","addEventListener","responseText","createResponse","open","ontimeout","setRequestHeader","send","crypt","utf8","isBuffer","bin","stringToBytes","bytesToWords","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","endian","_blocksize","_digestsize","digestbytes","wordsToBytes","asBytes","asString","bytesToString","bytesToHex","charenc","unescape","bytes","decodeURIComponent","escape","fromCharCode","isFunctionKind","kind","parameterName","prefix","w","parameterDefault","repr","parameterType","inferred_value","type_id","parameterTypeLink","parameterValue","parameters","withType","signature","gatherParameters","callParameterName","parameter","callKwargParameters","example","types","examples","callKwargParameter","valueName","valueNameFromId","symbolName","wrapType","unionType","vs","returnType","symbolValue","extractInstanceType","extractFunctionType","return_value","callSignature","memberLabel","reportFromHover","hover","symbolId","symbolKindMarkdown","symbolLabel","symbolType","valueLabel","valueType","symbolReturnType","crypto","mixpanel","kitePkg","OS_VERSION","EDITOR_UUID","machineId","mpClient","init","distinctID","randomBytes","props","eventData","distinct_id","editor_uuid","os_release","fs","legacyConfigDir","homedir","legacyConfigPath","configDir","LOCALAPPDATA","configPath","existsSync","readFileSync","unlinkSync","readdirSync","rmdirSync","mkdirSync","writeFile","persist","jsonBackup","selectFrames","frames","truncateFrames","body","trace_chain","chain","trace","maybeTruncateValue","truncateStrings","truncator","truncateTraceData","traceData","exception","description","minBody","needsTruncation","maxSize","strategy","strategies","serializer","replacer","cycleReplacer","thisPos","Infinity","spaces","getSerialize","root","previous_async","noop","only_once","called","_once","global","noConflict","_toString","_isArray","_isArrayLike","_each","coll","_arrayEach","_keys","_forEachOf","_map","_range","_setImmediate","_keyIterator","_baseSlice","_withoutIndex","_eachOfLimit","nextKey","done","running","errored","replenish","doParallel","eachOf","doSeries","eachOfSeries","_asyncMap","eachfn","_filter","_reject","_detect","main_callback","_parallel","tasks","task","_concat","cb","y","_queue","worker","concurrency","_insert","started","idle","setImmediate","drain","unshift","saturated","_next","workers","empty","paused","kill","pause","resume","resumeCount","min","_console_fn","_times","mapper","_applyEach","fns","go","that","ensureAsync","innerArgs","sync","nextTick","each","forEachSeries","eachSeries","forEachLimit","eachLimit","forEachOf","completed","forEachOfSeries","forEachOfLimit","eachOfLimit","mapSeries","mapLimit","doParallelLimit","_mapLimit","inject","foldl","memo","foldr","reduceRight","reversed","reverse","select","selectSeries","filterSeries","rejectSeries","detect","detectSeries","any","every","sortBy","comparator","left","right","criteria","auto","remainingTasks","listeners","addListener","taskComplete","taskCallback","safeResults","rkey","dep","requires","abs","ready","listener","retry","times","wrappedTask","wrappedCallback","wrappedResults","retryAttempt","finalAttempt","seriesCallback","series","parseInt","waterfall","wrapIterator","next","parallel","parallelLimit","makeCallback","concatSeries","whilst","doWhilst","until","doUntil","queue","items","priorityQueue","_compareTasks","priority","sequence","compare","beg","mid","_binarySearch","cargo","dir","memoize","hasher","queues","memoized","unmemoized","unmemoize","timesSeries","timesLimit","seq","newargs","nextargs","compose","applyEach","applyEachSeries","forever","base64VLQ","util","ArraySet","MappingList","SourceMapGenerator","_file","_sourceRoot","_skipValidation","_sources","_names","_mappings","_sourcesContents","_version","fromSourceMap","aSourceMapConsumer","sourceRoot","generator","eachMapping","mapping","newMapping","generated","original","addMapping","sources","sourceFile","sourceContentFor","setSourceContent","_validateMapping","add","aSourceFile","aSourceContent","applySourceMap","aSourceMapPath","newSources","newNames","unsortedForEach","originalPositionFor","aGenerated","aOriginal","aSource","_serializeMappings","nameIdx","sourceIdx","previousGeneratedColumn","previousGeneratedLine","previousOriginalColumn","previousOriginalLine","previousName","previousSource","mappings","toArray","encode","_generateSourcesContent","aSources","aSourceRoot","toJSON","names","sourcesContent","base64","aValue","digit","encoded","vlq","toVLQSigned","VLQ_BASE","decode","aIndex","aOutParam","continuation","shifted","strLen","rest","hasNativeMap","_array","_set","fromArray","aArray","aAllowDuplicates","getOwnPropertyNames","sStr","isDuplicate","at","aIdx","childProcess","isWsl","wait","appArgs","cpOpts","app","versions","electron","__dirname","stdio","detached","once","unref","__IS_WSL_TEST__","adapter","isKiteSupported","isKiteRunning","emit","extractErr","isKiteEnterpriseInstalled","isKiteEnterpriseRunning","installKite","downloadKiteRelease","downloadKite","runKiteWithCopilot","runKite","waitForKite","runKiteEnterprise","hasBothKiteInstalled","hasManyKiteInstallation","hasManyKiteEnterpriseInstallation","isAdmin","arch","CombinedStream","parseUrl","mime","asynckit","populate","option","_overheadLength","_valueLength","_valuesToMeasure","inherits","LINE_BREAK","DEFAULT_CONTENT_TYPE","field","_error","_multiPartHeader","footer","_multiPartFooter","_trackLength","valueLength","knownLength","Buffer","byteLength","readable","_lengthRetriever","stat","fileSize","contentDisposition","_getContentDisposition","contentType","_getContentType","contents","prop","getBoundary","filepath","basename","_httpMessage","_streams","_lastBoundary","userHeaders","formHeaders","_boundary","_generateBoundary","getBuffer","dataBuffer","alloc","boundary","from","getLengthSync","hasKnownLength","getLength","values","submit","defaults","pathname","setHeader","Stream","DelayedStream","writable","dataSize","maxDataSize","pauseStreams","_released","_currentStream","_insideLoop","_pendingNext","combinedStream","isStreamLike","newStream","pauseStream","_checkDataSize","_handleErrors","dest","_getNext","_realGetNext","_pipeNext","self","_emitError","_reset","destroy","_updateDataSize","_maxDataSizeExceeded","_bufferedEvents","delayedStream","realEmit","_handleEmit","configurable","setEncoding","_checkIfMaxDataSizeExceeded","preference","db","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","charset","charsets","extension","exts","to","serial","serialOrdered","dst","OSXSupport","RELEASE_URL","APPS_PATH","KITE_DMG_PATH","KITE_VOLUME_PATH","KITE_APP_PATH","mounted","defaultInstalled","KITE_SIDEBAR_PATH","KITE_BUNDLE_ID","SESSION_FILE_PATH","allInstallPaths","paths","checkDefaultAppPath","allEnterpriseInstallPaths","user","parseFloat","res","releaseURL","streamKiteDownload","onDownloadProgress","onDownload","install","progress","total","createWriteStream","downloadPath","onInstallStart","onMount","onCopy","onUnmount","onRemove","installPath","enterpriseInstallPath","KEY_BAT","COMPUTED_INSTALL_PATH","WindowsSupport","KITE_INSTALLER_PATH","tmpdir","installDir","fallbackInstallDir","ProgramW6432","registryDir","KITE_EXE_PATH","exists","KITE_SKIP_ONBOARDING","LinuxSupport","KITED_PATH","KITED_PROCESS","KITE_CURRENT_LINK","memKitedInstallPath","acc","token","userInfo","uid","username","ignored","downloadKiteInstallerScript","chmodSync","scriptPath","child","shell","lastMatch","received","resetInstallPath","SKIP_KITE_ONBOARDING","notSupported","store","readValueAtPath","writeValueAtPath","argName","missingKeys","parseSignature","missingArguments","cleanPath","base64map","rotl","rotr","Number","words","hex","hexToBytes","bytesToBase64","triplet","base64ToBytes","imod4","readFloatLE","isSlowBuffer","_isBuffer","TRACE_ALL","METHODS","Hover","isTest","docsLink","defLink","definition","MarkdownString","isTrusted","CompletionItem","CompletionItemKind","CompletionList","SnippetString","processCompletion","displayPrefix","numDigits","display","insertText","snippet","positionAt","begin","replaceRange","hint","documentation_text","filterText","keepWhitespace","preselect","sortText","fill","documentation","web_id","Module","Class","Keyword","kindForHint","placeholders","placeholder","command","triggers","optionalTriggers","warn","wordRange","getWordRangeAtPosition","buildFilterText","enableSnippets","isOptionalTrigger","triggerCharacter","shouldShowOptionalTrigger","enableOptionalCompletionsTriggers","no_snippets","totalCompletions","completion","toReturn","children","completionItems","SignatureHelp","SignatureInformation","ParameterInformation","cursorPosition","calls","callee","help","activeParameter","arg_index","activeSignature","label","sig","signatures","Location","getExtension","editor_version","plugin_version","action","pendingPromise","pendingPromiseResolve","pendingPromiseReject","pendingEvents","clearTimeout","mergeEvents","buildEvent","selections","makeEvent","REQUEST_LIBS","create_client","send_request","endpoint","request_data","request_lib","api_key","request_options","ex","properties","mp_lib","parse_time","time","import","import_batch","event_list","batch_size","total_events","max_simultaneous_events","completed_events","event_group_idx","request_errors","max_batch_size","send_next_batch","event_batch","ei","ceil","alias","people","set_once","modifiers","$set","set_key","$ip","ip","$ignore_time","merge_modifiers","by","$add","isNaN","$append","track_charge","amount","$amount","$time","toISOString","clear_charges","delete_user","union","$union","merge_values","unset","$unset","$ignore_alias","set_config","Client","packageJson","API","Transport","urllib","transforms","sharedTransforms","sharedPredicates","minimumLevel","reportLevel","defaultOptions","_configuredOptions","maxItems","lambdaTimeoutHandle","transport","api","addTransform","baseData","handleItemWithError","addBody","addMessageWithError","addTelemetryData","addRequestData","addLambdaData","addConfigToPayload","scrubPayload","userTransform","addConfiguredOptions","addDiagnosticKeys","itemToPayload","addPredicate","checkLevel","userCheckIgnore","urlIsNotBlacklisted","urlIsWhitelisted","messageIsIgnored","setupUnhandledCapture","_instance","handleUninitialized","maybeCallback","_getFirstFunction","addOrReplaceRollbarHandler","_rollbarHandler","RollbarError","nested","configure","payloadData","oldOptions","lastError","_createItem","_uncaughtError","_isUncaught","buildJsonPayload","sendJsonPayload","jsonPayload","errorHandler","rollbarError","lambdaHandler","handler","timeoutHandler","asyncLambdaHandler","syncLambdaHandler","_timeoutHandler","originalEvent","originalRequestId","awsRequestId","shouldReportTimeouts","captureLambdaTimeouts","timeoutCb","getRemainingTimeInMillis","_cb","captureEvent","reportMessage","reportMessageWithPayloadData","handleError","handleErrorWithPayloadData","handleUncaughtExceptions","handleUnhandledRejections","handleUncaughtExceptionsAndRejections","captureUncaught","captureUnhandledRejections","exitOnUncaught","exitOnUncaughtException","exit","reason","framework","showReportedMessageTraces","scrubHeaders","server","enabled","transmit","sendConfig","includeItemsInTelemetry","captureEmail","captureUsername","ignoreDuplicateErrors","scrubRequestBody","RateLimiter","Queue","Notifier","Telemeter","rateLimiter","configureGlobal","setPlatformOptions","telemeter","setStackTraceLimit","lastErrorHash","stackTraceLimit","itemsPerMinute","_defaultLogLevel","_log","captureDomContentLoaded","ts","captureLoad","postJsonPayload","defaultLevel","_sameAsLastError","_captureRollbarItem","telemetryEvents","copyEvents","logLevel","itemHash","generateItemHash","startTime","counter","perMinCounter","platformOptions","checkRate","ignoreRateLimit","shouldSendValue","shouldSend","globalRateLimit","limitPerMin","perMinute","msg","extra","rateLimitPayload","globalSettings","elapsedTime","globalRateLimitPerMin","hasOwn","toStr","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","copy","clone","gap","indent","meta","rep","container","escapes","number","rx_escapable","this_value","valueOf","quote","lastIndex","isFinite","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","Boolean","\"","space","holder","partial","mind","firstokey","okey","ovalue","firstavalue","avalue","ocomma","acomma","colon","SyntaxError","reviver","tx","ignore","walk","predicates","pendingItems","pendingRequests","retryQueue","retryHandle","waitCallback","waitIntervalID","predicate","addPendingItem","removePendingItem","addItem","originalError","originalItem","predicateResult","_applyPredicates","stop","_maybeLog","_makeApiRequest","_dequeuePendingRequest","_maybeCallWait","clearInterval","rateLimitResponse","postItem","_maybeRetry","RETRIABLE_ERRORS","shouldRetry","retryInterval","_retryApiRequest","retryObject","transform","_applyTransforms","transformIndex","transformsLength","maxTelemetryEvents","maxQueueSize","max","getLevel","manual","newMaxEvents","deleteCount","events","filterTelemetry","capture","rollbarUUID","timestamp_ms","exc","captureError","captureLog","captureNetwork","subtype","levelFromStatus","status_code","captureDom","element","checked","captureNavigation","captureConnectivityChange","change","helpers","truncation","search","Api","transportOptions","_getTransport","getTransportFromOptions","buildPayload","post","stringifyResult","contextResult","proxy","appendPathToPath","baseTrailingSlash","pathBeginningSlash","rateLimitExpires","_headers","_transport","_currentTime","transportFactory","handleResponse","writeData","_wrapPostCallback","updateRateLimit","remaining","remainingSeconds","currentTime","parsedData","_parseApiResponse","requestIp","addMessageData","addErrorData","stackInfo","_isJsonContentType","_extractIp","getClientIp","round","codeVersion","code_version","argv","pid","branch","errors","parseException","errData","class","_buildTraceData","buildTraceData","parsedUrl","proto","socket","encrypted","format","user_ip","GET","bodyParams","_buildRequestData","route","_router","matchRequest","rollbar_person","person","user_id","userId","remainingTimeInMillis","callbackWaitsForEmptyEventLoop","functionName","functionVersion","arn","invokedFunctionArn","requestId","lambda","parseRequestBody","serializeRequestBody","lru","stackTrace","tracePattern","jadeTracePattern","jadeFramePattern","cache","pendingReads","parseFrameLine","matched","curLine","frame","useSourceMaps","mapSourcePosition","mapPosition","compiled_lineno","compiled_colno","shouldReadFrameFile","frameFilename","isValidFilename","isCached","checkFileExists","gatherContexts","frameFilenames","tempFileCache","gatherFileData","readFile","fileData","fileLines","readFileLines","lines","gatherContextLines","pre","extractContextLines","filenames","multipleErrs","errArray","getMultipleErrors","parseStack","clss","firstErr","jadeData","lineNumSep","numLines","contextLine","preContext","postContext","jadeMatch","parseJadeDebugFrame","_stack","nodeSourceMaps","node_source_maps","source_mapping_urls","hOP","naiveLength","LRUCache","lengthCalculator","allowStale","stale","maxAge","lruList","mru","itemCount","del","shiftLU","hit","lu","mL","lC","thisp","dump","dumpLru","age","Entry","SourceMapConsumer","bufferFrom","fileContentsCache","sourceMapCache","reSourceMap","retrieveFile","_protocol","drive","er","supportRelativeURL","dirname","startPath","retrieveSourceMap","sourceMapData","sourceMappingURL","re","retrieveSourceMapURL","rawData","sourceMap","urlAndMap","originalPosition","SourceNode","intToCharMap","TypeError","charCode","_sorted","_last","aCallback","aThisArg","aMapping","lineA","lineB","columnA","columnB","binarySearch","quickSort","aSourceMap","sections","IndexedSourceMapConsumer","BasicSourceMapConsumer","Mapping","lastOffset","_sections","offsetLine","offsetColumn","generatedOffset","consumer","__generatedMappings","_parseMappings","__originalMappings","_charIsMappingSeparator","GENERATED_ORDER","ORIGINAL_ORDER","GREATEST_LOWER_BOUND","LEAST_UPPER_BOUND","aContext","aOrder","_generatedMappings","_originalMappings","allGeneratedPositionsFor","needle","_findMapping","lastColumn","smc","generatedMappings","destGeneratedMappings","destOriginalMappings","srcMapping","destMapping","segment","cachedSegments","originalMappings","aNeedle","aMappings","aLineName","aColumnName","aComparator","aBias","computeColumnSpans","nextMapping","lastGeneratedColumn","hasContentsOfAllSources","sc","nullOnMissing","fileUriAbsPath","generatedPositionFor","sectionIndex","section","bias","generatedPosition","sectionMappings","adjustedMapping","aHaystack","aCompare","recursiveSearch","aLow","aHigh","swap","ary","doQuickSort","low","high","pivot","REGEX_NEWLINE","isSourceNode","aLine","aColumn","aChunks","sourceContents","fromStringWithSourceMap","aGeneratedCode","aRelativePath","node","remainingLines","remainingLinesIndex","shiftNextLine","getNextLine","lastGeneratedLine","lastMapping","nextLine","addMappingWithCode","aChunk","prepend","aFn","aSep","newChildren","replaceRight","aPattern","aReplacement","lastChild","walkSourceContents","toStringWithSourceMap","sourceMappingActive","lastOriginalSource","lastOriginalLine","lastOriginalColumn","lastOriginalName","sourceContent","isModern","allocUnsafe","encodingOrOffset","byteOffset","maxLength","RangeError","Uint8Array","fromArrayBuffer","isEncoding","fromString","is","getClientIpFromXForwardedFor","existy","not","splitted","find","xForwardedFor","forwarded","connection","remoteAddress","mw","configuration","attributeName","getParams","compareVersion","NaN","op","array","boolean","char","date","domNode","nodeType","nan","regexp","sameType","other","tag","windowObject","falsy","truthy","above","decimal","equal","even","finite","infinite","integer","negative","odd","positive","under","within","regexes","affirmative","alphaNumeric","caPostalCode","creditCard","dateString","eppPhone","hexadecimal","hexColor","ipv4","ipv6","nanpPhone","socialSecurityNumber","timeString","ukPostCode","usZipCode","regexpCheck","capitalized","word","chr","endWith","include","lowerCase","palindrome","half","startWith","upperCase","days","months","day","getDay","dayLightSavingTime","january","getFullYear","july","stdTimezoneOffset","getTimezoneOffset","future","inDateRange","stamp","inLastMonth","setMonth","getMonth","inLastWeek","setDate","getDate","inLastYear","setFullYear","inNextMonth","inNextWeek","inNextYear","leapYear","year","month","past","quarterOfYear","quarter","today","todayString","toDateString","tomorrow","tomorrowString","weekend","weekday","yesterday","yesterdayString","freeGlobal","freeSelf","thisGlobal","previousIs","appVersion","vendor","android","androidPhone","androidTablet","blackberry","chrome","desktop","mobile","tablet","edge","firefox","ie","ios","iphone","ipad","ipod","mac","windowsPhone","offline","online","onLine","opera","phantom","safari","windowsTablet","touchDevice","DocumentTouch","windows","propertyCount","propertyDefined","inArray","sorted","sign","interfaces","setInterfaces","setNamespace","setRegexp","addFunctionOption","payloadOptions","tracePath","newExtra","newItem","configuredOptions","configured_options","is_anonymous","is_uncaught","raw_error","constructor_name","lineNumber","columnNumber","failed","matchFrames","black","listLength","frameLength","urlIsOnAList","settings","whiteOrBlack","traces","hostBlackList","hostWhiteList","tracesLength","listName","levelVal","isUncaught","onSendCallback","checkIgnore","exceptionMessage","ignoredMessages","traceMessage","bodyMessage","hasSeenGoBetaNotification","showGoBetaNotification"],"mappings":"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","file":"kite-extension.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n","var merge = require('./merge');\n\nvar RollbarJSON = {};\nvar __initRollbarJSON = false;\nfunction setupJSON() {\n  if (__initRollbarJSON) {\n    return;\n  }\n  __initRollbarJSON = true;\n\n  if (isDefined(JSON)) {\n    if (isNativeFunction(JSON.stringify)) {\n      RollbarJSON.stringify = JSON.stringify;\n    }\n    if (isNativeFunction(JSON.parse)) {\n      RollbarJSON.parse = JSON.parse;\n    }\n  }\n  if (!isFunction(RollbarJSON.stringify) || !isFunction(RollbarJSON.parse)) {\n    var setupCustomJSON = require('../vendor/JSON-js/json3.js');\n    setupCustomJSON(RollbarJSON);\n  }\n}\nsetupJSON();\n\n/*\n * isType - Given a Javascript value and a string, returns true if the type of the value matches the\n * given string.\n *\n * @param x - any value\n * @param t - a lowercase string containing one of the following type names:\n *    - undefined\n *    - null\n *    - error\n *    - number\n *    - boolean\n *    - string\n *    - symbol\n *    - function\n *    - object\n *    - array\n * @returns true if x is of type t, otherwise false\n */\nfunction isType(x, t) {\n  return t === typeName(x);\n}\n\n/*\n * typeName - Given a Javascript value, returns the type of the object as a string\n */\nfunction typeName(x) {\n  var name = typeof x;\n  if (name !== 'object') {\n    return name;\n  }\n  if (!x) {\n    return 'null';\n  }\n  if (x instanceof Error) {\n    return 'error';\n  }\n  return ({}).toString.call(x).match(/\\s([a-zA-Z]+)/)[1].toLowerCase();\n}\n\n/* isFunction - a convenience function for checking if a value is a function\n *\n * @param f - any value\n * @returns true if f is a function, otherwise false\n */\nfunction isFunction(f) {\n  return isType(f, 'function');\n}\n\n/* isNativeFunction - a convenience function for checking if a value is a native JS function\n *\n * @param f - any value\n * @returns true if f is a native JS function, otherwise false\n */\nfunction isNativeFunction(f) {\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n  var funcMatchString = Function.prototype.toString.call(Object.prototype.hasOwnProperty)\n    .replace(reRegExpChar, '\\\\$&')\n    .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?');\n  var reIsNative = RegExp('^' + funcMatchString + '$');\n  return isObject(f) && reIsNative.test(f);\n}\n\n/* isObject - Checks if the argument is an object\n *\n * @param value - any value\n * @returns true is value is an object function is an object)\n*/\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/* isString - Checks if the argument is a string\n *\n * @param value - any value\n * @returns true if value is a string\n*/\nfunction isString(value) {\n  return typeof value === 'string' || value instanceof String\n}\n\n/*\n * isDefined - a convenience function for checking if a value is not equal to undefined\n *\n * @param u - any value\n * @returns true if u is anything other than undefined\n */\nfunction isDefined(u) {\n  return !isType(u, 'undefined');\n}\n\n/*\n * isIterable - convenience function for checking if a value can be iterated, essentially\n * whether it is an object or an array.\n *\n * @param i - any value\n * @returns true if i is an object or an array as determined by `typeName`\n */\nfunction isIterable(i) {\n  var type = typeName(i);\n  return (type === 'object' || type === 'array');\n}\n\n/*\n * isError - convenience function for checking if a value is of an error type\n *\n * @param e - any value\n * @returns true if e is an error\n */\nfunction isError(e) {\n  // Detect both Error and Firefox Exception type\n  return isType(e, 'error') || isType(e, 'exception');\n}\n\nfunction traverse(obj, func, seen) {\n  var k, v, i;\n  var isObj = isType(obj, 'object');\n  var isArray = isType(obj, 'array');\n  var keys = [];\n\n  if (isObj && seen.indexOf(obj) !== -1) {\n    return obj;\n  }\n  seen.push(obj);\n\n  if (isObj) {\n    for (k in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, k)) {\n        keys.push(k);\n      }\n    }\n  } else if (isArray) {\n    for (i = 0; i < obj.length; ++i) {\n      keys.push(i);\n    }\n  }\n\n  var result = isObj ? {} : [];\n  var same = true;\n  for (i = 0; i < keys.length; ++i) {\n    k = keys[i];\n    v = obj[k];\n    result[k] = func(k, v, seen);\n    same = same && result[k] === obj[k];\n  }\n\n  return (keys.length != 0 && !same) ? result : obj;\n}\n\nfunction redact() {\n  return '********';\n}\n\n// from http://stackoverflow.com/a/8809472/1138191\nfunction uuid4() {\n  var d = now();\n  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === 'x' ? r : (r & 0x7 | 0x8)).toString(16);\n  });\n  return uuid;\n}\n\nvar LEVELS = {\n  debug: 0,\n  info: 1,\n  warning: 2,\n  error: 3,\n  critical: 4\n};\n\nfunction sanitizeUrl(url) {\n  var baseUrlParts = parseUri(url);\n  if (!baseUrlParts) {\n    return '(unknown)';\n  }\n\n  // remove a trailing # if there is no anchor\n  if (baseUrlParts.anchor === '') {\n    baseUrlParts.source = baseUrlParts.source.replace('#', '');\n  }\n\n  url = baseUrlParts.source.replace('?' + baseUrlParts.query, '');\n  return url;\n}\n\nvar parseUriOptions = {\n  strictMode: false,\n  key: [\n    'source',\n    'protocol',\n    'authority',\n    'userInfo',\n    'user',\n    'password',\n    'host',\n    'port',\n    'relative',\n    'path',\n    'directory',\n    'file',\n    'query',\n    'anchor'\n  ],\n  q: {\n    name: 'queryKey',\n    parser: /(?:^|&)([^&=]*)=?([^&]*)/g\n  },\n  parser: {\n    strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n    loose: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n  }\n};\n\nfunction parseUri(str) {\n  if (!isType(str, 'string')) {\n    return undefined;\n  }\n\n  var o = parseUriOptions;\n  var m = o.parser[o.strictMode ? 'strict' : 'loose'].exec(str);\n  var uri = {};\n\n  for (var i = 0, l = o.key.length; i < l; ++i) {\n    uri[o.key[i]] = m[i] || '';\n  }\n\n  uri[o.q.name] = {};\n  uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {\n    if ($1) {\n      uri[o.q.name][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\nfunction addParamsAndAccessTokenToPath(accessToken, options, params) {\n  params = params || {};\n  params.access_token = accessToken;\n  var paramsArray = [];\n  var k;\n  for (k in params) {\n    if (Object.prototype.hasOwnProperty.call(params, k)) {\n      paramsArray.push([k, params[k]].join('='));\n    }\n  }\n  var query = '?' + paramsArray.sort().join('&');\n\n  options = options || {};\n  options.path = options.path || '';\n  var qs = options.path.indexOf('?');\n  var h = options.path.indexOf('#');\n  var p;\n  if (qs !== -1 && (h === -1 || h > qs)) {\n    p = options.path;\n    options.path = p.substring(0,qs) + query + '&' + p.substring(qs+1);\n  } else {\n    if (h !== -1) {\n      p = options.path;\n      options.path = p.substring(0,h) + query + p.substring(h);\n    } else {\n      options.path = options.path + query;\n    }\n  }\n}\n\nfunction formatUrl(u, protocol) {\n  protocol = protocol || u.protocol;\n  if (!protocol && u.port) {\n    if (u.port === 80) {\n      protocol = 'http:';\n    } else if (u.port === 443) {\n      protocol = 'https:';\n    }\n  }\n  protocol = protocol || 'https:';\n\n  if (!u.hostname) {\n    return null;\n  }\n  var result = protocol + '//' + u.hostname;\n  if (u.port) {\n    result = result + ':' + u.port;\n  }\n  if (u.path) {\n    result = result + u.path;\n  }\n  return result;\n}\n\nfunction stringify(obj, backup) {\n  var value, error;\n  try {\n    value = RollbarJSON.stringify(obj);\n  } catch (jsonError) {\n    if (backup && isFunction(backup)) {\n      try {\n        value = backup(obj);\n      } catch (backupError) {\n        error = backupError;\n      }\n    } else {\n      error = jsonError;\n    }\n  }\n  return {error: error, value: value};\n}\n\nfunction maxByteSize(string) {\n  // The transport will use utf-8, so assume utf-8 encoding.\n  //\n  // This minimal implementation will accurately count bytes for all UCS-2 and\n  // single code point UTF-16. If presented with multi code point UTF-16,\n  // which should be rare, it will safely overcount, not undercount.\n  //\n  // While robust utf-8 encoders exist, this is far smaller and far more performant.\n  // For quickly counting payload size for truncation, smaller is better.\n\n  var count = 0;\n  var length = string.length;\n\n  for (var i = 0; i < length; i++) {\n    var code = string.charCodeAt(i);\n    if (code < 128) { // up to 7 bits\n      count = count + 1;\n    } else if (code < 2048) { // up to 11 bits\n      count = count + 2;\n    } else if (code < 65536) { // up to 16 bits\n      count = count + 3;\n    }\n  }\n\n  return count;\n}\n\nfunction jsonParse(s) {\n  var value, error;\n  try {\n    value = RollbarJSON.parse(s);\n  } catch (e) {\n    error = e;\n  }\n  return {error: error, value: value};\n}\n\nfunction makeUnhandledStackInfo(\n  message,\n  url,\n  lineno,\n  colno,\n  error,\n  mode,\n  backupMessage,\n  errorParser\n) {\n  var location = {\n    url: url || '',\n    line: lineno,\n    column: colno\n  };\n  location.func = errorParser.guessFunctionName(location.url, location.line);\n  location.context = errorParser.gatherContext(location.url, location.line);\n  var href = document && document.location && document.location.href;\n  var useragent = window && window.navigator && window.navigator.userAgent;\n  return {\n    'mode': mode,\n    'message': error ? String(error) : (message || backupMessage),\n    'url': href,\n    'stack': [location],\n    'useragent': useragent\n  };\n}\n\nfunction wrapCallback(logger, f) {\n  return function(err, resp) {\n    try {\n      f(err, resp);\n    } catch (e) {\n      logger.error(e);\n    }\n  };\n}\n\nfunction createItem(args, logger, notifier, requestKeys, lambdaContext) {\n  var message, err, custom, callback, request;\n  var arg;\n  var extraArgs = [];\n  var diagnostic = {};\n  var argTypes = [];\n\n  for (var i = 0, l = args.length; i < l; ++i) {\n    arg = args[i];\n\n    var typ = typeName(arg);\n    argTypes.push(typ);\n    switch (typ) {\n      case 'undefined':\n        break;\n      case 'string':\n        message ? extraArgs.push(arg) : message = arg;\n        break;\n      case 'function':\n        callback = wrapCallback(logger, arg);\n        break;\n      case 'date':\n        extraArgs.push(arg);\n        break;\n      case 'error':\n      case 'domexception':\n      case 'exception': // Firefox Exception type\n        err ? extraArgs.push(arg) : err = arg;\n        break;\n      case 'object':\n      case 'array':\n        if (arg instanceof Error || (typeof DOMException !== 'undefined' && arg instanceof DOMException)) {\n          err ? extraArgs.push(arg) : err = arg;\n          break;\n        }\n        if (requestKeys && typ === 'object' && !request) {\n          for (var j = 0, len = requestKeys.length; j < len; ++j) {\n            if (arg[requestKeys[j]] !== undefined) {\n              request = arg;\n              break;\n            }\n          }\n          if (request) {\n            break;\n          }\n        }\n        custom ? extraArgs.push(arg) : custom = arg;\n        break;\n      default:\n        if (arg instanceof Error || (typeof DOMException !== 'undefined' && arg instanceof DOMException)) {\n          err ? extraArgs.push(arg) : err = arg;\n          break;\n        }\n        extraArgs.push(arg);\n    }\n  }\n\n  if (extraArgs.length > 0) {\n    // if custom is an array this turns it into an object with integer keys\n    custom = merge(custom);\n    custom.extraArgs = extraArgs;\n  }\n\n  var item = {\n    message: message,\n    err: err,\n    custom: custom,\n    timestamp: now(),\n    callback: callback,\n    notifier: notifier,\n    diagnostic: diagnostic,\n    uuid: uuid4()\n  };\n\n  setCustomItemKeys(item, custom);\n\n  if (requestKeys && request) {\n    item.request = request;\n  }\n  if (lambdaContext) {\n    item.lambdaContext = lambdaContext;\n  }\n  item._originalArgs = args;\n  item.diagnostic.original_arg_types = argTypes;\n  return item;\n}\n\nfunction setCustomItemKeys(item, custom) {\n  if (custom && custom.level !== undefined) {\n    item.level = custom.level;\n    delete custom.level;\n  }\n  if (custom && custom.skipFrames !== undefined) {\n    item.skipFrames = custom.skipFrames;\n    delete custom.skipFrames;\n  }\n}\n\nvar TELEMETRY_TYPES = ['log', 'network', 'dom', 'navigation', 'error', 'manual'];\nvar TELEMETRY_LEVELS = ['critical', 'error', 'warning', 'info', 'debug'];\n\nfunction arrayIncludes(arr, val) {\n  for (var k = 0; k < arr.length; ++k) {\n    if (arr[k] === val) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction createTelemetryEvent(args) {\n  var type, metadata, level;\n  var arg;\n\n  for (var i = 0, l = args.length; i < l; ++i) {\n    arg = args[i];\n\n    var typ = typeName(arg);\n    switch (typ) {\n      case 'string':\n        if (!type && arrayIncludes(TELEMETRY_TYPES, arg)) {\n          type = arg;\n        } else if (!level && arrayIncludes(TELEMETRY_LEVELS, arg)) {\n          level = arg;\n        }\n        break;\n      case 'object':\n        metadata = arg;\n        break;\n      default:\n        break;\n    }\n  }\n  var event = {\n    type: type || 'manual',\n    metadata: metadata || {},\n    level: level\n  };\n\n  return event;\n}\n\n/*\n * get - given an obj/array and a keypath, return the value at that keypath or\n *       undefined if not possible.\n *\n * @param obj - an object or array\n * @param path - a string of keys separated by '.' such as 'plugin.jquery.0.message'\n *    which would correspond to 42 in `{plugin: {jquery: [{message: 42}]}}`\n */\nfunction get(obj, path) {\n  if (!obj) {\n    return undefined;\n  }\n  var keys = path.split('.');\n  var result = obj;\n  try {\n    for (var i = 0, len = keys.length; i < len; ++i) {\n      result = result[keys[i]];\n    }\n  } catch (e) {\n    result = undefined;\n  }\n  return result;\n}\n\nfunction set(obj, path, value) {\n  if (!obj) {\n    return;\n  }\n  var keys = path.split('.');\n  var len = keys.length;\n  if (len < 1) {\n    return;\n  }\n  if (len === 1) {\n    obj[keys[0]] = value;\n    return;\n  }\n  try {\n    var temp = obj[keys[0]] || {};\n    var replacement = temp;\n    for (var i = 1; i < len - 1; ++i) {\n      temp[keys[i]] = temp[keys[i]] || {};\n      temp = temp[keys[i]];\n    }\n    temp[keys[len-1]] = value;\n    obj[keys[0]] = replacement;\n  } catch (e) {\n    return;\n  }\n}\n\nfunction scrub(data, scrubFields) {\n  scrubFields = scrubFields || [];\n  var paramRes = _getScrubFieldRegexs(scrubFields);\n  var queryRes = _getScrubQueryParamRegexs(scrubFields);\n\n  function redactQueryParam(dummy0, paramPart) {\n    return paramPart + redact();\n  }\n\n  function paramScrubber(v) {\n    var i;\n    if (isType(v, 'string')) {\n      for (i = 0; i < queryRes.length; ++i) {\n        v = v.replace(queryRes[i], redactQueryParam);\n      }\n    }\n    return v;\n  }\n\n  function valScrubber(k, v) {\n    var i;\n    for (i = 0; i < paramRes.length; ++i) {\n      if (paramRes[i].test(k)) {\n        v = redact();\n        break;\n      }\n    }\n    return v;\n  }\n\n  function scrubber(k, v, seen) {\n    var tmpV = valScrubber(k, v);\n    if (tmpV === v) {\n      if (isType(v, 'object') || isType(v, 'array')) {\n        return traverse(v, scrubber, seen);\n      }\n      return paramScrubber(tmpV);\n    } else {\n      return tmpV;\n    }\n  }\n\n  return traverse(data, scrubber, []);\n}\n\nfunction _getScrubFieldRegexs(scrubFields) {\n  var ret = [];\n  var pat;\n  for (var i = 0; i < scrubFields.length; ++i) {\n    pat = '^\\\\[?(%5[bB])?' + scrubFields[i] + '\\\\[?(%5[bB])?\\\\]?(%5[dD])?$';\n    ret.push(new RegExp(pat, 'i'));\n  }\n  return ret;\n}\n\n\nfunction _getScrubQueryParamRegexs(scrubFields) {\n  var ret = [];\n  var pat;\n  for (var i = 0; i < scrubFields.length; ++i) {\n    pat = '\\\\[?(%5[bB])?' + scrubFields[i] + '\\\\[?(%5[bB])?\\\\]?(%5[dD])?';\n    ret.push(new RegExp('(' + pat + '=)([^&\\\\n]+)', 'igm'));\n  }\n  return ret;\n}\n\nfunction formatArgsAsString(args) {\n  var i, len, arg;\n  var result = [];\n  for (i = 0, len = args.length; i < len; ++i) {\n    arg = args[i];\n    switch (typeName(arg)) {\n      case 'object':\n        arg = stringify(arg);\n        arg = arg.error || arg.value;\n        if (arg.length > 500) {\n          arg = arg.substr(0, 497) + '...';\n        }\n        break;\n      case 'null':\n        arg = 'null';\n        break;\n      case 'undefined':\n        arg = 'undefined';\n        break;\n      case 'symbol':\n        arg = arg.toString();\n        break;\n    }\n    result.push(arg);\n  }\n  return result.join(' ');\n}\n\nfunction now() {\n  if (Date.now) {\n    return +Date.now();\n  }\n  return +new Date();\n}\n\nfunction filterIp(requestData, captureIp) {\n  if (!requestData || !requestData['user_ip'] || captureIp === true) {\n    return;\n  }\n  var newIp = requestData['user_ip'];\n  if (!captureIp) {\n    newIp = null;\n  } else {\n    try {\n      var parts;\n      if (newIp.indexOf('.') !== -1) {\n        parts = newIp.split('.');\n        parts.pop();\n        parts.push('0');\n        newIp = parts.join('.');\n      } else if (newIp.indexOf(':') !== -1) {\n        parts = newIp.split(':');\n        if (parts.length > 2) {\n          var beginning = parts.slice(0, 3);\n          var slashIdx = beginning[2].indexOf('/');\n          if (slashIdx !== -1) {\n            beginning[2] = beginning[2].substring(0, slashIdx);\n          }\n          var terminal = '0000:0000:0000:0000:0000';\n          newIp = beginning.concat(terminal).join(':');\n        }\n      } else {\n        newIp = null;\n      }\n    } catch (e) {\n      newIp = null;\n    }\n  }\n  requestData['user_ip'] = newIp;\n}\n\nfunction handleOptions(current, input, payload) {\n  var result = merge(current, input, payload);\n  if (!input || input.overwriteScrubFields) {\n    return result;\n  }\n  if (input.scrubFields) {\n    result.scrubFields = (current.scrubFields || []).concat(input.scrubFields);\n  }\n  return result;\n}\n\nmodule.exports = {\n  addParamsAndAccessTokenToPath: addParamsAndAccessTokenToPath,\n  createItem: createItem,\n  createTelemetryEvent: createTelemetryEvent,\n  filterIp: filterIp,\n  formatArgsAsString: formatArgsAsString,\n  formatUrl: formatUrl,\n  get: get,\n  handleOptions: handleOptions,\n  isError: isError,\n  isFunction: isFunction,\n  isIterable: isIterable,\n  isNativeFunction: isNativeFunction,\n  isType: isType,\n  isObject: isObject,\n  isString: isString,\n  jsonParse: jsonParse,\n  LEVELS: LEVELS,\n  makeUnhandledStackInfo: makeUnhandledStackInfo,\n  merge: merge,\n  now: now,\n  redact: redact,\n  sanitizeUrl: sanitizeUrl,\n  scrub: scrub,\n  set: set,\n  stringify: stringify,\n  maxByteSize: maxByteSize,\n  traverse: traverse,\n  typeName: typeName,\n  uuid4: uuid4\n};\n","module.exports = require(\"vscode\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"https\");","module.exports = require(\"fs\");","'use strict';\r\n\r\nconst vscode = require('vscode');\r\nconst cp = require('child_process');\r\nconst os = require('os');\r\n\r\nconst compact = a => a.filter(v => v && v !== '');\r\n\r\nconst uniq = a => a.reduce((m, v) => m.indexOf(v) === -1 ? m.concat(v) : m, []);\r\n\r\nconst flatten = a =>\r\n  a.reduce((m, o) => m.concat(Array.isArray(o) ? flatten(o) : o), []);\r\n\r\nconst head = a => a[0];\r\nconst last = a => a[a.length - 1];\r\nconst log = v => (console.log(v), v);\r\n\r\nconst evalPath = (o, ...path) =>\r\n  path.reduce((m, k) => {\r\n    if (k === '*' && m) { k = head(Object.keys(m)); }\r\n    return m && typeof m[k] !== 'undefined' ? m[k] : undefined;\r\n  }, o);\r\n\r\nconst detailLang = o =>\r\n  o && o.language_details\r\n    ? head(Object.keys(o.language_details)).toLowerCase()\r\n    : 'python';\r\n\r\nconst detailGet = (o, ...k) => evalPath(o, 'language_details', '*', ...k);\r\n\r\nconst detailExist = (o, ...k) => detailGet(o, ...k) != null;\r\n\r\nconst detailNotEmpty = (o, ...k) => {\r\n  const v = detailGet(o, ...k);\r\n  return v != null && v.length > 0;\r\n};\r\n\r\nconst getDetails = (o, ...details) =>\r\no.detail || (o.details && details.reduce((m, k) => {\r\n  return m || o.details[k];\r\n}, null));\r\n\r\nconst getFunctionDetails = (o) => {\r\n  const type = head(Object.keys(o.details).filter(k => o.details[k]));\r\n  if (type === 'function') {\r\n    return o.details.function;\r\n  } else if (type === 'type') {\r\n    return detailGet(o.details.type, 'constructor');\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nconst merge = (a, b) => {\r\n  const c = {};\r\n  for (const k in a) { c[k] = a[k]; }\r\n  for (const k in b) { c[k] = b[k]; }\r\n  return c;\r\n};\r\n\r\nconst stripTags = s => s.replace(/<[^>]+>/g, '');\r\n\r\nconst truncate = (s, l = 200) =>\r\n  s && s.length > l\r\n    ? s.slice(0, l) + '…'\r\n    : s;\r\n\r\nfunction parseJSON(data, fallback) {\r\n  try {\r\n    return JSON.parse(data);\r\n  } catch (e) {\r\n    return fallback;\r\n  }\r\n}\r\n\r\n// get time in seconds since the date\r\nfunction secondsSince(when) {\r\n  var now = new Date();\r\n  return (now.getTime() - when.getTime()) / 1000.0;\r\n}\r\n\r\nfunction promisifyRequest(request) {\r\n  return request.then\r\n    ? request\r\n    : new Promise((resolve, reject) => {\r\n      request.on('response', resp => resolve(resp));\r\n      request.on('error', err => reject(err));\r\n    });\r\n}\r\n\r\nfunction promisifyReadResponse(response) {\r\n  return new Promise((resolve, reject) => {\r\n    let data = '';\r\n    response.on('data', chunk => data += chunk);\r\n    response.on('end', () => resolve(data));\r\n    response.on('error', err => reject(err));\r\n  });\r\n}\r\n\r\nfunction delayPromise(factory, timeout) {\r\n  return new Promise((resolve, reject) => {\r\n    setTimeout(() => {\r\n      factory().then(resolve, reject);\r\n    }, timeout);\r\n  });\r\n}\r\n\r\nconst stopPropagationAndDefault = f => function(e) {\r\n  e.stopPropagation();\r\n  e.preventDefault();\r\n  return f && f.call(this, e);\r\n};\r\n\r\nconst editorsForDocument = document =>\r\n  vscode.window.visibleTextEditors.filter(e => e.document === document);\r\n\r\nfunction params (url) {\r\n  return url.query.split('&').reduce((m, p) => {\r\n    const [k,v] = p.split('=');\r\n    m[k] = v;\r\n    return m;\r\n  }, {})\r\n};\r\n\r\nconst escapeCommandArguments = (o) => {\r\n  if(vscode.version < \"1.30.0\") {\r\n    return JSON.stringify(o).replace(/\"/g, '&quot;');\r\n  }\r\n  return JSON.stringify(o)\r\n}\r\n\r\nconst kiteOpen = (url) => {\r\n  const env = Object.assign({}, process.env)\r\n  delete env[\"ELECTRON_RUN_AS_NODE\"]\r\n  switch(os.platform()) {\r\n    case 'darwin':\r\n      cp.spawnSync(\"open\", [url], {env: env})\r\n      break;\r\n    case 'win32':\r\n      cp.spawnSync(\"cmd\", [\"/b\", \"/c\", \"start\",\"\", url], {env: env});\r\n      break;\r\n    case 'linux':\r\n      cp.spawnSync(\"xdg-open\", [url], {env: env});\r\n  }\r\n}\r\n\r\nconst getSupportedLanguage = document => {\r\n  if (document.isUntitled) {\r\n    return null;\r\n  }\r\n\r\n  const ext = document.fileName.split(\".\").slice(-1)[0];\r\n  switch (ext) {\r\n    case \"py\":\r\n      return \"python\";\r\n    case \"go\":\r\n      return \"go\";\r\n    case \"js\":\r\n    case \"jsx\":\r\n    case \"vue\":\r\n      return \"javascript\";\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  compact,\r\n  delayPromise,\r\n  flatten,\r\n  head,\r\n  last,\r\n  log,\r\n  escapeCommandArguments,\r\n  detailExist,\r\n  detailGet,\r\n  detailLang,\r\n  detailNotEmpty,\r\n  parseJSON,\r\n  promisifyReadResponse,\r\n  promisifyRequest,\r\n  secondsSince,\r\n  stopPropagationAndDefault,\r\n  truncate,\r\n  uniq,\r\n  stripTags,\r\n  editorsForDocument,\r\n  params,\r\n  merge,\r\n  getDetails,\r\n  getFunctionDetails,\r\n  kiteOpen,\r\n  getSupportedLanguage,\r\n};\r\n","'use strict';\n\nconst http = require('http');\nconst https = require('https');\nconst child_process = require('child_process');\nconst KiteRequestError = require('./kite-request-error');\nconst KiteProcessError = require('./kite-process-error');\n\nfunction deepMerge(a, b) {\n  a = JSON.parse(JSON.stringify(a || {}));\n  b = JSON.parse(JSON.stringify(b || {}));\n  const c = Object.assign({}, a);\n\n  Object.keys(b).forEach(k => {\n    if (c[k] && typeof c[k] == 'object') {\n      c[k] = deepMerge(c[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  });\n\n  return c;\n}\n\nfunction promisifyRequest(request) {\n  return new Promise((resolve, reject) => {\n    request.on('response', resp => resolve(resp));\n    request.on('error', err => reject(err));\n  });\n}\n\nfunction promisifyStream(stream) {\n  return new Promise((resolve, reject) => {\n    stream.on('finish', () => resolve());\n    stream.on('error', err => reject(err));\n  });\n}\n\nfunction request(url) {\n  return url.indexOf('https://') === 0\n    ? https.request(url)\n    : http.request(url);\n}\n\nfunction hasHeader(header, headers) {\n  return header in headers ? header : false;\n}\n\nfunction isRedirection(resp) {\n  return resp.statusCode >= 300 &&\n    resp.statusCode < 400 &&\n    hasHeader('location', resp.headers);\n}\n\n// Given a request this function will follow the redirection until a\n// code different that 303 is returned\nfunction followRedirections(req) {\n  return promisifyRequest(req)\n    .then(resp => {\n      if (resp.statusCode >= 200 && resp.statusCode < 300) {\n        return resp;\n      } else if (isRedirection(resp)) {\n        const location = resp.headers.location;\n        const req = request(location);\n        req.end();\n        return followRedirections(req);\n      } else {\n        throw new KiteRequestError('Invalid response status when following redirection', {\n          request: req,\n          response: resp,\n          responseStatus: resp.statusCode,\n        });\n      }\n    });\n}\n\nfunction parseSetCookies(cookies) {\n  if (!Array.isArray(cookies) || !cookies.length) {\n    return [];\n  }\n  var parse = (cookie) => {\n    var parsed = {\n      Path: '',\n      Domain: '',\n      Expires: new Date('0001-01-01T00:00:00Z'),\n      RawExpires: '',\n      MaxAge: 0,\n      Secure: false,\n      HttpOnly: false,\n      Raw: '',\n      Unparsed: null,\n    };\n    cookie.split('; ').forEach((raw) => {\n      if (raw === 'HttpOnly') {\n        parsed.HttpOnly = true;\n        return;\n      }\n      if (raw === 'Secure') {\n        parsed.Secure = true;\n        return;\n      }\n      var idx = raw.indexOf('=');\n      var key = raw.substring(0, idx);\n      var val = raw.substring(idx + 1);\n      if (key === 'Expires') {\n        val = new Date(val);\n      }\n      if (key in parsed) {\n        parsed[key] = val;\n      } else {\n        parsed.Name = key;\n        parsed.Value = val;\n      }\n    });\n    return parsed;\n  };\n  return cookies.map(parse);\n}\n\nfunction findCookie(cookies, name) {\n  return cookies.filter(c => c.Name === name)[0];\n}\n\nfunction dumpCookies(cookies) {\n  return cookies.map((c) => c.Name + '=' + c.Value).join('; ');\n}\n\nfunction handleResponseData(resp, callback) {\n  if (callback) {\n    let data = '';\n    resp.on('data', (chunk) => data += chunk);\n    resp.on('end', () => callback(data));\n    return null;\n  } else {\n    return new Promise((resolve, reject) => {\n      let data = '';\n      resp.on('data', (chunk) => data += chunk);\n      resp.on('error', err => reject(err));\n      resp.on('end', () => resolve(data));\n    });\n  }\n}\n\n// Returns a new Promise that resolve if the passed-in promise is rejected and\n// will be rejected with the provided error if the passed-in promise resolve.\nfunction reversePromise(promise, rejectionMessage, resolutionMessage) {\n  return new Promise((resolve, reject) => {\n    promise\n      .then(() => reject(rejectionMessage))\n      .catch(() => resolve(resolutionMessage));\n  });\n}\n\n// Given a function returning a promise, it returns a new Promise that will be\n// resolved if one of the promises returned by the function resolves. If no\n// promises have been resolved after the specified amount of attempts the\n// returned promise will be rejected\nfunction retryPromise(doAttempt, attempts, interval) {\n  return new Promise((resolve, reject) => {\n    makeAttempt(0, resolve, reject);\n  });\n\n  function makeAttempt(n, resolve, reject) {\n    var retryOrReject = (err) => {\n      n + 1 >= attempts\n        ? reject(err)\n        : makeAttempt(n + 1, resolve, reject);\n    };\n    setTimeout(() =>\n      doAttempt().then(resolve, retryOrReject),\n    n ? interval : 0);\n  }\n}\n\n// Spawns a child process and returns a promise that will be resolved if\n// the process ends with a code of 0, otherwise the promise will be rejected\n// with an error object of the provided rejectionType.\nfunction spawnPromise(cmd, cmdArgs, cmdOptions, rejectionType, rejectionMessage) {\n  const args = [cmd];\n\n  if (cmdArgs) {\n    if (typeof cmdArgs === 'string') {\n      rejectionType = cmdArgs;\n      rejectionMessage = cmdOptions;\n    } else {\n      args.push(cmdArgs);\n    }\n  }\n\n  if (cmdOptions) {\n    if (typeof cmdOptions === 'string') {\n      rejectionMessage = rejectionType;\n      rejectionType = cmdOptions;\n    } else {\n      args.push(cmdOptions);\n    }\n  }\n\n  return new Promise((resolve, reject) => {\n    const proc = child_process.spawn(...args);\n    let stdout = '';\n    let stderr = '';\n\n    proc.stdout.on('data', data => stdout += data);\n    proc.stderr.on('data', data => stdout += data);\n\n    const error = new Error();\n\n    proc.on('error', _ => {\n      reject(new KiteProcessError(rejectionType,\n        {\n          message: rejectionMessage + 'for args: ' + args,\n          stderr,\n          stdout,\n          callStack: error.stack,\n          cmd: `${cmd} ${(typeof cmdOptions != 'string' ? cmdArgs || [] : []).join(' ')}`,\n          options: typeof cmdOptions != 'string' ? cmdOptions : undefined,\n        }));\n    });\n\n    proc.on('close', code => {\n      code\n        ? reject(new KiteProcessError(rejectionType,\n          {\n            message: rejectionMessage,\n            stderr,\n            stdout,\n            callStack: error.stack,\n            cmd: `${cmd} ${(typeof cmdOptions != 'string' ? cmdArgs || [] : []).join(' ')}`,\n            options: typeof cmdOptions != 'string' ? cmdOptions : undefined,\n          }))\n        : resolve(stdout);\n    });\n  });\n}\n\nfunction anyPromise(arrayOfPromises) {\n  // For each promise that resolves or rejects,\n  // make them all resolve.\n  // Record which ones did resolve or reject\n  const resolvingPromises = arrayOfPromises.map(promise => {\n    return promise\n      .then(result => ({ resolve: true, result: result }))\n      .catch(error => ({ resolve: false, result: error }));\n  });\n\n  return Promise.all(resolvingPromises).then(results => {\n    const resolved = results.reduce((m, r) => {\n      if (m) { return m; }\n      if (r.resolve) { return r; }\n      return null;\n    }, null);\n\n\n    if (resolved) {\n      return resolved.result;\n    } else {\n      throw results.map(r => r.result);\n    }\n  });\n}\n\n// Exec a child process and returns a promise that will be resolved if\n// the process ends with success, otherwise the promise will be rejected\n// with an error object of the provided rejectionType.\nfunction execPromise(cmd, cmdOptions, rejectionType, rejectionMessage) {\n  const args = [cmd];\n\n  if (cmdOptions) {\n    if (cmdOptions === 'string') {\n      rejectionMessage = rejectionType;\n      rejectionType = cmdOptions;\n      cmdOptions = {};\n    }\n  } else {\n    cmdOptions = {};\n  }\n\n  args.push(cmdOptions);\n\n  const error = new Error();\n\n  return new Promise((resolve, reject) => {\n    child_process.exec(...args, (err, stdout, stderr) => {\n      if (err) {\n        reject(new KiteProcessError(rejectionType,\n          {\n            message: rejectionMessage,\n            stdout,\n            stderr,\n            callStack: error.stack,\n            cmd,\n            options: typeof cmdOptions != 'string' ? cmdOptions : undefined,\n          }));\n      }\n      resolve(stdout);\n    });\n  });\n}\n\n// Calls the passed-in function if its actually a function.\nfunction guardCall(fn) { typeof fn === 'function' && fn(); }\n\n// Attempts to parse a json string and returns the fallback if it can't.\nfunction parseJSON(json, fallback) {\n  try { return JSON.parse(json) || fallback; } catch (e) { return fallback; }\n}\n\n// evaluates whether a particular path should have extra processing\n// done on it in the case of a Promise rejection\n// NB: this should be taken out with a more robust refactor\nfunction shouldAddCatchProcessing(path) {\n  return !path.startsWith('/clientapi/editor');\n}\n\n// should be wrapped in try/catch\nfunction whoami() {\n  return String(child_process.execSync('whoami')).trim();\n}\n\nmodule.exports = {\n  anyPromise,\n  deepMerge,\n  dumpCookies,\n  execPromise,\n  findCookie,\n  followRedirections,\n  guardCall,\n  handleResponseData,\n  parseJSON,\n  parseSetCookies,\n  promisifyRequest,\n  promisifyStream,\n  retryPromise,\n  reversePromise,\n  shouldAddCatchProcessing,\n  spawnPromise,\n  whoami,\n};\n","'use strict';\r\nconst vscode = require('vscode');\r\nconst md5 = require('md5');\r\nconst { head } = require('./utils');\r\n\r\nfunction metricsCounterPath() {\r\n  return '/clientapi/metrics/counters';\r\n}\r\n\r\nfunction languagesPath() {\r\n  return '/clientapi/languages';\r\n}\r\n\r\nfunction accountPath() {\r\n  return '/api/account/user';\r\n}\r\n\r\nfunction statusPath(path) {\r\n  return [\r\n    '/clientapi/status',\r\n    `filename=${encodeURI(normalizeDriveLetter(path))}`,\r\n  ].join('?');\r\n}\r\n\r\nfunction signaturePath() {\r\n  return '/clientapi/editor/signatures';\r\n}\r\n\r\nfunction searchPath(query, offset = 0, limit = 10) {\r\n  return [\r\n    '/api/editor/search',\r\n    [\r\n      `q=${encodeURI(query)}`,\r\n      `offset=${offset}`,\r\n      `limit=${limit}`,\r\n    ].join('&'),\r\n  ].join('?');\r\n}\r\n\r\nfunction projectDirPath(path) {\r\n  return [\r\n    '/clientapi/projectdir',\r\n    `filename=${encodeURI(normalizeDriveLetter(path))}`,\r\n  ].join('?');\r\n}\r\n\r\nfunction shouldNotifyPath(path) {\r\n  return [\r\n    '/clientapi/permissions/notify',\r\n    `filename=${encodeURI(normalizeDriveLetter(path))}`,\r\n  ].join('?');\r\n}\r\n\r\nfunction settingsPath(key) {\r\n  return '/clientapi/settings/' + key\r\n}\r\n\r\nfunction completionsPath() {\r\n  return '/clientapi/editor/complete';\r\n}\r\n\r\nfunction reportPath(data) {\r\n  const symbol = head(data.symbol);\r\n\r\n  return valueReportPath(symbol.id);\r\n}\r\n\r\nfunction valueReportPath(id) {\r\n  return `/api/editor/value/${id}`;\r\n}\r\n\r\nfunction symbolReportPath(id) {\r\n  return `/api/editor/symbol/${id}`;\r\n}\r\n\r\nfunction membersPath(id, page = 0, limit = 999) {\r\n  return [\r\n    `/api/editor/value/${id}/members`,\r\n    [\r\n      `offset=${page}`,\r\n      `limit=${limit}`,\r\n    ].join('&'),\r\n  ].join('?');\r\n}\r\n\r\nfunction usagesPath(id, page = 0, limit = 999) {\r\n  return [\r\n    `/api/editor/value/${id}/usages`,\r\n    [\r\n      `offset=${page}`,\r\n      `limit=${limit}`,\r\n    ].join('&'),\r\n  ].join('?');\r\n}\r\n\r\nfunction usagePath(id) {\r\n  return `/api/editor/usages/${id}`;\r\n}\r\n\r\nfunction examplePath(id) {\r\n  return `/api/python/curation/${id}`;\r\n}\r\n\r\nfunction openDocumentationInWebURL(id) {\r\n  const url = `http://localhost:46624/clientapi/desktoplogin?d=/docs/${escapeId(id)}`;\r\n  return url;\r\n}\r\n\r\nfunction openSignatureInWebURL(id) {\r\n  const url = `http://localhost:46624/clientapi/desktoplogin?d=/docs/${escapeId(id)}%23signature`;\r\n  return url;\r\n}\r\n\r\nfunction openExampleInWebURL(id) {\r\n  const url = `http://localhost:46624/clientapi/desktoplogin?d=/examples/python/${escapeId(id)}`;\r\n  return url;\r\n}\r\n\r\nfunction hoverPath(document, position) {\r\n  position = new vscode.Position(position.line, position.character);\r\n  const state = md5(document.getText());\r\n  const filename = document.fileName;\r\n  const buffer = cleanPath(filename);\r\n  const pos = document.offsetAt(position);\r\n  const encoding = 'utf-16'\r\n  return [\r\n    `/api/buffer/vscode/${buffer}/${state}/hover`,\r\n    [\r\n      `cursor_runes=${pos}`,\r\n      `offset_encoding=${encoding}`,\r\n    ].join('&'),\r\n  ].join('?');\r\n}\r\n\r\nfunction escapeId(id) {\r\n  return encodeURI(String(id)).replace(/;/g, '%3B');\r\n}\r\n\r\nfunction cleanPath(p) {\r\n  return encodeURI(normalizeDriveLetter(p))\r\n    .replace(/^([a-zA-Z]):/, (m, d) => `/windows/${d}`)\r\n    .replace(/\\/|\\\\|%5C/g, ':');\r\n}\r\n\r\nfunction serializeRangeForPath(range) {\r\n  return `${range.start.row}:${range.start.column}/${range.end.row}:${range.end.column}`;\r\n}\r\n\r\nfunction normalizeDriveLetter(str) {\r\n  return str.replace(/^[a-z]:/, m => m.toUpperCase());\r\n}\r\n\r\nmodule.exports = {\r\n  accountPath,\r\n  completionsPath,\r\n  examplePath,\r\n  hoverPath,\r\n  languagesPath,\r\n  membersPath,\r\n  metricsCounterPath,\r\n  normalizeDriveLetter,\r\n  openDocumentationInWebURL,\r\n  openExampleInWebURL,\r\n  openSignatureInWebURL,\r\n  projectDirPath,\r\n  reportPath,\r\n  searchPath,\r\n  serializeRangeForPath,\r\n  shouldNotifyPath,\r\n  settingsPath,\r\n  signaturePath,\r\n  statusPath,\r\n  symbolReportPath,\r\n  usagePath,\r\n  usagesPath,\r\n  valueReportPath,\r\n};\r\n","module.exports = require(\"child_process\");","module.exports = require(\"http\");","'use strict';\n\nmodule.exports = class KiteStateError extends Error {\n  get type() { return 'bad_state'; }\n  \n  constructor(message, data) {\n    super(message);\n    this.data = data;\n    Error.captureStackTrace(this, this.constructor);\n  }\n};\n","module.exports = require(\"util\");","'use strict';\n\nmodule.exports = {\n  STATES: {\n    UNSUPPORTED: 0,\n    UNINSTALLED: 1,\n    NOT_RUNNING: 2,\n    UNREACHABLE: 3,\n    UNLOGGED: 4,\n    READY: 4,\n\n    // legacy states, prefer the ones above for health checks\n    INSTALLED: 2,\n    RUNNING: 3,\n    REACHABLE: 4,\n    AUTHENTICATED: 4,\n  },\n\n  LEVELS: {\n    SILLY: 0,\n    VERBOSE: 1,\n    DEBUG: 2,\n    INFO: 3,\n    WARNING: 4,\n    ERROR: 5,\n  },\n};\n","'use strict';\n\nconst {LEVELS} = require('./constants');\nconst NullReporter = require('./loggers/null');\nconst ConsoleReporter = require('./loggers/console');\n\nmodule.exports =  {\n  LEVELS,\n  LEVEL: LEVELS.INFO,\n\n  output: typeof console != 'undefined' ? ConsoleReporter : NullReporter,\n\n  silly(...msgs) { this.log(LEVELS.SILLY, ...msgs); },\n  verbose(...msgs) { this.log(LEVELS.VERBOSE, ...msgs); },\n  debug(...msgs) { this.log(LEVELS.DEBUG, ...msgs); },\n  info(...msgs) { this.log(LEVELS.INFO, ...msgs); },\n  warn(...msgs) { this.log(LEVELS.WARNING, ...msgs); },\n  error(...msgs) { this.log(LEVELS.ERROR, ...msgs); },\n  log(level, ...msgs) {\n    if (level >= this.LEVEL && !this.SILENT) {\n      this.output.log(level, ...msgs);\n    }\n  },\n  logRequest() {},\n  logResponse() {},\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.]*)(?::(\\d+))?(\\S*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nfunction normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n\n  var parts = path.split(/\\/+/);\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n}\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || !!aPath.match(urlRegexp);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = mappingA.source - mappingB.source;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return mappingA.name - mappingB.name;\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = mappingA.source - mappingB.source;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return mappingA.name - mappingB.name;\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n","const vscode = require(\"vscode\");\r\n\r\nconst EVENT_SUPPORT = (fileName) => {\r\n  const path = require(\"path\");\r\n  const fileExt = path.extname(fileName);\r\n  return SUPPORTED_EXTENSIONS.includes(fileExt);\r\n};\r\n\r\nconst COMPLETIONS_SUPPORT = [\r\n  { pattern: \"**/*.{go,js,jsx,vue}\", scheme: \"file\" },\r\n  { pattern: \"**/*.{go,js,jsx,vue}\", scheme: \"untitled\" }\r\n];\r\n\r\nconst FULL_COMPLETIONS_SUPPORT = [\r\n  { pattern: \"**/*.{py}\", scheme: \"file\" },\r\n  { pattern: \"**/*.{py}\", scheme: \"untitled\" }\r\n];\r\n\r\nconst DEFINITIONS_SUPPORT = [\r\n  { pattern: \"**/*.{py}\", scheme: \"file\" },\r\n  { pattern: \"**/*.{py}\", scheme: \"untitled\" }\r\n];\r\n\r\nconst HOVER_SUPPORT = [\r\n  { pattern: \"**/*.{py}\", scheme: \"file\" },\r\n  { pattern: \"**/*.{py}\", scheme: \"untitled\" }\r\n];\r\n\r\nconst SIGNATURES_SUPPORT = [\r\n  { pattern: \"**/*.{py}\", scheme: \"file\" },\r\n  { pattern: \"**/*.{py}\", scheme: \"untitled\" }\r\n];\r\n\r\nconst SUPPORTED_EXTENSIONS = [\".go\", \".py\", \".js\", \".jsx\", \".vue\"];\r\n\r\n// MAX_FILE_SIZE is the maximum file size to send to Kite\r\nconst MAX_FILE_SIZE = 75 * Math.pow(2, 10); // 75 KB\r\n\r\n// MAX_PAYLOAD_SIZE is the maximum length for a POST reqest body\r\nconst MAX_PAYLOAD_SIZE = Math.pow(2, 21); // 2097152\r\n\r\nconst CONNECT_ERROR_LOCKOUT = 15 * 60;\r\n\r\nconst ATTEMPTS = 30;\r\n\r\nconst INTERVAL = 2500;\r\n\r\nconst ERROR_COLOR = () => {\r\n  // For the High Contrast Theme, editorWarning.foreground renders the text invisible.\r\n  return vscode.workspace\r\n    .getConfiguration(\"workbench\")\r\n    .colorTheme.includes(\"High Contrast\")\r\n    ? \"#ff0000\"\r\n    : vscode.ThemeColor(\"editorWarning.foreground\");\r\n};\r\n\r\nconst WARNING_COLOR = \"#929497\";\r\n\r\nconst KITE_BRANDING = \" 𝕜𝕚𝕥𝕖 \";\r\n\r\nconst OFFSET_ENCODING = \"utf-16\";\r\n\r\nmodule.exports = {\r\n  ATTEMPTS,\r\n  INTERVAL,\r\n  EVENT_SUPPORT,\r\n  COMPLETIONS_SUPPORT,\r\n  FULL_COMPLETIONS_SUPPORT,\r\n  DEFINITIONS_SUPPORT,\r\n  HOVER_SUPPORT,\r\n  SIGNATURES_SUPPORT,\r\n  MAX_PAYLOAD_SIZE,\r\n  MAX_FILE_SIZE,\r\n  CONNECT_ERROR_LOCKOUT,\r\n  ERROR_COLOR,\r\n  WARNING_COLOR,\r\n  SUPPORTED_EXTENSIONS,\r\n  KITE_BRANDING,\r\n  OFFSET_ENCODING\r\n};\r\n","'use strict';\n\nmodule.exports = class KiteRequestError extends Error {\n  get type() { return 'bad_status'; }\n\n  constructor(message, data) {\n    super(message);\n    this.data = data;\n    Error.captureStackTrace(this, this.constructor);\n  }\n};\n","'use strict';\n\nmodule.exports = class KiteProcessError extends Error {\n  constructor(type, data) {\n    super(type);\n    this.data = data;\n    this.message = `${type}: ${data.message}\\ncmd: ${data.cmd}`;\n    if (data.stdout) {\n      this.message += `\\nstdout: ${data.stdout}`;\n    }\n    if (data.stderr) {\n      this.message += `\\nstderr: ${data.stderr}`;\n    }\n    Error.captureStackTrace(this, this.constructor);\n  }\n};\n","module.exports = require(\"url\");","'use strict';\n\nvar verbose = true;\n\nvar logger = {\n  /* eslint-disable no-console */\n  log: function() {\n    if (verbose) {\n      console.log.apply(console, arguments);\n    }\n  },\n  error: function() {\n    if (verbose) {\n      console.error.apply(console, arguments);\n    }\n  },\n  /* eslint-enable no-console */\n  setVerbose: function(val) {\n    verbose = val;\n  }\n};\n\nmodule.exports = logger;\n","\"use strict\";\r\n\r\nconst vscode = require(\"vscode\");\r\n\r\nconst os = require(\"os\");\r\nconst opn = require(\"opn\");\r\nconst KiteAPI = require(\"kite-api\");\r\nconst Logger = require(\"kite-connector/lib/logger\");\r\nconst {\r\n  ERROR_COLOR,\r\n  EVENT_SUPPORT,\r\n  COMPLETIONS_SUPPORT,\r\n  FULL_COMPLETIONS_SUPPORT,\r\n  DEFINITIONS_SUPPORT,\r\n  HOVER_SUPPORT,\r\n  SIGNATURES_SUPPORT,\r\n  SUPPORTED_EXTENSIONS\r\n} = require(\"./constants\");\r\nconst KiteHoverProvider = require(\"./hover\");\r\nconst KiteCompletionProvider = require(\"./completion\");\r\nconst KiteSignatureProvider = require(\"./signature\");\r\nconst KiteDefinitionProvider = require(\"./definition\");\r\nconst KiteEditor = require(\"./kite-editor\");\r\nconst EditorEvents = require(\"./events\");\r\nconst localconfig = require(\"./localconfig\");\r\nconst metrics = require(\"./metrics\");\r\nconst { statusPath, hoverPath } = require(\"./urls\");\r\nconst Rollbar = require(\"rollbar\");\r\nconst {\r\n  editorsForDocument,\r\n  promisifyReadResponse,\r\n  kiteOpen\r\n} = require(\"./utils\");\r\nconst { version } = require(\"../package.json\");\r\nconst { showNotification } = require('./notifications');\r\n\r\nconst RUN_KITE_ATTEMPTS = 30;\r\nconst RUN_KITE_INTERVAL = 2500;\r\n\r\nconst Kite = {\r\n  activate(ctx) {\r\n    this.globalState = ctx.globalState\r\n    if (process.env.NODE_ENV !== \"test\") {\r\n      this._activate();\r\n      ctx.subscriptions.push(this);\r\n    }\r\n  },\r\n\r\n  _activate() {\r\n    metrics.featureRequested(\"starting\");\r\n\r\n    this.reset();\r\n\r\n    const rollbar = new Rollbar({\r\n      accessToken: \"4ca1bfd4721544e487c76583478a436a\",\r\n      payload: {\r\n        environment: process.env.NODE_ENV,\r\n        editor: \"vscode\",\r\n        kite_plugin_version: version,\r\n        os: os.type() + \" \" + os.release()\r\n      }\r\n    });\r\n\r\n    const tracker = err => {\r\n      if (err.stack.indexOf(\"kite\") > -1) {\r\n        rollbar.error(err);\r\n      }\r\n    };\r\n    process.on(\"uncaughtException\", tracker);\r\n    this.disposables.push({\r\n      dispose() {\r\n        process.removeListener(\"uncaughtException\", tracker);\r\n      }\r\n    });\r\n\r\n    Logger.LEVEL =\r\n      Logger.LEVELS[\r\n      vscode.workspace.getConfiguration(\"kite\").loggingLevel.toUpperCase()\r\n      ];\r\n\r\n    KiteAPI.isKiteInstalled().catch(err => {\r\n      if (typeof err.data !== 'undefined' && err.data.state === KiteAPI.STATES.UNINSTALLED) {\r\n        metrics.track(\"vscode_kite_installer_notification_shown\");\r\n        vscode.window\r\n          .showInformationMessage(\r\n            \"Kite requires the Kite Engine backend to provide completions and documentation. Please install it to use Kite.\",\r\n            \"Install\"\r\n          )\r\n          .then(item => {\r\n            if (item) {\r\n              switch (item) {\r\n                case \"Install\":\r\n                  opn(\"https://github.com/kiteco/vscode-plugin#installation\");\r\n                  metrics.track(\"vscode_kite_installer_github_link_clicked\");\r\n                  break;\r\n              }\r\n            }\r\n          });\r\n      }\r\n    });\r\n\r\n    this.disposables.push(\r\n      vscode.languages.registerHoverProvider(\r\n        HOVER_SUPPORT,\r\n        new KiteHoverProvider(Kite)\r\n      )\r\n    );\r\n    this.disposables.push(\r\n      vscode.languages.registerDefinitionProvider(\r\n        DEFINITIONS_SUPPORT,\r\n        new KiteDefinitionProvider(Kite)\r\n      )\r\n    );\r\n\r\n    var completionsTriggers = ['.', '\"', '\\'', '`'];\r\n    var optionalCompletionsTriggers = [' ', '(', '['];\r\n\r\n    this.disposables.push(\r\n      vscode.languages.registerCompletionItemProvider(\r\n        COMPLETIONS_SUPPORT,\r\n        new KiteCompletionProvider(Kite, completionsTriggers, optionalCompletionsTriggers), ...completionsTriggers.concat(optionalCompletionsTriggers))\r\n    );\r\n\r\n    // More triggers for Python because we have semantic completions.\r\n    // We leave out open quotes because we can't suggest string constants.\r\n    var pythonCompletionsTriggers = ['.', ',', ' ', '(', '[', '{', '='];\r\n\r\n    this.disposables.push(\r\n      vscode.languages.registerCompletionItemProvider(\r\n        FULL_COMPLETIONS_SUPPORT,\r\n        new KiteCompletionProvider(Kite, pythonCompletionsTriggers), ...pythonCompletionsTriggers)\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.languages.registerSignatureHelpProvider(\r\n        SIGNATURES_SUPPORT,\r\n        new KiteSignatureProvider(Kite),\r\n        \"(\",\r\n        \",\"\r\n      )\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.workspace.onDidChangeConfiguration(() => {\r\n        Logger.LEVEL =\r\n          Logger.LEVELS[\r\n          vscode.workspace.getConfiguration(\"kite\").loggingLevel.toUpperCase()\r\n          ];\r\n      })\r\n    );\r\n\r\n    vscode.window.activeTextEditor &&\r\n      showNotification(vscode.window.activeTextEditor.document.fileName);\r\n\r\n    this.disposables.push(\r\n      vscode.window.onDidChangeActiveTextEditor(e => {\r\n        this.setStatusBarLabel();\r\n        if (e) {\r\n          if (/Code[\\/\\\\]User[\\/\\\\]settings.json$/.test(e.document.fileName)) {\r\n            metrics.featureRequested(\"settings\");\r\n            metrics.featureFulfilled(\"settings\");\r\n          }\r\n          if (this.isGrammarSupported(e)) {\r\n            this.registerEvents(e);\r\n            this.registerEditor(e);\r\n          }\r\n\r\n          showNotification(this, e.document.fileName);\r\n\r\n          const evt = this.eventsByEditor.get(e.document.fileName);\r\n          evt && evt.focus();\r\n        }\r\n      })\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.window.onDidChangeTextEditorSelection(e => {\r\n        const evt = this.eventsByEditor.get(e.textEditor.document.fileName);\r\n        evt && evt.selectionChanged();\r\n      })\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.workspace.onDidChangeTextDocument(e => {\r\n        e.document &&\r\n          editorsForDocument(e.document).forEach(e => {\r\n            const evt = this.eventsByEditor.get(e.document.fileName);\r\n            evt && evt.edit();\r\n          });\r\n      })\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.window.onDidChangeVisibleTextEditors(editors => {\r\n        editors.forEach(e => {\r\n          if (EVENT_SUPPORT(e.document.fileName)) {\r\n            this.registerDocumentEvents(e.document);\r\n            this.registerDocument(e.document);\r\n          }\r\n        });\r\n      })\r\n    );\r\n\r\n    this.statusBarItem = vscode.window.createStatusBarItem(\r\n      vscode.StatusBarAlignment.Right\r\n    );\r\n    this.statusBarItem.text = \"𝕜𝕚𝕥𝕖\";\r\n    this.statusBarItem.color = undefined;\r\n    this.statusBarItem.show();\r\n\r\n    this.disposables.push(this.statusBarItem);\r\n\r\n    this.disposables.push(\r\n      vscode.commands.registerCommand(\"kite.insert-completion\", ({lang}) => {\r\n        metrics.increment(`vscode_kite_${lang}_completions_inserted`);\r\n        metrics.increment(`kite_${lang}_completions_inserted`);\r\n      })\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.commands.registerCommand(\"kite.login\", () => {\r\n        kiteOpen(\"kite://home\");\r\n      })\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.commands.registerCommand(\"kite.open-settings\", () => {\r\n        kiteOpen(\"kite://settings\");\r\n      })\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.commands.registerTextEditorCommand(\"kite.related-files\", (textEditor) => {\r\n        opn(`http://localhost:46624/codenav/related/${encodeURIComponent(textEditor.document.fileName)}`);\r\n      })\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.commands.registerCommand(\"kite.open-copilot\", () => {\r\n        kiteOpen(\"kite://home\");\r\n      })\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.commands.registerCommand(\"kite.more\", ({ id, source }) => {\r\n        metrics.track(`${source} See info clicked`);\r\n        kiteOpen(`kite://docs/${id}`);\r\n      })\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.commands.registerCommand(\r\n        \"kite.more-position\",\r\n        ({ position, source }) => {\r\n          metrics.track(`${source} See info clicked`);\r\n          const doc = vscode.window.activeTextEditor.document;\r\n          const path = hoverPath(doc, position);\r\n          return this.request({ path })\r\n            .then(data => JSON.parse(data))\r\n            .then(data => {\r\n              kiteOpen(`kite://docs/${data.symbol[0].id}`);\r\n            });\r\n        }\r\n      )\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.commands.registerCommand(\"kite.web-url\", url => {\r\n        opn(url.replace(/;/g, \"%3B\"));\r\n      })\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.commands.registerCommand(\r\n        \"kite.def\",\r\n        ({ file, line, character, source }) => {\r\n          metrics.track(`${source} Go to definition clicked`);\r\n          metrics.featureRequested(\"definition\");\r\n          vscode.workspace\r\n            .openTextDocument(vscode.Uri.file(file))\r\n            .then(doc => {\r\n              return vscode.window.showTextDocument(doc);\r\n            })\r\n            .then(e => {\r\n              metrics.featureFulfilled(\"definition\");\r\n              const newPosition = new vscode.Position(\r\n                line - 1,\r\n                character ? character - 1 : 0\r\n              );\r\n              e.revealRange(\r\n                new vscode.Range(\r\n                  newPosition,\r\n                  new vscode.Position(line - 1, 100)\r\n                )\r\n              );\r\n\r\n              const newSelection = new vscode.Selection(\r\n                newPosition,\r\n                newPosition\r\n              );\r\n              e.selection = newSelection;\r\n            });\r\n        }\r\n      )\r\n    );\r\n\r\n    const openKiteTutorial = async language => {\r\n      try {\r\n        const path = await KiteAPI.getOnboardingFilePath(\"vscode\", language)\r\n        const tutorial = await vscode.workspace.openTextDocument(path);\r\n        vscode.window.showTextDocument(tutorial);\r\n        KiteAPI.setKiteSetting(\"has_done_onboarding\", true);\r\n      } catch(e) {\r\n        vscode.window.showErrorMessage(\r\n          \"We were unable to open the tutorial. Try again later or email us at feedback@kite.com\",\r\n        );\r\n      }\r\n    };\r\n\r\n    this.disposables.push(\r\n      vscode.commands.registerCommand(\"kite.python-tutorial\", () => {\r\n        openKiteTutorial(\"python\");\r\n      })\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.commands.registerCommand(\"kite.javascript-tutorial\", () => {\r\n        openKiteTutorial(\"javascript\");\r\n      })\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.commands.registerCommand(\"kite.go-tutorial\", () => {\r\n        openKiteTutorial(\"go\");\r\n      })\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.commands.registerCommand(\"kite.help\", () => {\r\n        opn(\"https://help.kite.com/category/46-vs-code-integration\");\r\n      })\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.commands.registerCommand(\"kite.docs-at-cursor\", () => {\r\n        const editor = vscode.window.activeTextEditor;\r\n\r\n        if (editor) {\r\n          const pos = editor.selection.active;\r\n          const { document } = editor;\r\n\r\n          const path = hoverPath(document, pos);\r\n          KiteAPI.request({ path }).then(resp => {\r\n            if (resp.statusCode === 200) {\r\n              vscode.commands.executeCommand(\"kite.more-position\", {\r\n                position: pos,\r\n                source: \"Command\"\r\n              });\r\n            }\r\n          });\r\n        }\r\n      })\r\n    );\r\n\r\n    this.disposables.push(\r\n      vscode.commands.registerCommand(\r\n        \"kite.usage\",\r\n        ({ file, line, source }) => {\r\n          metrics.track(`${source} Go to usage clicked`);\r\n          metrics.featureRequested(\"usage\");\r\n          vscode.workspace.openTextDocument(file).then(doc => {\r\n            metrics.featureFulfilled(\"usage\");\r\n            editorsForDocument(doc).some(e => {\r\n              e.revealRange(\r\n                new vscode.Range(\r\n                  new vscode.Position(line - 1, 0),\r\n                  new vscode.Position(line - 1, 100)\r\n                )\r\n              );\r\n            });\r\n          });\r\n        }\r\n      )\r\n    );\r\n\r\n    const config = vscode.workspace.getConfiguration(\"kite\");\r\n    if (config.showWelcomeNotificationOnStartup) {\r\n      vscode.window\r\n        .showInformationMessage(\r\n          \"Welcome to Kite for VS Code\",\r\n          \"Learn how to use Kite\",\r\n          \"Don't show this again\"\r\n        )\r\n        .then(item => {\r\n          if (item) {\r\n            switch (item) {\r\n              case \"Learn how to use Kite\":\r\n                opn(\"http://help.kite.com/category/46-vs-code-integration\");\r\n                break;\r\n              case \"Don't show this again\":\r\n                config.update(\"showWelcomeNotificationOnStartup\", false, true);\r\n                break;\r\n            }\r\n          }\r\n        });\r\n\r\n      KiteAPI.getKiteSetting(\"has_done_onboarding\")\r\n        .then(hasDone => !hasDone && openKiteTutorial('python'));\r\n    }\r\n\r\n    setTimeout(() => {\r\n      vscode.window.visibleTextEditors.forEach(e => {\r\n        if (EVENT_SUPPORT(e.document.fileName)) {\r\n          this.registerEvents(e);\r\n          this.registerEditor(e);\r\n\r\n          if (e === vscode.window.activeTextEditor) {\r\n            const evt = this.eventsByEditor.get(e.document.fileName);\r\n            evt && evt.focus();\r\n          }\r\n        }\r\n      });\r\n\r\n      this.checkState(\"activationCheck\");\r\n    }, 100);\r\n\r\n    this.pollingInterval = setInterval(() => {\r\n      this.checkState(\"pollingInterval\");\r\n    }, config.get(\"pollingInterval\") || 5000);\r\n\r\n    metrics.featureFulfilled(\"starting\");\r\n\r\n    return this;\r\n  },\r\n\r\n  reset() {\r\n    this.disposables &&\r\n      this.disposables.forEach(disposable => {\r\n        disposable.dispose();\r\n      });\r\n    this.kiteEditorByEditor = new Map();\r\n    this.eventsByEditor = new Map();\r\n    this.supportedExtensions = [];\r\n    this.shown = {};\r\n    this.disposables = [];\r\n    this.attemptedToStartKite = false;\r\n    delete this.shownNotifications;\r\n    delete this.lastState;\r\n    delete this.lastStatus;\r\n    delete this.lastPolledState;\r\n    delete this.pollingInterval;\r\n  },\r\n\r\n  deactivate() {\r\n    for (const [, ke] of this.kiteEditorByEditor) {\r\n      ke && ke.dispose();\r\n    }\r\n    for (const [, evt] of this.eventsByEditor) {\r\n      evt && evt.dispose();\r\n    }\r\n    metrics.featureRequested(\"stopping\");\r\n    metrics.featureFulfilled(\"stopping\");\r\n    this.dispose();\r\n    this.reset();\r\n  },\r\n\r\n  dispose() {\r\n    this.disposables && this.disposables.forEach(d => d.dispose());\r\n    delete this.disposables;\r\n  },\r\n\r\n  registerDocument(document) {\r\n    editorsForDocument(document).forEach(e => this.registerEditor(e));\r\n  },\r\n\r\n  registerDocumentEvents(document) {\r\n    editorsForDocument(document).forEach(e => this.registerEvents(e));\r\n  },\r\n\r\n  registerEvents(e) {\r\n    if (e && e.document) {\r\n      let evt = this.eventsByEditor.get(e.document.fileName);\r\n      if (evt && evt.editor) {\r\n        evt.editor = e;\r\n      } else {\r\n        evt = new EditorEvents(this, e);\r\n        this.eventsByEditor.set(e.document.fileName, evt);\r\n      }\r\n    }\r\n  },\r\n\r\n  registerEditor(e) {\r\n    if (this.kiteEditorByEditor.has(e.document.fileName)) {\r\n      const ke = this.kiteEditorByEditor.get(e.document.fileName);\r\n      ke.editor = e;\r\n    } else {\r\n      Logger.debug(\r\n        \"register kite editor for\",\r\n        e.document.fileName,\r\n        e.document.languageId\r\n      );\r\n      const ke = new KiteEditor(Kite, e);\r\n      this.kiteEditorByEditor.set(e.document.fileName, ke);\r\n    }\r\n  },\r\n\r\n  checkState(src) {\r\n    return Promise.all([\r\n      KiteAPI.checkHealth(),\r\n      this.getSupportedExtensions().catch(() => [])\r\n    ])\r\n      .then(([state, extensions]) => {\r\n        this.supportedExtensions = extensions;\r\n\r\n        if (state > KiteAPI.STATES.INSTALLED) {\r\n          localconfig.set(\"wasInstalled\", true);\r\n        }\r\n\r\n        switch (state) {\r\n          case KiteAPI.STATES.UNSUPPORTED:\r\n            if (\r\n              this.shown[state] ||\r\n              !this.isGrammarSupported(vscode.window.activeTextEditor)\r\n            ) {\r\n              return state;\r\n            }\r\n            this.shown[state] = true;\r\n            if (!KiteAPI.isOSSupported()) {\r\n              metrics.track(\"OS unsupported\");\r\n            } else if (!KiteAPI.isOSVersionSupported()) {\r\n              metrics.track(\"OS version unsupported\");\r\n            }\r\n            this.showErrorMessage(\r\n              \"Sorry, the Kite engine is currently not supported on your platform\"\r\n            );\r\n            break;\r\n          case KiteAPI.STATES.UNINSTALLED:\r\n            if (\r\n              this.shown[state] ||\r\n              (vscode.window.activeTextEditor &&\r\n                !this.isGrammarSupported(vscode.window.activeTextEditor))\r\n            ) {\r\n              return state;\r\n            }\r\n            this.shown[state] = true;\r\n            break;\r\n          case KiteAPI.STATES.INSTALLED:\r\n            if (\r\n              !this.attemptedToStartKite &&\r\n              vscode.workspace.getConfiguration(\"kite\").startKiteEngineOnStartup\r\n            ) {\r\n              KiteAPI.runKiteAndWait(RUN_KITE_ATTEMPTS, RUN_KITE_INTERVAL).then(() => this.checkState(src));\r\n              this.attemptedToStartKite = true;\r\n            }\r\n            break;\r\n          case KiteAPI.STATES.RUNNING:\r\n            if (\r\n              this.shown[state] ||\r\n              !this.isGrammarSupported(vscode.window.activeTextEditor)\r\n            ) {\r\n              return state;\r\n            }\r\n            break;\r\n          default:\r\n            if (this.isGrammarSupported(vscode.window.activeTextEditor)) {\r\n              this.registerEditor(vscode.window.activeTextEditor);\r\n            }\r\n            if (src && (src === \"pollingInterval\" || src === \"activationCheck\"))\r\n              this.lastPolledState = state;\r\n            return state;\r\n        }\r\n        //state caching for capturihg false positives in kited restart race condition\r\n        //we do this only for checkState invocations coming from the polling or initial activation\r\n        //script to eliminate the possible case where multiple editor events were generated quickly\r\n        //while kited was restarting\r\n        if (src && (src === \"pollingInterval\" || src === \"activationCheck\"))\r\n          this.lastPolledState = state;\r\n        return state;\r\n      })\r\n      .then(state => {\r\n        this.setStatus(\r\n          state,\r\n          this.isGrammarSupported(vscode.window.activeTextEditor)\r\n            ? vscode.window.activeTextEditor.document\r\n            : null\r\n        );\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  },\r\n\r\n  showErrorMessage(message, ...actions) {\r\n    this.shownNotifications = this.shownNotifications || {};\r\n\r\n    if (!this.shownNotifications[message]) {\r\n      this.shownNotifications[message] = true;\r\n      return vscode.window.showErrorMessage(message, ...actions).then(item => {\r\n        delete this.shownNotifications[message];\r\n        return item;\r\n      });\r\n    } else {\r\n      return Promise.resolve();\r\n    }\r\n  },\r\n\r\n  setStatusBarLabel() {\r\n    const state = this.lastState;\r\n    const status = this.lastStatus;\r\n\r\n    const supported = this.isGrammarSupported(vscode.window.activeTextEditor);\r\n\r\n    if (supported) {\r\n      this.statusBarItem.show();\r\n      switch (state) {\r\n        case KiteAPI.STATES.UNSUPPORTED:\r\n          this.statusBarItem.tooltip =\r\n            \"Kite engine is currently not supported on your platform\";\r\n          this.statusBarItem.color = ERROR_COLOR();\r\n          this.statusBarItem.text = \"𝕜𝕚𝕥𝕖: not supported\";\r\n          break;\r\n        case KiteAPI.STATES.UNINSTALLED:\r\n          this.statusBarItem.text = \"𝕜𝕚𝕥𝕖: not installed\";\r\n          this.statusBarItem.tooltip = \"Kite engine is not installed\";\r\n          this.statusBarItem.color = ERROR_COLOR();\r\n          break;\r\n        case KiteAPI.STATES.INSTALLED:\r\n          this.statusBarItem.text = \"𝕜𝕚𝕥𝕖: not running\";\r\n          this.statusBarItem.tooltip = \"Kite engine is not running\";\r\n          this.statusBarItem.color = ERROR_COLOR();\r\n          break;\r\n        case KiteAPI.STATES.RUNNING:\r\n          this.statusBarItem.text = \"𝕜𝕚𝕥𝕖: not reachable\";\r\n          this.statusBarItem.tooltip = \"Kite engine is not reachable\";\r\n          this.statusBarItem.color = ERROR_COLOR();\r\n          break;\r\n        default:\r\n          if (status) {\r\n            switch (status.status) {\r\n              case \"noIndex\":\r\n                this.statusBarItem.color = undefined;\r\n                this.statusBarItem.text = \"𝕜𝕚𝕥𝕖: ready (unindexed)\";\r\n                this.statusBarItem.tooltip =\r\n                  \"Kite is ready, but no index available\";\r\n                break;\r\n              case \"indexing\":\r\n                this.statusBarItem.color = undefined;\r\n                this.statusBarItem.text = \"𝕜𝕚𝕥𝕖: indexing\";\r\n                this.statusBarItem.tooltip =\r\n                  \"Kite engine is indexing your code\";\r\n                break;\r\n              case \"syncing\":\r\n                this.statusBarItem.text = \"𝕜𝕚𝕥𝕖: syncing\";\r\n                this.statusBarItem.color = undefined;\r\n                this.statusBarItem.tooltip = \"Kite engine is syncing your code\";\r\n                break;\r\n              case \"ready\":\r\n                this.statusBarItem.text = \"𝕜𝕚𝕥𝕖\";\r\n                this.statusBarItem.color = undefined;\r\n                this.statusBarItem.tooltip = \"Kite is ready\";\r\n                break;\r\n            }\r\n          } else {\r\n            this.statusBarItem.text = \"\";\r\n            this.statusBarItem.color = undefined;\r\n            this.statusBarItem.tooltip = \"\";\r\n            this.statusBarItem.hide();\r\n          }\r\n      }\r\n    } else {\r\n      this.statusBarItem.text = \"\";\r\n      this.statusBarItem.color = undefined;\r\n      this.statusBarItem.tooltip = \"\";\r\n      this.statusBarItem.hide();\r\n    }\r\n  },\r\n\r\n  setStatus(state = this.lastState, document) {\r\n    this.lastState = state;\r\n    this.getStatus(document).then(status => {\r\n      this.lastStatus = status;\r\n      this.setStatusBarLabel();\r\n    });\r\n  },\r\n\r\n  isGrammarSupported(e) {\r\n    return e && this.isDocumentGrammarSupported(e.document);\r\n  },\r\n\r\n  isDocumentGrammarSupported(d) {\r\n    return (\r\n      d &&\r\n      EVENT_SUPPORT(d.fileName)\r\n    );\r\n  },\r\n\r\n  documentForPath(path) {\r\n    return vscode.workspace.textDocuments\r\n      .filter(d => d.fileName === path)\r\n      .shift();\r\n  },\r\n\r\n  getStatus(document) {\r\n    if (!document) {\r\n      return Promise.resolve({ status: \"ready\" });\r\n    }\r\n\r\n    const path = statusPath(document.fileName);\r\n\r\n    return KiteAPI.request({ path })\r\n      .then(resp => {\r\n        if (resp.statusCode === 200) {\r\n          return promisifyReadResponse(resp).then(json => JSON.parse(json));\r\n        }\r\n      })\r\n      .catch(() => ({ status: \"ready\" }));\r\n  },\r\n\r\n  getSupportedExtensions() {\r\n    return Promise.resolve(SUPPORTED_EXTENSIONS);\r\n  },\r\n\r\n  request(req, data) {\r\n    return KiteAPI.request(req, data).then(resp => promisifyReadResponse(resp));\r\n  },\r\n\r\n  checkConnectivity() {\r\n    return new Promise((resolve, reject) => {\r\n      require(\"dns\").lookup(\"kite.com\", err => {\r\n        if (err && err.code == \"ENOTFOUND\") {\r\n          reject();\r\n        } else {\r\n          resolve();\r\n        }\r\n      });\r\n    });\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  activate(ctx) {\r\n    return Kite.activate(ctx);\r\n  },\r\n  deactivate() {\r\n    Kite.deactivate();\r\n  },\r\n  request(...args) {\r\n    return Kite.request(...args);\r\n  },\r\n  kite: Kite\r\n};\r\n","'use strict';\n\nconst os = require('os');\nconst http = require('http');\nconst https = require('https');\nconst querystring = require('querystring');\nconst KiteConnector = require('kite-connector');\nconst KiteStateError = require('kite-connector/lib/kite-state-error');\nconst KiteRequestError = require('kite-connector/lib/kite-request-error');\nconst utils = require('kite-connector/lib/utils');\nconst NodeClient = require('kite-connector/lib/clients/node');\nconst BrowserClient = require('kite-connector/lib/clients/browser');\nconst EventEmitter = require('events');\nconst EditorConfig = require('./editor-config');\nconst MemoryStore = require('./stores/memory');\nconst { STATES } = KiteConnector;\nconst { MAX_FILE_SIZE } = require('./constants');\nconst { merge, checkArguments, checkArgumentKeys } = require('./utils');\nconst urls = require('./url-helpers');\n\nconst KiteAPI = {\n  STATES,\n\n  emitter: new EventEmitter(),\n\n  editorConfig: new EditorConfig(new MemoryStore()),\n\n  toggleRequestDebug() {\n    KiteConnector.toggleRequestDebug();\n    this.Account.toggleRequestDebug();\n  },\n\n  requestJSON(...args) {\n    return this.request(...args)\n      .then(resp => utils.handleResponseData(resp))\n      .then(data => JSON.parse(data));\n  },\n\n  isKiteLocal() {\n    return this.request({\n      path: '/clientapi/iskitelocal',\n      method: 'GET',\n    })\n      .then(() => true)\n      .catch(() => false);\n  },\n\n  setKiteSetting(key, value) {\n    return this.requestJSON({\n      path: `/clientapi/settings/${key}`,\n      method: 'POST',\n    }, JSON.stringify(value));\n  },\n\n  getKiteSetting(key) {\n    return this.requestJSON({\n      path: `/clientapi/settings/${key}`,\n      method: 'GET',\n    });\n  },\n\n  getSupportedLanguages() {\n    return this.requestJSON({\n      path: '/clientapi/languages',\n    });\n  },\n\n  getOnboardingFilePath(editor, language = 'python') {\n    checkArguments(this.getOnboardingFilePath, editor, language);\n    const path = urls.onboardingFilePath(editor, language);\n    return this.requestJSON({ path });\n  },\n\n  canAuthenticateUser() {\n    return KiteConnector.isKiteReachable()\n      .then(() => utils.reversePromise(\n        KiteConnector.isUserAuthenticated(),\n        new KiteStateError('Kite is already authenticated', {\n          state: STATES.AUTHENTICATED,\n        })));\n  },\n\n  authenticateUser(email, password) {\n    checkArguments(this.authenticateUser, email, password);\n    return this.canAuthenticateUser()\n      .then(() => this.request({\n        path: '/clientapi/login',\n        method: 'POST',\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      }, { email, password }))\n      .then(() => this.saveUserID());\n  },\n\n  authenticateSessionID(key) {\n    // Unlike authenticateUser above, this method does not check to see if a\n    // user is already authenticated before trying to authenticate. This\n    // method is only used in specialized flows, so we're special-casing it\n    // here.\n    checkArguments(this.authenticateSessionID, key);\n    return KiteConnector.isKiteReachable()\n      .then(() => this.request({\n        path: '/clientapi/authenticate',\n        method: 'POST',\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      }, { key }))\n      .then(resp => this.saveUserID());\n  },\n\n  saveUserID() {\n    return this.requestJSON({\n      path: '/clientapi/user',\n      method: 'GET',\n    })\n      .then(data => data.id && this.editorConfig.set('distinctID', data.id))\n      .catch(() => { });\n  },\n\n  getHoverDataAtPosition(filename, source, position, editor, encoding = 'utf-16') {\n    checkArguments(this.getHoverDataAtPosition, filename, source, position, encoding);\n    const path = urls.hoverPath(filename, source, position, editor, encoding);\n\n    return this.requestJSON({ path });\n  },\n\n  getReportDataAtPosition(filename, source, position, editor, encoding = 'utf-16') {\n    checkArguments(this.getReportDataAtPosition, filename, source, position, editor, encoding);\n    return this.getHoverDataAtPosition(filename, source, position, editor, encoding)\n      .then(data => this.getReportDataFromHover(data));\n  },\n\n  getReportDataFromHover(data) {\n    const id = data.symbol[0].id;\n    return !idIsEmpty(id)\n      ? this.getSymbolReportDataForId(id)\n        .then(report => [data, report])\n        .catch(err => [data])\n      : [data];\n  },\n\n  getSymbolReportDataForId(id) {\n    checkArguments(this.getSymbolReportDataForId, id);\n    return this.requestJSON({\n      path: `/api/editor/symbol/${id}`,\n    });\n  },\n\n  getValueReportDataForId(id) {\n    checkArguments(this.getValueReportDataForId, id);\n    return this.requestJSON({\n      path: `/api/editor/value/${id}`,\n    })\n      .then(report => {\n        if (report.value && idIsEmpty(report.value.id)) {\n          report.value.id = id;\n        }\n        return report;\n      });\n  },\n\n  getMembersDataForId(id, page = 0, limit = 999) {\n    checkArguments(this.getMembersDataForId, id);\n    const path = urls.membersPath(id, page, limit);\n\n    return this.requestJSON({ path });\n  },\n\n  getUsagesDataForValueId(id, page = 0, limit = 999) {\n    checkArguments(this.getUsagesDataForValueId, id);\n    const path = urls.usagesPath(id, page, limit);\n\n    return this.requestJSON({ path });\n  },\n\n  getUsageDataForId(id) {\n    checkArguments(this.getUsageDataForId, id);\n    return this.requestJSON({\n      path: `/api/editor/usages/${id}`,\n    })\n      .then(report => {\n        if (report.value && idIsEmpty(report.value.id)) {\n          report.value.id = id;\n        }\n        return report;\n      });\n  },\n\n  getExampleDataForId(id) {\n    checkArguments(this.getExampleDataForId, id);\n    return this.requestJSON({\n      path: `/api/python/curation/${id}`,\n    });\n  },\n\n  getUserAccountInfo() {\n    return this.requestJSON({ path: '/api/account/user' });\n  },\n\n  getStatus(filename) {\n    return filename\n      ? this.requestJSON({ path: urls.statusPath(filename) })\n        .catch((err) => ({ status: 'ready' }))\n      : Promise.resolve({ status: 'ready' });\n  },\n\n  getCompletions(payload) {\n    checkArguments(this.getCompletions, payload);\n    if (payload.text === undefined || payload.text.length > MAX_FILE_SIZE) {\n      return Promise.resolve([]);\n    }\n    return this.requestJSON({\n      path: '/clientapi/editor/complete',\n      method: 'POST',\n    }, JSON.stringify(payload))\n      .then(data => data.completions || [])\n      .catch(_ => []);\n  },\n\n  getSignaturesAtPosition(filename, source, position, editor, encoding = 'utf-16') {\n    checkArguments(this.getSignaturesAtPosition, filename, source, position, editor, encoding);\n    if (source.length > MAX_FILE_SIZE) { return Promise.resolve(); }\n\n    const payload = {\n      text: source,\n      editor,\n      filename,\n      cursor_runes: position,\n      offset_encoding: encoding,\n    };\n\n    return this.requestJSON({\n      path: '/clientapi/editor/signatures',\n      method: 'POST',\n    }, JSON.stringify(payload))\n      .catch(() => { });\n  },\n\n  getKSGCompletions(query) {\n    checkArguments(this.getKSGCompletions, query);\n    return this.requestJSON({ path: `/clientapi/ksg/completions?query=${encodeURIComponent(query)}` })\n      .catch(() => { });\n  },\n\n  getKSGCodeBlocks(query, results = 3) {\n    checkArguments(this.getKSGCodeBlocks, query, results);\n    return this.requestJSON({ path: `/clientapi/ksg/codeblocks?query=${encodeURIComponent(query)}&results=${results}` })\n      .catch(() => { });\n  },\n\n  getAutocorrectData(filename, source, editorMeta) {\n    checkArguments(this.getAutocorrectData, filename, source, editorMeta);\n\n    if (source.length > MAX_FILE_SIZE) { return Promise.resolve(); }\n\n    const payload = {\n      metadata: this.getAutocorrectMetadata('autocorrect_request', editorMeta),\n      buffer: source,\n      filename,\n      language: 'python',\n    };\n\n    return this.requestJSON({\n      path: '/clientapi/editor/autocorrect',\n      method: 'POST',\n    }, JSON.stringify(payload))\n      .catch(() => { });\n  },\n\n  getAutocorrectModelInfo(version, editorMeta) {\n    checkArguments(this.getAutocorrectModelInfo, version, editorMeta);\n\n    const payload = {\n      metadata: this.getAutocorrectMetadata('model_info_request', editorMeta),\n      language: 'python',\n      version,\n    };\n\n    return this.requestJSON({\n      path: '/api/editor/autocorrect/model-info',\n      method: 'POST',\n    }, JSON.stringify(payload))\n      .catch(() => { });\n  },\n\n  getAutocorrectMetadata(event, editorMeta) {\n    checkArguments(this.getAutocorrectMetadata, event, editorMeta);\n    checkArgumentKeys(this.getAutocorrectMetadata, editorMeta, 'editorMeta', 'source', 'plugin_version');\n    return merge({\n      event,\n      os_name: this.getOsName(),\n    }, editorMeta);\n  },\n\n  getOsName() {\n    return {\n      darwin: 'macos',\n      win32: 'windows',\n      linux: 'linux',\n    }[os.platform()];\n  },\n\n  postSaveValidationData(filename, source, editorMeta) {\n    checkArguments(this.postSaveValidationData, filename, source, editorMeta);\n\n    if (source.length > MAX_FILE_SIZE) { return Promise.resolve(); }\n\n    const payload = {\n      metadata: this.getAutocorrectMetadata('validation_onsave', editorMeta),\n      buffer: source,\n      filename,\n      language: 'python',\n    };\n\n    return this.request({\n      path: '/clientapi/editor/autocorrect/validation/on-save',\n      method: 'POST',\n    }, JSON.stringify(payload))\n      .catch(() => { });\n  },\n\n  postAutocorrectFeedbackData(response, feedback, editorMeta) {\n    checkArguments(this.postAutocorrectFeedbackData, response, feedback, editorMeta);\n\n    const payload = {\n      metadata: this.getAutocorrectMetadata('feedback_diffset', editorMeta),\n      response,\n      feedback,\n    };\n\n    return this.request({\n      path: '/clientapi/editor/autocorrect/feedback',\n      method: 'POST',\n    }, JSON.stringify(payload))\n      .catch(() => { });\n  },\n\n  postAutocorrectHashMismatchData(response, requestStartTime, editorMeta) {\n    checkArguments(this.postAutocorrectHashMismatchData, response, requestStartTime, editorMeta);\n\n    const payload = {\n      metadata: this.getAutocorrectMetadata('metrics_hash_mismatch', editorMeta),\n      response,\n      response_time: new Date() - requestStartTime,\n    };\n\n    return this.request({\n      path: '/clientapi/editor/autocorrect/metrics',\n      method: 'POST',\n    }, JSON.stringify(payload))\n      .catch(() => { });\n  },\n\n  sendFeatureMetric(name) {\n    checkArguments(this.sendFeatureMetric, name);\n\n    return this.request({\n      path: '/clientapi/metrics/counters',\n      method: 'POST',\n    }, JSON.stringify({\n      name,\n      value: 1,\n    }));\n  },\n\n  featureRequested(name, editor) {\n    checkArguments(this.featureRequested, name, editor);\n    this.sendFeatureMetric(`${editor}_${name}_requested`);\n  },\n\n  featureFulfilled(name, editor) {\n    checkArguments(this.featureFulfilled, name, editor);\n    this.sendFeatureMetric(`${editor}_${name}_fulfilled`);\n  },\n\n  featureApplied(name, editor, suffix = '') {\n    checkArguments(this.featureApplied, name, editor);\n    this.sendFeatureMetric(`${editor}_${name}_applied${suffix}`);\n  },\n\n  Account: {\n    client: KiteConnector.client,\n\n    initClient(hostname, port, base, ssl) {\n      this.client.hostname = hostname;\n      this.client.port = port;\n      this.client.base = base;\n      this.client.protocol = ssl ? https : http;\n    },\n\n    disposeClient() { },\n\n    toggleRequestDebug() {\n      if (this.client instanceof NodeClient) {\n        this.client = new BrowserClient(this.client.hostname, this.client.port, this.client.base, this.client.protocol === https);\n      } else {\n        this.client = new NodeClient(this.client.hostname, this.client.port, this.client.base, this.client.protocol === 'https');\n      }\n    },\n\n    checkEmail(data) {\n      if (!data || !data.email) {\n        return Promise.reject(new Error('No email provided'));\n      }\n      return this.client.request({\n        path: '/api/account/check-email',\n        method: 'POST',\n      }, JSON.stringify(data))\n        .then(checkStatusAndInvokeCallback('Unable to check email'));\n    },\n\n    createAccount(data, callback) {\n      if (!data || !data.email) {\n        return Promise.reject(new Error('No email provided'));\n      }\n\n      const content = querystring.stringify(data);\n      let promise;\n      if (data.password) {\n        promise = this.client.request({\n          path: '/api/account/create',\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n          },\n        }, content);\n      } else {\n        promise = this.client.request({\n          path: '/api/account/createPasswordless',\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n          },\n        }, content);\n      }\n\n      return promise.then(checkStatusAndInvokeCallback('Unable to create an account', callback));\n    },\n\n    login(data, callback) {\n      if (!data) {\n        return Promise.reject(new Error('No login data provided'));\n      }\n      if (!data.email) {\n        return Promise.reject(new Error('No email provided'));\n      }\n      if (!data.password) {\n        return Promise.reject(new Error('No password provided'));\n      }\n      const content = querystring.stringify(data);\n      return this.client.request({\n        path: '/api/account/login',\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      }, content)\n        .then(checkStatusAndInvokeCallback('Unable to login into Kite', callback));\n    },\n\n    resetPassword(data, callback) {\n      if (!data || !data.email) {\n        return Promise.reject(new Error('No email provided'));\n      }\n      const content = querystring.stringify(data);\n      return this.client.request({\n        path: '/api/account/reset-password/request',\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      }, content)\n        .then(checkStatusAndInvokeCallback('Unable to reset passwords', callback));\n    },\n  },\n};\n\nconst idIsEmpty = (id) =>\n  !id || id === '' ||\n  (id.indexOf(';') !== -1 && id.split(';')[1] === '');\n\nconst delegate = (methods, source, target) => {\n  methods.forEach(method => target[method] = (...args) => source[method](...args));\n  return target;\n};\n\nconst checkStatusAndInvokeCallback = (message, callback) => resp => {\n  callback && callback(resp);\n  return new Promise((resolve, reject) => {\n    if (resp.statusCode >= 400) {\n      utils.handleResponseData(resp).then(respData => {\n        reject(new KiteRequestError(message, {\n          responseStatus: resp.statusCode,\n          response: resp,\n          responseData: respData,\n        }));\n      }, reject);\n    } else {\n      resolve(resp);\n    }\n  });\n};\n\ndelegate([\n  'arch',\n  'canInstallKite',\n  'canRunKite',\n  'canRunKiteEnterprise',\n  'checkHealth',\n  'downloadKite',\n  'downloadKiteRelease',\n  'hasBothKiteInstalled',\n  'hasManyKiteEnterpriseInstallation',\n  'hasManyKiteInstallation',\n  'installKite',\n  'isAdmin',\n  'isKiteEnterpriseInstalled',\n  'isKiteEnterpriseRunning',\n  'isKiteInstalled',\n  'isKiteReachable',\n  'isKiteRunning',\n  'isKiteSupported',\n  'isOSSupported',\n  'isOSVersionSupported',\n  'isUserAuthenticated',\n  'onDidFailRequest',\n  'request',\n  'runKiteWithCopilot',\n  'runKite',\n  'runKiteAndWait',\n  'runKiteEnterprise',\n  'runKiteEnterpriseAndWait',\n  'toggleRequestDebug',\n  'waitForKite',\n], KiteConnector, KiteAPI);\n\nmodule.exports = KiteAPI;\n","module.exports = require(\"querystring\");","module.exports = require(\"events\");","'use strict';\n\nconst http = require('http');\nconst https = require('https');\nconst FormData = require('form-data');\n\nconst utils = require('../utils');\n\nmodule.exports = class NodeClient {\n  constructor(hostname, port, base = '', ssl = false) {\n    this.hostname = hostname;\n    this.port = port;\n    this.base = base;\n    this.protocol = ssl ? https : http;\n    this.cookies = {};\n  }\n\n  request(opts, data, timeout) {\n    return new Promise((resolve, reject) => {\n      let form;\n\n      opts.hostname = this.hostname;\n      if (this.port > 0) { opts.port = this.port; }\n      opts.path = this.base + opts.path;\n      opts.headers = opts.headers || {};\n      this.writeCookies(opts.headers);\n\n      if (opts.headers['Content-Type'] === 'multipart/form-data' ||\n          opts.headers['content-type'] === 'multipart/form-data') {\n        delete opts.headers['Content-Type'];\n        delete opts.headers['content-type'];\n\n        form = new FormData();\n        for (const key in data) {\n          form.append(key, data[key]);\n        }\n\n        const headers = form.getHeaders();\n        for (const key in headers) {\n          opts.headers[key] = headers[key];\n        }\n      }\n\n      const req = this.protocol.request(opts, resp => {\n        this.readCookies(resp);\n        resolve(resp);\n      });\n      req.on('error', err => reject(err));\n      if (timeout != null) {\n        req.setTimeout(timeout, () => reject(new Error('timeout')));\n      }\n      if (form) {\n        form.pipe(req);\n      } else {\n        if (data) { req.write(data); }\n        req.end();\n      }\n    });\n  }\n\n  readCookies(resp) {\n    utils.parseSetCookies(resp.headers['set-cookie']).forEach(c => {\n      this.cookies[c.Name] = c;\n    });\n  }\n\n  writeCookies(hdrs) {\n    const cookies = [];\n    for (var k in this.cookies) {\n      cookies.push(this.cookies[k]);\n    }\n    if (cookies.length) {\n      hdrs.Cookies = utils.dumpCookies(cookies);\n    }\n  }\n};\n","module.exports = require(\"stream\");","var async = require('./async.js')\n  , abort = require('./abort.js')\n  ;\n\n// API\nmodule.exports = iterate;\n\n/**\n * Iterates over each job object\n *\n * @param {array|object} list - array or object (named list) to iterate over\n * @param {function} iterator - iterator to run\n * @param {object} state - current job status\n * @param {function} callback - invoked when all elements processed\n */\nfunction iterate(list, iterator, state, callback)\n{\n  // store current index\n  var key = state['keyedList'] ? state['keyedList'][state.index] : state.index;\n\n  state.jobs[key] = runJob(iterator, key, list[key], function(error, output)\n  {\n    // don't repeat yourself\n    // skip secondary callbacks\n    if (!(key in state.jobs))\n    {\n      return;\n    }\n\n    // clean up jobs\n    delete state.jobs[key];\n\n    if (error)\n    {\n      // don't process rest of the results\n      // stop still active jobs\n      // and reset the list\n      abort(state);\n    }\n    else\n    {\n      state.results[key] = output;\n    }\n\n    // return salvaged results\n    callback(error, state.results);\n  });\n}\n\n/**\n * Runs iterator over provided job element\n *\n * @param   {function} iterator - iterator to invoke\n * @param   {string|number} key - key/index of the element in the list of jobs\n * @param   {mixed} item - job description\n * @param   {function} callback - invoked after iterator is done with the job\n * @returns {function|mixed} - job abort function or something else\n */\nfunction runJob(iterator, key, item, callback)\n{\n  var aborter;\n\n  // allow shortcut if iterator expects only two arguments\n  if (iterator.length == 2)\n  {\n    aborter = iterator(item, async(callback));\n  }\n  // otherwise go with full three arguments\n  else\n  {\n    aborter = iterator(item, key, async(callback));\n  }\n\n  return aborter;\n}\n","var defer = require('./defer.js');\n\n// API\nmodule.exports = async;\n\n/**\n * Runs provided callback asynchronously\n * even if callback itself is not\n *\n * @param   {function} callback - callback to invoke\n * @returns {function} - augmented callback\n */\nfunction async(callback)\n{\n  var isAsync = false;\n\n  // check if async happened\n  defer(function() { isAsync = true; });\n\n  return function async_callback(err, result)\n  {\n    if (isAsync)\n    {\n      callback(err, result);\n    }\n    else\n    {\n      defer(function nextTick_callback()\n      {\n        callback(err, result);\n      });\n    }\n  };\n}\n","// API\nmodule.exports = abort;\n\n/**\n * Aborts leftover active jobs\n *\n * @param {object} state - current state object\n */\nfunction abort(state)\n{\n  Object.keys(state.jobs).forEach(clean.bind(state));\n\n  // reset leftover jobs\n  state.jobs = {};\n}\n\n/**\n * Cleans up leftover job by invoking abort function for the provided job id\n *\n * @this  state\n * @param {string|number} key - job id to abort\n */\nfunction clean(key)\n{\n  if (typeof this.jobs[key] == 'function')\n  {\n    this.jobs[key]();\n  }\n}\n","// API\nmodule.exports = state;\n\n/**\n * Creates initial state object\n * for iteration over list\n *\n * @param   {array|object} list - list to iterate over\n * @param   {function|null} sortMethod - function to use for keys sort,\n *                                     or `null` to keep them as is\n * @returns {object} - initial state object\n */\nfunction state(list, sortMethod)\n{\n  var isNamedList = !Array.isArray(list)\n    , initState =\n    {\n      index    : 0,\n      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,\n      jobs     : {},\n      results  : isNamedList ? {} : [],\n      size     : isNamedList ? Object.keys(list).length : list.length\n    }\n    ;\n\n  if (sortMethod)\n  {\n    // sort array keys based on it's values\n    // sort object's keys just on own merit\n    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)\n    {\n      return sortMethod(list[a], list[b]);\n    });\n  }\n\n  return initState;\n}\n","var abort = require('./abort.js')\n  , async = require('./async.js')\n  ;\n\n// API\nmodule.exports = terminator;\n\n/**\n * Terminates jobs in the attached state context\n *\n * @this  AsyncKitState#\n * @param {function} callback - final callback to invoke after termination\n */\nfunction terminator(callback)\n{\n  if (!Object.keys(this.jobs).length)\n  {\n    return;\n  }\n\n  // fast forward iteration index\n  this.index = this.size;\n\n  // abort jobs\n  abort(this);\n\n  // send back results we have so far\n  async(callback)(null, this.results);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = serialOrdered;\n// sorting helpers\nmodule.exports.ascending  = ascending;\nmodule.exports.descending = descending;\n\n/**\n * Runs iterator over provided sorted array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} sortMethod - custom sort function\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serialOrdered(list, iterator, sortMethod, callback)\n{\n  var state = initState(list, sortMethod);\n\n  iterate(list, iterator, state, function iteratorHandler(error, result)\n  {\n    if (error)\n    {\n      callback(error, result);\n      return;\n    }\n\n    state.index++;\n\n    // are we there yet?\n    if (state.index < (state['keyedList'] || list).length)\n    {\n      iterate(list, iterator, state, iteratorHandler);\n      return;\n    }\n\n    // done here\n    callback(null, state.results);\n  });\n\n  return terminator.bind(state, callback);\n}\n\n/*\n * -- Sort methods\n */\n\n/**\n * sort helper to sort array elements in ascending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction ascending(a, b)\n{\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n/**\n * sort helper to sort array elements in descending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction descending(a, b)\n{\n  return -1 * ascending(a, b);\n}\n","'use strict';\n\nconst utils = require('../utils');\n\nconst createResponse = (status, raw, req, headers = {}) => {\n  const resp = {\n    statusCode: status,\n    req,\n    on(event, callback) {\n      switch (event) {\n        case 'data':\n          callback(raw);\n          break;\n        case 'end':\n          callback();\n          break;\n      }\n    },\n  };\n  for (let k in headers) { resp[k] = headers[k]; }\n  resp.headers = resp.headers || {};\n\n  return resp;\n};\n\nmodule.exports = class BrowserClient {\n  constructor(hostname, port, base, ssl) {\n    base = base || '';\n    ssl = ssl || false;\n    this.hostname = hostname;\n    this.port = port;\n    this.base = base;\n    this.protocol = ssl ? 'https' : 'http';\n    this.cookies = {};\n  }\n\n  request(opts, data, timeout) {\n    const domain = this.port && this.port !== -1\n      ? `${this.hostname}:${this.port}`\n      : this.hostname;\n    const url = `${this.protocol}://${domain}${this.base}${opts.path}`;\n    const method = opts.method || 'GET';\n\n    return new Promise((resolve, reject) => {\n      const query = new XMLHttpRequest();\n      query.addEventListener('error', reject);\n      query.addEventListener('abort', reject);\n      query.addEventListener('load', () => {\n        const raw = query.responseText;\n\n        resolve(createResponse(query.status, raw, {\n          method,\n          path: opts.path,\n          url,\n        }));\n      });\n\n      query.open(method, url);\n      if (timeout) {\n        query.timeout = timeout; // Set timeout to 4 seconds (4000 milliseconds)\n        query.ontimeout = () => { reject(new Error('Request Timeout')); };\n      }\n\n      if (opts.headers) {\n        if (opts.headers['Content-Type'] === 'multipart/form-data' ||\n            opts.headers['content-type'] === 'multipart/form-data') {\n          delete opts.headers['Content-Type'];\n          delete opts.headers['content-type'];\n\n          const form = new FormData();\n\n          for (const key in data) {\n            form.append(key, data[key]);\n          }\n          data = form;\n        }\n\n        for (const header in opts.headers) {\n          query.setRequestHeader(header, opts.headers[header]);\n        }\n      }\n      if (!opts.headers || !opts.headers['Cache-Control']) {\n        query.setRequestHeader('Cache-Control', 'no-cache, must-revalidate');\n      }\n\n      query.send(data);\n    });\n  }\n\n  readCookies(resp) {\n    utils.parseSetCookies(resp.headers['set-cookie']).forEach(c => {\n      this.cookies[c.Name] = c;\n    });\n  }\n\n  writeCookies(hdrs) {\n    var cookies = [];\n    for (var k in this.cookies) {\n      cookies.push(this.cookies[k]);\n    }\n    if (cookies.length) {\n      hdrs.Cookies = utils.dumpCookies(cookies);\n    }\n  }\n};\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message))\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","'use strict';\n\nmodule.exports = {\n  STATES: {\n    UNSUPPORTED: 0,\n    UNINSTALLED: 1,\n    NOT_RUNNING: 2,\n    UNREACHABLE: 3,\n    UNLOGGED: 4,\n    READY: 4,\n\n    // legacy states, prefer the ones above for health checks\n    INSTALLED: 2,\n    RUNNING: 3,\n    REACHABLE: 4,\n    AUTHENTICATED: 4,\n  },\n\n  LEVELS: {\n    SILLY: 0,\n    VERBOSE: 1,\n    DEBUG: 2,\n    INFO: 3,\n    WARNING: 4,\n    ERROR: 5,\n  },\n};\n","'use strict';\r\n\r\nconst { compact, flatten, head, last, uniq, detailGet, detailLang, detailNotEmpty, getFunctionDetails } = require('./utils');\r\n\r\nconst idIsEmpty = (id) =>\r\n  !id || id === '' ||\r\n  (id.indexOf(';') !== -1 && id.split(';')[1] === '');\r\n\r\nconst isFunctionKind = kind => ['function', 'type'].includes(kind);\r\n\r\nconst parameterName = (p, prefix = '', w) =>\r\n  p\r\n    ? (\r\n      w\r\n        ? `<${w}>${prefix}<span class=\"parameter-name\">${p.name}</span></${head(w.split(/\\s/g))}>`\r\n        : `${prefix}<span class=\"parameter-name\">${p.name}</span>`\r\n    )\r\n    : undefined;\r\n\r\nconst parameterDefault = (p) => {\r\n  if (!p) { return ''; }\r\n\r\n  const lang = detailLang(p);\r\n\r\n  switch (lang) {\r\n    case 'python':\r\n    case 'javascript':\r\n      return detailNotEmpty(p, 'default_value')\r\n        ? `=${head(detailGet(p, 'default_value')).repr}`\r\n        : '';\r\n    default:\r\n      return '';\r\n  }\r\n};\r\n\r\nconst parameterType = (p, prefix = '') =>\r\n  p.inferred_value && p.inferred_value\r\n    ? `${prefix}${uniq(compact(p.inferred_value).map(v =>\r\n      `<a href='command:kite.navigate?\"value/${v.type_id}\"' class=\"parameter-type\">${v.type}</a>`)).join('<i>|</i>')}`\r\n    : '';\r\n\r\nconst parameterTypeLink = parameterType\r\n\r\nconst parameterValue = p =>\r\n  `${parameterName(p)}${parameterType(p, ':')}${parameterDefault(p)}`;\r\n\r\nconst parameters = (d, withType = true) =>\r\n  d.parameters\r\n    ? (withType\r\n      ? d.parameters.map(parameterValue)\r\n      : d.parameters.map(p => `${parameterName(p)}${parameterDefault(p)}`))\r\n    : [];\r\n\r\nconst gatherParameters = (detail, withType) => {\r\n  const lang = detailLang(detail);\r\n  switch (lang) {\r\n    case 'python':\r\n      return [\r\n        parameters(detail, withType),\r\n        parameterName(detailGet(detail, 'vararg'), '*'),\r\n        parameterName(detailGet(detail, 'kwarg'), '**'),\r\n      ];\r\n    case 'javascript':\r\n      return [\r\n        parameters(detail, withType),\r\n        parameterName(detailGet(detail, 'rest'), '…'),\r\n      ];\r\n    default:\r\n      return [\r\n        parameters(detail, withType),\r\n      ];\r\n  }\r\n};\r\n\r\nconst signature = (data, withType = true, current = -1) => {\r\n  const detail = getFunctionDetails(data);\r\n  return detail\r\n    ? `(<span class=\"signature\">${\r\n    compact(flatten(gatherParameters(detail, withType)))\r\n      .map((p, i, a) => {\r\n        const s = i === a.length - 1 ? '' : ', ';\r\n        return i === current\r\n          ? `<span class=\"parameter parameter-highlight\">${p}${s}</span>`\r\n          : `<span class=\"parameter\">${p}${s}</span>`;\r\n      })\r\n      .join('')\r\n    }</span>)`\r\n    : '(<span class=\"signature\"></span>)';\r\n}\r\n\r\nconst callParameterName = (parameter) => parameter.name;\r\n\r\nconst callKwargParameter = (parameter, withType) => {\r\n  const example = head(parameter.types.filter(t => t.examples));\r\n  return example\r\n    ? compact([\r\n      callParameterName(parameter),\r\n      head(example.examples).replace(/\"'/g, \"'\").replace(/'\"/g, \"'\"),\r\n    ]).join('=')\r\n    : callParameterName(parameter);\r\n};\r\n\r\nconst callKwargParameters = (signature, withType) =>\r\n  detailNotEmpty(signature, 'kwargs')\r\n    ? detailGet(signature, 'kwargs').map(p => callKwargParameter(p)).join(', ')\r\n    : null;\r\n\r\nconst callSignature = (data) =>\r\n  compact(flatten([\r\n    (data.args || []).map(callParameterName),\r\n    callKwargParameters(data),\r\n  ]))\r\n    .join(', ');\r\n\r\nconst valueName = value =>\r\n  last(last(value.repr.replace(/\\(|\\)/g, '').split('|').map(s => s.trim().split(':'))));\r\n\r\nconst valueNameFromId = value => last(value.id.split(/[;.]/g));\r\n\r\nconst valueLabel = (value, current) => {\r\n  if (isFunctionKind(value.kind)) {\r\n    return valueName(value) + signature(value, true, current);\r\n  } else {\r\n    return (value.kind === 'instance'\r\n      ? valueNameFromId(value)\r\n      : valueName(value));\r\n  }\r\n};\r\n\r\nconst symbolName = s => {\r\n  const value = head(s.value);\r\n  return value.kind === 'instance'\r\n    ? s.name\r\n    : valueName(value);\r\n};\r\n\r\nconst symbolLabel = (s, current) => {\r\n  const value = head(s.value);\r\n  return isFunctionKind(value.kind)\r\n    ? symbolName(s) + signature(value, true, current)\r\n    : symbolName(s);\r\n};\r\n\r\nconst memberLabel = (s) => {\r\n  const value = s.value ? head(s.value) : {};\r\n  const name = `<span class=\"repr\">${s.name}</span>`;\r\n  return isFunctionKind(value.kind) ? name + '()' : name;\r\n};\r\n\r\nconst wrapType = (o) => {\r\n  const { name, id } = o || {};\r\n  return name\r\n    ? (!idIsEmpty(id)\r\n      ? `<a href='command:kite.navigate?\"value/${id}\"' class=\"type-value\">${name}</a>`\r\n      : `<span class=\"type-value\">${name}</span>`\r\n    )\r\n    : null;\r\n};\r\n\r\nconst unionType = (vs, map) =>\r\n  uniq(flatten(compact(vs.map(map))).map(wrapType)).join(' | ');\r\n\r\nconst returnType = (v) =>\r\n  v && v.length ? `-> <span class=\"return-type\">${v}</span>` : '';\r\n\r\nconst symbolValue = s => head(s.value);\r\n\r\nconst symbolKindMarkdown = s => {\r\n  const value = symbolValue(s);\r\n  if (value.kind !== 'instance') {\r\n    return `[ _${value.kind}_ ]`;\r\n  }\r\n  let types = uniq(s.value.filter(v => v.kind === 'instance').map(v => `_${v.type.replace('_', '\\\\_')}_`));\r\n  return `[ ${types.join(' | ')} ]`;\r\n}\r\n\r\nconst reportFromHover = hover => {\r\n  const symbol = head(hover.symbol);\r\n  const data = {\r\n    symbol,\r\n    report: hover.report,\r\n  };\r\n  if (data.value && data.value.id === '') { data.value.id = symbol.name; }\r\n  return data;\r\n};\r\n\r\nconst extractInstanceType = v => ({ name: v.type, id: v.type_id });\r\nconst extractFunctionType = v => {\r\n  const detail = getFunctionDetails(v);\r\n  return detail && detail.return_value\r\n    ? detail.return_value.map(v => ({ name: v.type, id: v.type_id }))\r\n    : [];\r\n};\r\n\r\nconst symbolType = s => unionType(s.value, extractInstanceType);\r\n\r\nconst symbolReturnType = s => unionType(s.value, extractFunctionType);\r\n\r\nconst valueType = value =>\r\n  isFunctionKind(value.kind)\r\n    ? returnType(unionType([value], extractFunctionType))\r\n    : unionType([value], extractInstanceType);\r\n\r\nconst symbolId = (symbol) =>\r\n  symbol.id !== ''\r\n    ? symbol.id\r\n    : head(symbol.value).id;\r\n\r\nmodule.exports = {\r\n  callSignature,\r\n  memberLabel,\r\n  parameterName,\r\n  parameterType,\r\n  parameterDefault,\r\n  parameterValue,\r\n  parameterTypeLink,\r\n  reportFromHover,\r\n  returnType,\r\n  signature,\r\n  symbolId,\r\n  symbolKindMarkdown,\r\n  symbolLabel,\r\n  symbolName,\r\n  symbolType,\r\n  symbolValue,\r\n  unionType,\r\n  valueLabel,\r\n  valueName,\r\n  valueNameFromId,\r\n  valueType,\r\n  idIsEmpty,\r\n  isFunctionKind,\r\n  symbolReturnType,\r\n};\r\n","\"use strict\";\r\n\r\nconst os = require(\"os\");\r\nconst vscode = require(\"vscode\");\r\nconst crypto = require(\"crypto\");\r\nconst mixpanel = require(\"mixpanel\");\r\nconst Logger = require(\"kite-connector/lib/logger\");\r\nconst kitePkg = require(\"../package.json\");\r\nconst localconfig = require(\"./localconfig.js\");\r\nconst { metricsCounterPath } = require(\"./urls\");\r\n\r\nconst OS_VERSION = os.type() + \" \" + os.release();\r\n\r\nconst EDITOR_UUID = vscode.env.machineId;\r\n\r\nconst MIXPANEL_TOKEN = \"fb6b9b336122a8b29c60f4c28dab6d03\";\r\n\r\nlet Kite;\r\n\r\nconst mpClient = mixpanel.init(MIXPANEL_TOKEN, {\r\n  protocol: \"https\",\r\n});\r\n\r\n// Generate a unique ID for this user and save it for future use.\r\nfunction distinctID() {\r\n  var id = localconfig.get(\"distinctID\");\r\n  if (id === undefined) {\r\n    // use the atom UUID\r\n    id = EDITOR_UUID || crypto.randomBytes(32).toString(\"hex\");\r\n    localconfig.set(\"distinctID\", id);\r\n  }\r\n  return id;\r\n}\r\n\r\nfunction sendFeatureMetric(name) {\r\n  if (process.env.NODE_ENV === \"test\") {\r\n    return;\r\n  }\r\n\r\n  if (!Kite) {\r\n    Kite = require(\"./kite\");\r\n  }\r\n  const path = metricsCounterPath();\r\n\r\n  Logger.debug(\"feature metric:\", name);\r\n\r\n  return Kite.request(\r\n    {\r\n      path,\r\n      method: \"POST\"\r\n    },\r\n    JSON.stringify({\r\n      name,\r\n      value: 1\r\n    })\r\n  );\r\n}\r\n\r\nfunction featureRequested(name) {\r\n  sendFeatureMetric(`vscode_${name}_requested`);\r\n}\r\n\r\nfunction featureFulfilled(name) {\r\n  sendFeatureMetric(`vscode_${name}_fulfilled`);\r\n}\r\n\r\nfunction getOsName() {\r\n  switch (os.platform()) {\r\n    case \"darwin\":\r\n      return \"macos\";\r\n    case \"win32\":\r\n      return \"windows\";\r\n    case \"linux\":\r\n      return \"linux\";\r\n    default:\r\n      return \"\";\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  distinctID,\r\n  EDITOR_UUID,\r\n  OS_VERSION,\r\n  featureRequested,\r\n  featureFulfilled,\r\n  increment: name => sendFeatureMetric(name),\r\n  getOsName,\r\n  version: kitePkg.version,\r\n  track: (event, props) => {\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n      console.log(`tracking ${event}`, props);\r\n      return;\r\n    }\r\n\r\n    const eventData = {\r\n      distinct_id: distinctID(),\r\n      editor_uuid: EDITOR_UUID,\r\n      os_name: os.type(),\r\n      os_release: os.release(),\r\n    };\r\n\r\n    for(var key in props) {\r\n      eventData[key] = props[key];\r\n    }\r\n\r\n    mpClient.track(event, eventData);\r\n  },\r\n};\r\n","\"use strict\";\r\n\r\nconst fs = require(\"fs\");\r\nconst os = require(\"os\");\r\nconst path = require(\"path\");\r\nconst Logger = require(\"kite-connector/lib/logger\");\r\nconst legacyConfigDir = path.join(os.homedir(), \".kite\");\r\nconst legacyConfigPath = path.join(legacyConfigDir, \"kite-config.json\");\r\n\r\nconst configDir =\r\n  os.platform() === \"win32\"\r\n    ? path.join(process.env.LOCALAPPDATA, \"Kite\")\r\n    : path.join(os.homedir(), \".kite\");\r\n\r\nconst configPath = path.join(configDir, \"kite-vscode-config.json\");\r\n\r\nlet config = null;\r\n\r\ntry {\r\n  if (fs.existsSync(legacyConfigPath)) {\r\n    Logger.verbose(\r\n      `initializing localconfig from legacy path ${legacyConfigPath}.`\r\n    );\r\n    config = JSON.parse(\r\n      fs.readFileSync(legacyConfigPath, { encoding: \"utf8\" })\r\n    );\r\n    fs.unlinkSync(legacyConfigPath);\r\n    if (fs.readdirSync(legacyConfigDir).length === 0) {\r\n      fs.rmdirSync(legacyConfigDir);\r\n    }\r\n  } else {\r\n    Logger.verbose(`initializing localconfig from ${configPath}.`);\r\n    config = JSON.parse(fs.readFileSync(configPath, { encoding: \"utf8\" }));\r\n  }\r\n} catch (err) {\r\n  config = {};\r\n}\r\n\r\nfunction persist() {\r\n  const str = JSON.stringify(config, null, 2); // serialize with whitespace for human readability\r\n  if (!fs.existsSync(configDir)) {\r\n    fs.mkdirSync(configDir);\r\n  }\r\n  fs.writeFile(configPath, str, \"utf8\", err => {\r\n    if (err) {\r\n      Logger.error(`failed to persist localconfig to ${configPath}`, err);\r\n    }\r\n  });\r\n}\r\n\r\n// get gets a value from storage\r\nfunction get(key, fallback) {\r\n  return key in config ? config[key] : fallback;\r\n}\r\n\r\n// set assigns a value to storage and asynchronously persists it to disk\r\nfunction set(key, value) {\r\n  config[key] = value;\r\n  persist(); // will write to disk asynchronously\r\n}\r\n\r\nmodule.exports = {\r\n  get: get,\r\n  set: set\r\n};\r\n","var _ = require('./utility');\n\nfunction raw(payload, jsonBackup) {\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction selectFrames(frames, range) {\n  var len = frames.length;\n  if (len > range * 2) {\n    return frames.slice(0, range).concat(frames.slice(len - range));\n  }\n  return frames;\n}\n\nfunction truncateFrames(payload, jsonBackup, range) {\n  range = (typeof range === 'undefined') ? 30 : range;\n  var body = payload.data.body;\n  var frames;\n  if (body.trace_chain) {\n    var chain = body.trace_chain;\n    for (var i = 0; i < chain.length; i++) {\n      frames = chain[i].frames;\n      frames = selectFrames(frames, range);\n      chain[i].frames = frames;\n    }\n  } else if (body.trace) {\n    frames = body.trace.frames;\n    frames = selectFrames(frames, range);\n    body.trace.frames = frames;\n  }\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction maybeTruncateValue(len, val) {\n  if (!val) {\n    return val;\n  }\n  if (val.length > len) {\n    return val.slice(0, len - 3).concat('...');\n  }\n  return val;\n}\n\nfunction truncateStrings(len, payload, jsonBackup) {\n  function truncator(k, v, seen) {\n    switch (_.typeName(v)) {\n      case 'string':\n        return maybeTruncateValue(len, v);\n      case 'object':\n      case 'array':\n        return _.traverse(v, truncator, seen);\n      default:\n        return v;\n    }\n  }\n  payload = _.traverse(payload, truncator, []);\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction truncateTraceData(traceData) {\n  if (traceData.exception) {\n    delete traceData.exception.description;\n    traceData.exception.message = maybeTruncateValue(255, traceData.exception.message);\n  }\n  traceData.frames = selectFrames(traceData.frames, 1);\n  return traceData;\n}\n\nfunction minBody(payload, jsonBackup) {\n  var body = payload.data.body;\n  if (body.trace_chain) {\n    var chain = body.trace_chain;\n    for (var i = 0; i < chain.length; i++) {\n      chain[i] = truncateTraceData(chain[i]);\n    }\n  } else if (body.trace) {\n    body.trace = truncateTraceData(body.trace);\n  }\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction needsTruncation(payload, maxSize) {\n  return _.maxByteSize(payload) > maxSize;\n}\n\nfunction truncate(payload, jsonBackup, maxSize) {\n  maxSize = (typeof maxSize === 'undefined') ? (512 * 1024) : maxSize;\n  var strategies = [\n    raw,\n    truncateFrames,\n    truncateStrings.bind(null, 1024),\n    truncateStrings.bind(null, 512),\n    truncateStrings.bind(null, 256),\n    minBody\n  ];\n  var strategy, results, result;\n\n  while ((strategy = strategies.shift())) {\n    results = strategy(payload, jsonBackup);\n    payload = results[0];\n    result = results[1];\n    if (result.error || !needsTruncation(result.value, maxSize)) {\n      return result;\n    }\n  }\n  return result;\n}\n\nmodule.exports = {\n  truncate: truncate,\n\n  /* for testing */\n  raw: raw,\n  truncateFrames: truncateFrames,\n  truncateStrings: truncateStrings,\n  maybeTruncateValue: maybeTruncateValue\n};\n","exports = module.exports = stringify\nexports.getSerialize = serializer\n\nfunction stringify(obj, replacer, spaces, cycleReplacer) {\n  return JSON.stringify(obj, serializer(replacer, cycleReplacer), spaces)\n}\n\nfunction serializer(replacer, cycleReplacer) {\n  var stack = [], keys = []\n\n  if (cycleReplacer == null) cycleReplacer = function(key, value) {\n    if (stack[0] === value) return \"[Circular ~]\"\n    return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\"\n  }\n\n  return function(key, value) {\n    if (stack.length > 0) {\n      var thisPos = stack.indexOf(this)\n      ~thisPos ? stack.splice(thisPos + 1) : stack.push(this)\n      ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key)\n      if (~stack.indexOf(value)) value = cycleReplacer.call(this, key, value)\n    }\n    else stack.push(value)\n\n    return replacer == null ? value : replacer.call(this, key, value)\n  }\n}\n","/*!\n * async\n * https://github.com/caolan/async\n *\n * Copyright 2010-2014 Caolan McMahon\n * Released under the MIT license\n */\n(function () {\n\n    var async = {};\n    function noop() {}\n\n    // global on the server, window in the browser\n    var root, previous_async;\n\n    if (typeof window == 'object' && this === window) {\n        root = window;\n    }\n    else if (typeof global == 'object' && this === global) {\n        root = global;\n    }\n    else {\n        root = this;\n    }\n\n    if (root != null) {\n      previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        var called = false;\n        return function() {\n            if (called) throw new Error(\"Callback was already called.\");\n            called = true;\n            fn.apply(this, arguments);\n        };\n    }\n\n    function _once(fn) {\n        var called = false;\n        return function() {\n            if (called) return;\n            called = true;\n            fn.apply(this, arguments);\n        };\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _toString = Object.prototype.toString;\n\n    var _isArray = Array.isArray || function (obj) {\n        return _toString.call(obj) === '[object Array]';\n    };\n\n    function _isArrayLike(arr) {\n        return _isArray(arr) || (\n            // has a positive integer length property\n            typeof arr.length === \"number\" &&\n            arr.length >= 0 &&\n            arr.length % 1 === 0\n        );\n    }\n\n    function _each(coll, iterator) {\n        return _isArrayLike(coll) ?\n            _arrayEach(coll, iterator) :\n            _forEachOf(coll, iterator);\n    }\n\n    function _arrayEach(arr, iterator) {\n      var index = -1,\n          length = arr.length;\n\n      while (++index < length) {\n        iterator(arr[index], index, arr);\n      }\n    }\n\n    function _map(arr, iterator) {\n      var index = -1,\n          length = arr.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = iterator(arr[index], index, arr);\n      }\n      return result;\n    }\n\n    function _range(count) {\n        return _map(Array(count), function (v, i) { return i; });\n    }\n\n    function _reduce(arr, iterator, memo) {\n        _arrayEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    }\n\n    function _forEachOf(object, iterator) {\n        _arrayEach(_keys(object), function (key) {\n            iterator(object[key], key);\n        });\n    }\n\n    var _keys = Object.keys || function (obj) {\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    function _keyIterator(coll) {\n        var i = -1;\n        var len;\n        var keys;\n        if (_isArrayLike(coll)) {\n            len = coll.length;\n            return function next() {\n                i++;\n                return i < len ? i : null;\n            };\n        } else {\n            keys = _keys(coll);\n            len = keys.length;\n            return function next() {\n                i++;\n                return i < len ? keys[i] : null;\n            };\n        }\n    }\n\n    function _baseSlice(arr, start) {\n        start = start || 0;\n        var index = -1;\n        var length = arr.length;\n\n        if (start) {\n          length -= start;\n          length = length < 0 ? 0 : length;\n        }\n        var result = Array(length);\n\n        while (++index < length) {\n          result[index] = arr[index + start];\n        }\n        return result;\n    }\n\n    function _withoutIndex(iterator) {\n        return function (value, index, callback) {\n            return iterator(value, callback);\n        };\n    }\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n\n    // capture the global reference to guard against fakeTimer mocks\n    var _setImmediate;\n    if (typeof setImmediate === 'function') {\n        _setImmediate = setImmediate;\n    }\n\n    if (typeof process === 'undefined' || !(process.nextTick)) {\n        if (_setImmediate) {\n            async.nextTick = function (fn) {\n                // not a direct alias for IE10 compatibility\n                _setImmediate(fn);\n            };\n            async.setImmediate = async.nextTick;\n        }\n        else {\n            async.nextTick = function (fn) {\n                setTimeout(fn, 0);\n            };\n            async.setImmediate = async.nextTick;\n        }\n    }\n    else {\n        async.nextTick = process.nextTick;\n        if (_setImmediate) {\n            async.setImmediate = function (fn) {\n              // not a direct alias for IE10 compatibility\n              _setImmediate(fn);\n            };\n        }\n        else {\n            async.setImmediate = async.nextTick;\n        }\n    }\n\n    async.forEach =\n    async.each = function (arr, iterator, callback) {\n        return async.eachOf(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachSeries =\n    async.eachSeries = function (arr, iterator, callback) {\n        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\n    };\n\n\n    async.forEachLimit =\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachOf =\n    async.eachOf = function (object, iterator, callback) {\n        callback = _once(callback || noop);\n        object = object || [];\n        var size = _isArrayLike(object) ? object.length : _keys(object).length;\n        var completed = 0;\n        if (!size) {\n            return callback(null);\n        }\n        _each(object, function (value, key) {\n            iterator(object[key], key, only_once(done));\n        });\n        function done(err) {\n          if (err) {\n              callback(err);\n          }\n          else {\n              completed += 1;\n              if (completed >= size) {\n                  callback(null);\n              }\n          }\n        }\n    };\n\n    async.forEachOfSeries =\n    async.eachOfSeries = function (obj, iterator, callback) {\n        callback = _once(callback || noop);\n        obj = obj || [];\n        var nextKey = _keyIterator(obj);\n        var key = nextKey();\n        function iterate() {\n            var sync = true;\n            if (key === null) {\n                return callback(null);\n            }\n            iterator(obj[key], key, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    key = nextKey();\n                    if (key === null) {\n                        return callback(null);\n                    } else {\n                        if (sync) {\n                            async.nextTick(iterate);\n                        } else {\n                            iterate();\n                        }\n                    }\n                }\n            }));\n            sync = false;\n        }\n        iterate();\n    };\n\n\n\n    async.forEachOfLimit =\n    async.eachOfLimit = function (obj, limit, iterator, callback) {\n        _eachOfLimit(limit)(obj, iterator, callback);\n    };\n\n    function _eachOfLimit(limit) {\n\n        return function (obj, iterator, callback) {\n            callback = _once(callback || noop);\n            obj = obj || [];\n            var nextKey = _keyIterator(obj);\n            if (limit <= 0) {\n                return callback(null);\n            }\n            var done = false;\n            var running = 0;\n            var errored = false;\n\n            (function replenish () {\n                if (done && running <= 0) {\n                    return callback(null);\n                }\n\n                while (running < limit && !errored) {\n                    var key = nextKey();\n                    if (key === null) {\n                        done = true;\n                        if (running <= 0) {\n                            callback(null);\n                        }\n                        return;\n                    }\n                    running += 1;\n                    iterator(obj[key], key, only_once(function (err) {\n                        running -= 1;\n                        if (err) {\n                            callback(err);\n                            errored = true;\n                        }\n                        else {\n                            replenish();\n                        }\n                    }));\n                }\n            })();\n        };\n    }\n\n\n    function doParallel(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOf, obj, iterator, callback);\n        };\n    }\n    function doParallelLimit(limit, fn) {\n        return function (obj, iterator, callback) {\n            return fn(_eachOfLimit(limit), obj, iterator, callback);\n        };\n    }\n    function doSeries(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOfSeries, obj, iterator, callback);\n        };\n    }\n\n    function _asyncMap(eachfn, arr, iterator, callback) {\n        callback = _once(callback || noop);\n        var results = [];\n        eachfn(arr, function (value, index, callback) {\n            iterator(value, function (err, v) {\n                results[index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = function (arr, limit, iterator, callback) {\n        return _mapLimit(limit)(arr, iterator, callback);\n    };\n\n    function _mapLimit(limit) {\n        return doParallelLimit(limit, _asyncMap);\n    }\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.inject =\n    async.foldl =\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachOfSeries(arr, function (x, i, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err || null, memo);\n        });\n    };\n\n    async.foldr =\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, function (x) {\n            return x;\n        }).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n\n    function _filter(eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, index, callback) {\n            iterator(x.value, function (v) {\n                if (v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n\n    async.select =\n    async.filter = doParallel(_filter);\n\n    async.selectSeries =\n    async.filterSeries = doSeries(_filter);\n\n    function _reject(eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, index, callback) {\n            iterator(x.value, function (v) {\n                if (!v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n    async.reject = doParallel(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    function _detect(eachfn, arr, iterator, main_callback) {\n        eachfn(arr, function (x, index, callback) {\n            iterator(x, function (result) {\n                if (result) {\n                    main_callback(x);\n                    main_callback = noop;\n                }\n                else {\n                    callback();\n                }\n            });\n        }, function () {\n            main_callback();\n        });\n    }\n    async.detect = doParallel(_detect);\n    async.detectSeries = doSeries(_detect);\n\n    async.any =\n    async.some = function (arr, iterator, main_callback) {\n        async.eachOf(arr, function (x, _, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    main_callback(true);\n                    main_callback = noop;\n                }\n                callback();\n            });\n        }, function () {\n            main_callback(false);\n        });\n    };\n\n    async.all =\n    async.every = function (arr, iterator, main_callback) {\n        async.eachOf(arr, function (x, _, callback) {\n            iterator(x, function (v) {\n                if (!v) {\n                    main_callback(false);\n                    main_callback = noop;\n                }\n                callback();\n            });\n        }, function () {\n            main_callback(true);\n        });\n    };\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                callback(null, _map(results.sort(comparator), function (x) {\n                    return x.value;\n                }));\n            }\n\n        });\n\n        function comparator(left, right) {\n            var a = left.criteria, b = right.criteria;\n            return a < b ? -1 : a > b ? 1 : 0;\n        }\n    };\n\n    async.auto = function (tasks, callback) {\n        callback = _once(callback || noop);\n        var keys = _keys(tasks);\n        var remainingTasks = keys.length;\n        if (!remainingTasks) {\n            return callback(null);\n        }\n\n        var results = {};\n\n        var listeners = [];\n        function addListener(fn) {\n            listeners.unshift(fn);\n        }\n        function removeListener(fn) {\n            for (var i = 0; i < listeners.length; i += 1) {\n                if (listeners[i] === fn) {\n                    listeners.splice(i, 1);\n                    return;\n                }\n            }\n        }\n        function taskComplete() {\n            remainingTasks--;\n            _arrayEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        }\n\n        addListener(function () {\n            if (!remainingTasks) {\n                callback(null, results);\n            }\n        });\n\n        _arrayEach(keys, function (k) {\n            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\n            function taskCallback(err) {\n                var args = _baseSlice(arguments, 1);\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _arrayEach(_keys(results), function(rkey) {\n                        safeResults[rkey] = results[rkey];\n                    });\n                    safeResults[k] = args;\n                    callback(err, safeResults);\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            }\n            var requires = task.slice(0, Math.abs(task.length - 1)) || [];\n            // prevent dead-locks\n            var len = requires.length;\n            var dep;\n            while (len--) {\n                if (!(dep = tasks[requires[len]])) {\n                    throw new Error('Has inexistant dependency');\n                }\n                if (_isArray(dep) && !!~dep.indexOf(k)) {\n                    throw new Error('Has cyclic dependencies');\n                }\n            }\n            function ready() {\n                return _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            }\n            if (ready()) {\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                addListener(listener);\n            }\n            function listener() {\n                if (ready()) {\n                    removeListener(listener);\n                    task[task.length - 1](taskCallback, results);\n                }\n            }\n        });\n    };\n\n    async.retry = function(times, task, callback) {\n        var DEFAULT_TIMES = 5;\n        var attempts = [];\n        // Use defaults if times not passed\n        if (typeof times === 'function') {\n            callback = task;\n            task = times;\n            times = DEFAULT_TIMES;\n        }\n        // Make sure times is a number\n        times = parseInt(times, 10) || DEFAULT_TIMES;\n\n        function wrappedTask(wrappedCallback, wrappedResults) {\n            function retryAttempt(task, finalAttempt) {\n                return function(seriesCallback) {\n                    task(function(err, result){\n                        seriesCallback(!err || finalAttempt, {err: err, result: result});\n                    }, wrappedResults);\n                };\n            }\n\n            while (times) {\n                attempts.push(retryAttempt(task, !(times-=1)));\n            }\n            async.series(attempts, function(done, data){\n                data = data[data.length - 1];\n                (wrappedCallback || callback)(data.err, data.result);\n            });\n        }\n\n        // If a callback is passed, run this as a controll flow\n        return callback ? wrappedTask() : wrappedTask;\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = _once(callback || noop);\n        if (!_isArray(tasks)) {\n          var err = new Error('First argument to waterfall must be an array of functions');\n          return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        function wrapIterator(iterator) {\n            return function (err) {\n                if (err) {\n                    callback.apply(null, arguments);\n                }\n                else {\n                    var args = _baseSlice(arguments, 1);\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    ensureAsync(iterator).apply(null, args);\n                }\n            };\n        }\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    function _parallel(eachfn, tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        eachfn(tasks, function (task, key, callback) {\n            task(function (err) {\n                var args = _baseSlice(arguments, 1);\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.parallel = function (tasks, callback) {\n        _parallel(async.eachOf, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel(_eachOfLimit(limit), tasks, callback);\n    };\n\n    async.series = function (tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        async.eachOfSeries(tasks, function (task, key, callback) {\n            task(function (err) {\n                var args = _baseSlice(arguments, 1);\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    };\n\n    async.iterator = function (tasks) {\n        function makeCallback(index) {\n            function fn() {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            }\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        }\n        return makeCallback(0);\n    };\n\n    async.apply = function (fn) {\n        var args = _baseSlice(arguments, 1);\n        return function () {\n            return fn.apply(\n                null, args.concat(_baseSlice(arguments))\n            );\n        };\n    };\n\n    function _concat(eachfn, arr, fn, callback) {\n        var result = [];\n        eachfn(arr, function (x, index, cb) {\n            fn(x, function (err, y) {\n                result = result.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, result);\n        });\n    }\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        if (test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.whilst(test, iterator, callback);\n            });\n        }\n        else {\n            callback(null);\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        iterator(function (err) {\n            if (err) {\n                return callback(err);\n            }\n            var args = _baseSlice(arguments, 1);\n            if (test.apply(null, args)) {\n                async.doWhilst(iterator, test, callback);\n            }\n            else {\n                callback(null);\n            }\n        });\n    };\n\n    async.until = function (test, iterator, callback) {\n        if (!test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.until(test, iterator, callback);\n            });\n        }\n        else {\n            callback(null);\n        }\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        iterator(function (err) {\n            if (err) {\n                return callback(err);\n            }\n            var args = _baseSlice(arguments, 1);\n            if (!test.apply(null, args)) {\n                async.doUntil(iterator, test, callback);\n            }\n            else {\n                callback(null);\n            }\n        });\n    };\n\n    function _queue(worker, concurrency, payload) {\n        if (concurrency == null) {\n            concurrency = 1;\n        }\n        else if(concurrency === 0) {\n            throw new Error('Concurrency must not be zero');\n        }\n        function _insert(q, data, pos, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0 && q.idle()) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                   q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    callback: callback || noop\n                };\n\n                if (pos) {\n                  q.tasks.unshift(item);\n                } else {\n                  q.tasks.push(item);\n                }\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n            });\n            async.setImmediate(q.process);\n        }\n        function _next(q, tasks) {\n            return function(){\n                workers -= 1;\n                var args = arguments;\n                _arrayEach(tasks, function (task) {\n                    task.callback.apply(task, args);\n                });\n                if (q.tasks.length + workers === 0) {\n                    q.drain();\n                }\n                q.process();\n            };\n        }\n\n        var workers = 0;\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            saturated: noop,\n            empty: noop,\n            drain: noop,\n            started: false,\n            paused: false,\n            push: function (data, callback) {\n                _insert(q, data, false, callback);\n            },\n            kill: function () {\n                q.drain = noop;\n                q.tasks = [];\n            },\n            unshift: function (data, callback) {\n                _insert(q, data, true, callback);\n            },\n            process: function () {\n                if (!q.paused && workers < q.concurrency && q.tasks.length) {\n                    while(workers < q.concurrency && q.tasks.length){\n                        var tasks = payload ?\n                            q.tasks.splice(0, payload) :\n                            q.tasks.splice(0, q.tasks.length);\n\n                        var data = _map(tasks, function (task) {\n                            return task.data;\n                        });\n\n                        if (q.tasks.length === 0) {\n                            q.empty();\n                        }\n                        workers += 1;\n                        var cb = only_once(_next(q, tasks));\n                        worker(data, cb);\n                    }\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            },\n            idle: function() {\n                return q.tasks.length + workers === 0;\n            },\n            pause: function () {\n                q.paused = true;\n            },\n            resume: function () {\n                if (q.paused === false) { return; }\n                q.paused = false;\n                var resumeCount = Math.min(q.concurrency, q.tasks.length);\n                // Need to call q.process once per concurrent\n                // worker to preserve full concurrency after pause\n                for (var w = 1; w <= resumeCount; w++) {\n                    async.setImmediate(q.process);\n                }\n            }\n        };\n        return q;\n    }\n\n    async.queue = function (worker, concurrency) {\n        var q = _queue(function (items, cb) {\n            worker(items[0], cb);\n        }, concurrency, 1);\n\n        return q;\n    };\n\n    async.priorityQueue = function (worker, concurrency) {\n\n        function _compareTasks(a, b){\n            return a.priority - b.priority;\n        }\n\n        function _binarySearch(sequence, item, compare) {\n          var beg = -1,\n              end = sequence.length - 1;\n          while (beg < end) {\n              var mid = beg + ((end - beg + 1) >>> 1);\n              if (compare(item, sequence[mid]) >= 0) {\n                  beg = mid;\n              } else {\n                  end = mid - 1;\n              }\n          }\n          return beg;\n        }\n\n        function _insert(q, data, priority, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    priority: priority,\n                    callback: typeof callback === 'function' ? callback : noop\n                };\n\n                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n                async.setImmediate(q.process);\n            });\n        }\n\n        // Start with a normal queue\n        var q = async.queue(worker, concurrency);\n\n        // Override push to accept second parameter representing priority\n        q.push = function (data, priority, callback) {\n            _insert(q, data, priority, callback);\n        };\n\n        // Remove unshift function\n        delete q.unshift;\n\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        return _queue(worker, 1, payload);\n    };\n\n    function _console_fn(name) {\n        return function (fn) {\n            var args = _baseSlice(arguments, 1);\n            fn.apply(null, args.concat([function (err) {\n                var args = _baseSlice(arguments, 1);\n                if (typeof console !== 'undefined') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _arrayEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            }]));\n        };\n    }\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        hasher = hasher || function (x) {\n            return x;\n        };\n        function memoized() {\n            var args = _baseSlice(arguments);\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (key in memo) {\n                async.nextTick(function () {\n                    callback.apply(null, memo[key]);\n                });\n            }\n            else if (key in queues) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([function () {\n                    memo[key] = _baseSlice(arguments);\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                      q[i].apply(null, arguments);\n                    }\n                }]));\n            }\n        }\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n      return function () {\n        return (fn.unmemoized || fn).apply(null, arguments);\n      };\n    };\n\n    function _times(mapper) {\n        return function (count, iterator, callback) {\n            mapper(_range(count), iterator, callback);\n        };\n    }\n\n    async.times = _times(async.map);\n    async.timesSeries = _times(async.mapSeries);\n    async.timesLimit = function (count, limit, iterator, callback) {\n        return async.mapLimit(_range(count), limit, iterator, callback);\n    };\n\n    async.seq = function (/* functions... */) {\n        var fns = arguments;\n        return function () {\n            var that = this;\n            var args = _baseSlice(arguments);\n\n            var callback = args.slice(-1)[0];\n            if (typeof callback == 'function') {\n                args.pop();\n            } else {\n                callback = noop;\n            }\n\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([function () {\n                    var err = arguments[0];\n                    var nextargs = _baseSlice(arguments, 1);\n                    cb(err, nextargs);\n                }]));\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        };\n    };\n\n    async.compose = function (/* functions... */) {\n      return async.seq.apply(null, Array.prototype.reverse.call(arguments));\n    };\n\n\n    function _applyEach(eachfn, fns /*args...*/) {\n        function go() {\n            var that = this;\n            var args = _baseSlice(arguments);\n            var callback = args.pop();\n            return eachfn(fns, function (fn, _, cb) {\n                fn.apply(that, args.concat([cb]));\n            },\n            callback);\n        }\n        if (arguments.length > 2) {\n            var args = _baseSlice(arguments, 2);\n            return go.apply(this, args);\n        }\n        else {\n            return go;\n        }\n    }\n\n    async.applyEach = function (/*fns, args...*/) {\n        var args = _baseSlice(arguments);\n        return _applyEach.apply(null, [async.eachOf].concat(args));\n    };\n    async.applyEachSeries = function (/*fns, args...*/) {\n        var args = _baseSlice(arguments);\n        return _applyEach.apply(null, [async.eachOfSeries].concat(args));\n    };\n\n\n    async.forever = function (fn, callback) {\n        var done = only_once(callback || noop);\n        var task = ensureAsync(fn);\n        function next(err) {\n            if (err) {\n                return done(err);\n            }\n            task(next);\n        }\n        next();\n    };\n\n    function ensureAsync(fn) {\n        return function (/*...args, callback*/) {\n            var args = _baseSlice(arguments);\n            var callback = args.pop();\n            args.push(function () {\n                var innerArgs = arguments;\n                if (sync) {\n                    async.setImmediate(function () {\n                        callback.apply(null, innerArgs);\n                    });\n                } else {\n                    callback.apply(null, innerArgs);\n                }\n            });\n            var sync = true;\n            fn.apply(this, args);\n            sync = false;\n        };\n    }\n\n    async.ensureAsync = ensureAsync;\n\n    // Node.js\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = async;\n    }\n    // AMD / RequireJS\n    else if (typeof define !== 'undefined' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar base64VLQ = require('./base64-vlq');\nvar util = require('./util');\nvar ArraySet = require('./array-set').ArraySet;\nvar MappingList = require('./mapping-list').MappingList;\n\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\nfunction SourceMapGenerator(aArgs) {\n  if (!aArgs) {\n    aArgs = {};\n  }\n  this._file = util.getArg(aArgs, 'file', null);\n  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\n  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  this._mappings = new MappingList();\n  this._sourcesContents = null;\n}\n\nSourceMapGenerator.prototype._version = 3;\n\n/**\n * Creates a new SourceMapGenerator based on a SourceMapConsumer\n *\n * @param aSourceMapConsumer The SourceMap.\n */\nSourceMapGenerator.fromSourceMap =\n  function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {\n    var sourceRoot = aSourceMapConsumer.sourceRoot;\n    var generator = new SourceMapGenerator({\n      file: aSourceMapConsumer.file,\n      sourceRoot: sourceRoot\n    });\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      var newMapping = {\n        generated: {\n          line: mapping.generatedLine,\n          column: mapping.generatedColumn\n        }\n      };\n\n      if (mapping.source != null) {\n        newMapping.source = mapping.source;\n        if (sourceRoot != null) {\n          newMapping.source = util.relative(sourceRoot, newMapping.source);\n        }\n\n        newMapping.original = {\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        };\n\n        if (mapping.name != null) {\n          newMapping.name = mapping.name;\n        }\n      }\n\n      generator.addMapping(newMapping);\n    });\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        generator.setSourceContent(sourceFile, content);\n      }\n    });\n    return generator;\n  };\n\n/**\n * Add a single mapping from original source line and column to the generated\n * source's line and column for this source map being created. The mapping\n * object should have the following properties:\n *\n *   - generated: An object with the generated line and column positions.\n *   - original: An object with the original line and column positions.\n *   - source: The original source file (relative to the sourceRoot).\n *   - name: An optional original token name for this mapping.\n */\nSourceMapGenerator.prototype.addMapping =\n  function SourceMapGenerator_addMapping(aArgs) {\n    var generated = util.getArg(aArgs, 'generated');\n    var original = util.getArg(aArgs, 'original', null);\n    var source = util.getArg(aArgs, 'source', null);\n    var name = util.getArg(aArgs, 'name', null);\n\n    if (!this._skipValidation) {\n      this._validateMapping(generated, original, source, name);\n    }\n\n    if (source != null) {\n      source = String(source);\n      if (!this._sources.has(source)) {\n        this._sources.add(source);\n      }\n    }\n\n    if (name != null) {\n      name = String(name);\n      if (!this._names.has(name)) {\n        this._names.add(name);\n      }\n    }\n\n    this._mappings.add({\n      generatedLine: generated.line,\n      generatedColumn: generated.column,\n      originalLine: original != null && original.line,\n      originalColumn: original != null && original.column,\n      source: source,\n      name: name\n    });\n  };\n\n/**\n * Set the source content for a source file.\n */\nSourceMapGenerator.prototype.setSourceContent =\n  function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\n    var source = aSourceFile;\n    if (this._sourceRoot != null) {\n      source = util.relative(this._sourceRoot, source);\n    }\n\n    if (aSourceContent != null) {\n      // Add the source content to the _sourcesContents map.\n      // Create a new _sourcesContents map if the property is null.\n      if (!this._sourcesContents) {\n        this._sourcesContents = Object.create(null);\n      }\n      this._sourcesContents[util.toSetString(source)] = aSourceContent;\n    } else if (this._sourcesContents) {\n      // Remove the source file from the _sourcesContents map.\n      // If the _sourcesContents map is empty, set the property to null.\n      delete this._sourcesContents[util.toSetString(source)];\n      if (Object.keys(this._sourcesContents).length === 0) {\n        this._sourcesContents = null;\n      }\n    }\n  };\n\n/**\n * Applies the mappings of a sub-source-map for a specific source file to the\n * source map being generated. Each mapping to the supplied source file is\n * rewritten using the supplied source map. Note: The resolution for the\n * resulting mappings is the minimium of this map and the supplied map.\n *\n * @param aSourceMapConsumer The source map to be applied.\n * @param aSourceFile Optional. The filename of the source file.\n *        If omitted, SourceMapConsumer's file property will be used.\n * @param aSourceMapPath Optional. The dirname of the path to the source map\n *        to be applied. If relative, it is relative to the SourceMapConsumer.\n *        This parameter is needed when the two source maps aren't in the same\n *        directory, and the source map to be applied contains relative source\n *        paths. If so, those relative source paths need to be rewritten\n *        relative to the SourceMapGenerator.\n */\nSourceMapGenerator.prototype.applySourceMap =\n  function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n    var sourceFile = aSourceFile;\n    // If aSourceFile is omitted, we will use the file property of the SourceMap\n    if (aSourceFile == null) {\n      if (aSourceMapConsumer.file == null) {\n        throw new Error(\n          'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +\n          'or the source map\\'s \"file\" property. Both were omitted.'\n        );\n      }\n      sourceFile = aSourceMapConsumer.file;\n    }\n    var sourceRoot = this._sourceRoot;\n    // Make \"sourceFile\" relative if an absolute Url is passed.\n    if (sourceRoot != null) {\n      sourceFile = util.relative(sourceRoot, sourceFile);\n    }\n    // Applying the SourceMap can add and remove items from the sources and\n    // the names array.\n    var newSources = new ArraySet();\n    var newNames = new ArraySet();\n\n    // Find mappings for the \"sourceFile\"\n    this._mappings.unsortedForEach(function (mapping) {\n      if (mapping.source === sourceFile && mapping.originalLine != null) {\n        // Check if it can be mapped by the source map, then update the mapping.\n        var original = aSourceMapConsumer.originalPositionFor({\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        });\n        if (original.source != null) {\n          // Copy mapping\n          mapping.source = original.source;\n          if (aSourceMapPath != null) {\n            mapping.source = util.join(aSourceMapPath, mapping.source)\n          }\n          if (sourceRoot != null) {\n            mapping.source = util.relative(sourceRoot, mapping.source);\n          }\n          mapping.originalLine = original.line;\n          mapping.originalColumn = original.column;\n          if (original.name != null) {\n            mapping.name = original.name;\n          }\n        }\n      }\n\n      var source = mapping.source;\n      if (source != null && !newSources.has(source)) {\n        newSources.add(source);\n      }\n\n      var name = mapping.name;\n      if (name != null && !newNames.has(name)) {\n        newNames.add(name);\n      }\n\n    }, this);\n    this._sources = newSources;\n    this._names = newNames;\n\n    // Copy sourcesContents of applied map.\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aSourceMapPath != null) {\n          sourceFile = util.join(aSourceMapPath, sourceFile);\n        }\n        if (sourceRoot != null) {\n          sourceFile = util.relative(sourceRoot, sourceFile);\n        }\n        this.setSourceContent(sourceFile, content);\n      }\n    }, this);\n  };\n\n/**\n * A mapping can have one of the three levels of data:\n *\n *   1. Just the generated position.\n *   2. The Generated position, original position, and original source.\n *   3. Generated and original position, original source, as well as a name\n *      token.\n *\n * To maintain consistency, we validate that any new mapping being added falls\n * in to one of these categories.\n */\nSourceMapGenerator.prototype._validateMapping =\n  function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,\n                                              aName) {\n    // When aOriginal is truthy but has empty values for .line and .column,\n    // it is most likely a programmer error. In this case we throw a very\n    // specific error message to try to guide them the right way.\n    // For example: https://github.com/Polymer/polymer-bundler/pull/519\n    if (aOriginal && typeof aOriginal.line !== 'number' && typeof aOriginal.column !== 'number') {\n        throw new Error(\n            'original.line and original.column are not numbers -- you probably meant to omit ' +\n            'the original mapping entirely and only map the generated position. If so, pass ' +\n            'null for the original mapping instead of an object with empty or null values.'\n        );\n    }\n\n    if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n        && aGenerated.line > 0 && aGenerated.column >= 0\n        && !aOriginal && !aSource && !aName) {\n      // Case 1.\n      return;\n    }\n    else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n             && aOriginal && 'line' in aOriginal && 'column' in aOriginal\n             && aGenerated.line > 0 && aGenerated.column >= 0\n             && aOriginal.line > 0 && aOriginal.column >= 0\n             && aSource) {\n      // Cases 2 and 3.\n      return;\n    }\n    else {\n      throw new Error('Invalid mapping: ' + JSON.stringify({\n        generated: aGenerated,\n        source: aSource,\n        original: aOriginal,\n        name: aName\n      }));\n    }\n  };\n\n/**\n * Serialize the accumulated mappings in to the stream of base 64 VLQs\n * specified by the source map format.\n */\nSourceMapGenerator.prototype._serializeMappings =\n  function SourceMapGenerator_serializeMappings() {\n    var previousGeneratedColumn = 0;\n    var previousGeneratedLine = 1;\n    var previousOriginalColumn = 0;\n    var previousOriginalLine = 0;\n    var previousName = 0;\n    var previousSource = 0;\n    var result = '';\n    var next;\n    var mapping;\n    var nameIdx;\n    var sourceIdx;\n\n    var mappings = this._mappings.toArray();\n    for (var i = 0, len = mappings.length; i < len; i++) {\n      mapping = mappings[i];\n      next = ''\n\n      if (mapping.generatedLine !== previousGeneratedLine) {\n        previousGeneratedColumn = 0;\n        while (mapping.generatedLine !== previousGeneratedLine) {\n          next += ';';\n          previousGeneratedLine++;\n        }\n      }\n      else {\n        if (i > 0) {\n          if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n            continue;\n          }\n          next += ',';\n        }\n      }\n\n      next += base64VLQ.encode(mapping.generatedColumn\n                                 - previousGeneratedColumn);\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (mapping.source != null) {\n        sourceIdx = this._sources.indexOf(mapping.source);\n        next += base64VLQ.encode(sourceIdx - previousSource);\n        previousSource = sourceIdx;\n\n        // lines are stored 0-based in SourceMap spec version 3\n        next += base64VLQ.encode(mapping.originalLine - 1\n                                   - previousOriginalLine);\n        previousOriginalLine = mapping.originalLine - 1;\n\n        next += base64VLQ.encode(mapping.originalColumn\n                                   - previousOriginalColumn);\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (mapping.name != null) {\n          nameIdx = this._names.indexOf(mapping.name);\n          next += base64VLQ.encode(nameIdx - previousName);\n          previousName = nameIdx;\n        }\n      }\n\n      result += next;\n    }\n\n    return result;\n  };\n\nSourceMapGenerator.prototype._generateSourcesContent =\n  function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\n    return aSources.map(function (source) {\n      if (!this._sourcesContents) {\n        return null;\n      }\n      if (aSourceRoot != null) {\n        source = util.relative(aSourceRoot, source);\n      }\n      var key = util.toSetString(source);\n      return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\n        ? this._sourcesContents[key]\n        : null;\n    }, this);\n  };\n\n/**\n * Externalize the source map.\n */\nSourceMapGenerator.prototype.toJSON =\n  function SourceMapGenerator_toJSON() {\n    var map = {\n      version: this._version,\n      sources: this._sources.toArray(),\n      names: this._names.toArray(),\n      mappings: this._serializeMappings()\n    };\n    if (this._file != null) {\n      map.file = this._file;\n    }\n    if (this._sourceRoot != null) {\n      map.sourceRoot = this._sourceRoot;\n    }\n    if (this._sourcesContents) {\n      map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n    }\n\n    return map;\n  };\n\n/**\n * Render the source map being generated to a string.\n */\nSourceMapGenerator.prototype.toString =\n  function SourceMapGenerator_toString() {\n    return JSON.stringify(this.toJSON());\n  };\n\nexports.SourceMapGenerator = SourceMapGenerator;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\nvar hasNativeMap = typeof Map !== \"undefined\";\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = hasNativeMap ? new Map() : Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = hasNativeMap ? aStr : util.toSetString(aStr);\n  var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    if (hasNativeMap) {\n      this._set.set(aStr, idx);\n    } else {\n      this._set[sStr] = idx;\n    }\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  if (hasNativeMap) {\n    return this._set.has(aStr);\n  } else {\n    var sStr = util.toSetString(aStr);\n    return has.call(this._set, sStr);\n  }\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  if (hasNativeMap) {\n    var idx = this._set.get(aStr);\n    if (idx >= 0) {\n        return idx;\n    }\n  } else {\n    var sStr = util.toSetString(aStr);\n    if (has.call(this._set, sStr)) {\n      return this._set[sStr];\n    }\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n","'use strict';\nconst path = require('path');\nconst childProcess = require('child_process');\nconst isWsl = require('is-wsl');\n\nmodule.exports = (target, opts) => {\n\tif (typeof target !== 'string') {\n\t\treturn Promise.reject(new Error('Expected a `target`'));\n\t}\n\n\topts = Object.assign({wait: true}, opts);\n\n\tlet cmd;\n\tlet appArgs = [];\n\tlet args = [];\n\tconst cpOpts = {};\n\n\tif (Array.isArray(opts.app)) {\n\t\tappArgs = opts.app.slice(1);\n\t\topts.app = opts.app[0];\n\t}\n\n\tif (process.platform === 'darwin') {\n\t\tcmd = 'open';\n\n\t\tif (opts.wait) {\n\t\t\targs.push('-W');\n\t\t}\n\n\t\tif (opts.app) {\n\t\t\targs.push('-a', opts.app);\n\t\t}\n\t} else if (process.platform === 'win32' || isWsl) {\n\t\tcmd = 'cmd' + (isWsl ? '.exe' : '');\n\t\targs.push('/c', 'start', '\"\"', '/b');\n\t\ttarget = target.replace(/&/g, '^&');\n\n\t\tif (opts.wait) {\n\t\t\targs.push('/wait');\n\t\t}\n\n\t\tif (opts.app) {\n\t\t\targs.push(opts.app);\n\t\t}\n\n\t\tif (appArgs.length > 0) {\n\t\t\targs = args.concat(appArgs);\n\t\t}\n\t} else {\n\t\tif (opts.app) {\n\t\t\tcmd = opts.app;\n\t\t} else {\n\t\t\tconst useSystemXdgOpen = process.versions.electron || process.platform === 'android';\n\t\t\tcmd = useSystemXdgOpen ? 'xdg-open' : path.join(__dirname, 'xdg-open');\n\t\t}\n\n\t\tif (appArgs.length > 0) {\n\t\t\targs = args.concat(appArgs);\n\t\t}\n\n\t\tif (!opts.wait) {\n\t\t\t// `xdg-open` will block the process unless\n\t\t\t// stdio is ignored and it's detached from the parent\n\t\t\t// even if it's unref'd\n\t\t\tcpOpts.stdio = 'ignore';\n\t\t\tcpOpts.detached = true;\n\t\t}\n\t}\n\n\targs.push(target);\n\n\tif (process.platform === 'darwin' && appArgs.length > 0) {\n\t\targs.push('--args');\n\t\targs = args.concat(appArgs);\n\t}\n\n\tconst cp = childProcess.spawn(cmd, args, cpOpts);\n\n\tif (opts.wait) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tcp.once('error', reject);\n\n\t\t\tcp.once('close', code => {\n\t\t\t\tif (code > 0) {\n\t\t\t\t\treject(new Error('Exited with code ' + code));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresolve(cp);\n\t\t\t});\n\t\t});\n\t}\n\n\tcp.unref();\n\n\treturn Promise.resolve(cp);\n};\n","'use strict';\nconst os = require('os');\nconst fs = require('fs');\n\nconst isWsl = () => {\n\tif (process.platform !== 'linux') {\n\t\treturn false;\n\t}\n\n\tif (os.release().includes('Microsoft')) {\n\t\treturn true;\n\t}\n\n\ttry {\n\t\treturn fs.readFileSync('/proc/version', 'utf8').includes('Microsoft');\n\t} catch (err) {\n\t\treturn false;\n\t}\n};\n\nif (process.env.__IS_WSL_TEST__) {\n\tmodule.exports = isWsl;\n} else {\n\tmodule.exports = isWsl();\n}\n","'use strict';\n\nconst os = require('os');\nconst EventEmitter = require('events');\n\nconst utils = require('./utils');\nconst KiteStateError = require('./kite-state-error');\nconst KiteRequestError = require('./kite-request-error');\nconst {STATES} = require('./constants');\nconst NodeClient = require('./clients/node');\nconst BrowserClient = require('./clients/browser');\n\nmodule.exports = {\n  STATES,\n\n  adapter: (() => {\n    switch (os.platform()) {\n      case 'darwin': return require('./support/osx');\n      case 'win32': return require('./support/windows');\n      case 'linux': return require('./support/linux');\n      default: return require('./support/no-support');\n    }\n  })(),\n\n  emitter: new EventEmitter(),\n\n  client: new NodeClient('localhost', '46624'),\n\n  toggleRequestDebug() {\n    if (this.client instanceof NodeClient) {\n      this.client = new BrowserClient(this.client.hostname, this.client.port);\n    } else {\n      this.client = new NodeClient(this.client.hostname, this.client.port);\n    }\n  },\n\n  onDidFailRequest(listener) {\n    this.emitter.on('did-fail-request', listener);\n    return {\n      dispose: () => {\n        this.emitter.removeListener('did-fail-request', listener);\n      },\n    };\n  },\n\n  request(options, data, timeout) {\n    return this.client.request(options, data, timeout)\n    .catch(() => {\n      let promise = Promise.resolve();\n      if (utils.shouldAddCatchProcessing(options.path)) {\n        promise = promise.then(() => this.isKiteSupported())\n              .then(() => this.isKiteInstalled())\n              .then(() => this.isKiteRunning());\n      }\n      return promise.then(() => {\n        throw new KiteStateError('Kite could not be reached when attempting a request', {\n          state: STATES.UNREACHABLE,\n          request: options,\n          requestData: data,\n        });\n      });\n    })\n    .then(resp => {\n      return resp.statusCode >= 400\n        ? utils.handleResponseData(resp).then(respData => {\n          throw new KiteRequestError('bad_status', {\n            responseStatus: resp.statusCode,\n            request: options,\n            requestData: data,\n            response: resp,\n            responseData: respData,\n          });\n        })\n        : resp;\n    })\n    .catch(err => {\n      this.emitter.emit('did-fail-request', err);\n      throw err;\n    });\n  },\n\n  checkHealth() {\n    const extractErr = ([err]) => {\n      throw err;\n    };\n\n    return this.isKiteSupported()\n    .then(() =>\n      utils.anyPromise([this.isKiteInstalled(), this.isKiteEnterpriseInstalled()]).catch(extractErr))\n    .then(() =>\n      utils.anyPromise([this.isKiteRunning(), this.isKiteEnterpriseRunning()]).catch(extractErr))\n    .then(() => this.isKiteReachable())\n    .then(() => STATES.READY)\n    .catch(err => {\n      if (!err.data || err.data.state == null) { throw err; }\n      return err.data.state;\n    });\n  },\n\n  // FIXME: This method is now deprecated, use checkHealth instead.\n  handleState() {\n    return this.checkHealth();\n  },\n\n  isKiteSupported() {\n    return this.adapter.isKiteSupported()\n      ? Promise.resolve()\n      : Promise.reject(new KiteStateError('Kite is currently not support on your platform', {\n        state: STATES.UNSUPPORTED,\n      }));\n  },\n\n  isKiteInstalled() {\n    return this.adapter.isKiteInstalled();\n  },\n\n  isKiteRunning() {\n    return this.adapter.isKiteRunning();\n  },\n\n  canInstallKite() {\n    return this.isKiteSupported()\n    .then(() =>\n      utils.reversePromise(this.adapter.isKiteInstalled(),\n        new KiteStateError('Kite is already installed', {\n          state: STATES.INSTALLED,\n        })));\n  },\n\n  installKite(options) {\n    return this.adapter.installKite(options);\n  },\n\n  downloadKiteRelease(options) {\n    return this.adapter.downloadKiteRelease(options);\n  },\n\n  downloadKite(url, options) {\n    return this.adapter.downloadKite(url, options);\n  },\n\n  canRunKite() {\n    return this.isKiteInstalled()\n    .then(() =>\n      utils.reversePromise(this.isKiteRunning(),\n        new KiteStateError('Kite is already runnning', {\n          state: STATES.RUNNING,\n        })));\n  },\n\n  runKiteWithCopilot() {\n    return this.adapter.runKiteWithCopilot();\n  },\n\n  runKite() {\n    return this.adapter.runKite();\n  },\n\n  runKiteAndWait(attempts, interval) {\n    return this.runKite().then(() => this.waitForKite(attempts, interval));\n  },\n\n  isKiteReachable() {\n    return this.client.request({\n      path: '/clientapi/ping',\n      method: 'GET',\n    }, null, 200); // in tests, this took no longer than 15ms to respond\n  },\n\n  waitForKite(attempts, interval) {\n    return utils.retryPromise(() => this.isKiteReachable(), attempts, interval);\n  },\n\n  isKiteEnterpriseInstalled() {\n    return this.adapter.isKiteEnterpriseInstalled();\n  },\n\n  isKiteEnterpriseRunning() {\n    return this.adapter.isKiteEnterpriseRunning();\n  },\n\n  canRunKiteEnterprise() {\n    return this.isKiteEnterpriseInstalled()\n    .then(() =>\n      utils.reversePromise(this.isKiteEnterpriseRunning(),\n        new KiteStateError('Kite Enterprise is already runnning', {\n          state: STATES.RUNNING,\n        })));\n  },\n\n  runKiteEnterprise() {\n    return this.adapter.runKiteEnterprise();\n  },\n\n  runKiteEnterpriseAndWait(attempts, interval) {\n    return this.runKiteEnterprise().then(() => this.waitForKite(attempts, interval));\n  },\n\n  hasBothKiteInstalled() {\n    return this.adapter.hasBothKiteInstalled();\n  },\n\n  hasManyKiteInstallation() {\n    return this.adapter.hasManyKiteInstallation();\n  },\n\n  hasManyKiteEnterpriseInstallation() {\n    return this.adapter.hasManyKiteEnterpriseInstallation();\n  },\n\n  isAdmin() {\n    return this.adapter.isAdmin();\n  },\n\n  arch() {\n    return this.adapter.arch();\n  },\n\n  isOSSupported() {\n    return this.adapter.isOSSupported();\n  },\n\n  isOSVersionSupported() {\n    return this.adapter.isOSVersionSupported();\n  },\n\n  isUserAuthenticated() {\n    return this.client.request({\n      path: '/clientapi/user',\n      method: 'GET',\n    })\n    .then((resp) => {\n      switch (resp.statusCode) {\n        case 200:\n          return utils.handleResponseData(resp);\n        case 401:\n          throw new KiteStateError('Kite is not authenticated', {\n            state: STATES.UNLOGGED,\n          });\n        default:\n          return utils.handleResponseData(resp).then(respData => {\n            throw new KiteRequestError('Invalid response status when checking Kite authentication', {\n              responseStatus: resp.statusCode,\n              request: {\n                path: '/clientapi/user',\n                method: 'GET',\n              },\n              response: resp,\n              responseData: respData,\n            });\n          });\n      }\n    });\n  },\n};\n","var CombinedStream = require('combined-stream');\nvar util = require('util');\nvar path = require('path');\nvar http = require('http');\nvar https = require('https');\nvar parseUrl = require('url').parse;\nvar fs = require('fs');\nvar mime = require('mime-types');\nvar asynckit = require('asynckit');\nvar populate = require('./populate.js');\n\n// Public API\nmodule.exports = FormData;\n\n// make it a Stream\nutil.inherits(FormData, CombinedStream);\n\n/**\n * Create readable \"multipart/form-data\" streams.\n * Can be used to submit forms\n * and file uploads to other web applications.\n *\n * @constructor\n * @param {Object} options - Properties to be added/overriden for FormData and CombinedStream\n */\nfunction FormData(options) {\n  if (!(this instanceof FormData)) {\n    return new FormData();\n  }\n\n  this._overheadLength = 0;\n  this._valueLength = 0;\n  this._valuesToMeasure = [];\n\n  CombinedStream.call(this);\n\n  options = options || {};\n  for (var option in options) {\n    this[option] = options[option];\n  }\n}\n\nFormData.LINE_BREAK = '\\r\\n';\nFormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\nFormData.prototype.append = function(field, value, options) {\n\n  options = options || {};\n\n  // allow filename as single option\n  if (typeof options == 'string') {\n    options = {filename: options};\n  }\n\n  var append = CombinedStream.prototype.append.bind(this);\n\n  // all that streamy business can't handle numbers\n  if (typeof value == 'number') {\n    value = '' + value;\n  }\n\n  // https://github.com/felixge/node-form-data/issues/38\n  if (util.isArray(value)) {\n    // Please convert your array into string\n    // the way web server expects it\n    this._error(new Error('Arrays are not supported.'));\n    return;\n  }\n\n  var header = this._multiPartHeader(field, value, options);\n  var footer = this._multiPartFooter();\n\n  append(header);\n  append(value);\n  append(footer);\n\n  // pass along options.knownLength\n  this._trackLength(header, value, options);\n};\n\nFormData.prototype._trackLength = function(header, value, options) {\n  var valueLength = 0;\n\n  // used w/ getLengthSync(), when length is known.\n  // e.g. for streaming directly from a remote server,\n  // w/ a known file a size, and not wanting to wait for\n  // incoming file to finish to get its size.\n  if (options.knownLength != null) {\n    valueLength += +options.knownLength;\n  } else if (Buffer.isBuffer(value)) {\n    valueLength = value.length;\n  } else if (typeof value === 'string') {\n    valueLength = Buffer.byteLength(value);\n  }\n\n  this._valueLength += valueLength;\n\n  // @check why add CRLF? does this account for custom/multiple CRLFs?\n  this._overheadLength +=\n    Buffer.byteLength(header) +\n    FormData.LINE_BREAK.length;\n\n  // empty or either doesn't have path or not an http response\n  if (!value || ( !value.path && !(value.readable && value.hasOwnProperty('httpVersion')) )) {\n    return;\n  }\n\n  // no need to bother with the length\n  if (!options.knownLength) {\n    this._valuesToMeasure.push(value);\n  }\n};\n\nFormData.prototype._lengthRetriever = function(value, callback) {\n\n  if (value.hasOwnProperty('fd')) {\n\n    // take read range into a account\n    // `end` = Infinity –> read file till the end\n    //\n    // TODO: Looks like there is bug in Node fs.createReadStream\n    // it doesn't respect `end` options without `start` options\n    // Fix it when node fixes it.\n    // https://github.com/joyent/node/issues/7819\n    if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n\n      // when end specified\n      // no need to calculate range\n      // inclusive, starts with 0\n      callback(null, value.end + 1 - (value.start ? value.start : 0));\n\n    // not that fast snoopy\n    } else {\n      // still need to fetch file size from fs\n      fs.stat(value.path, function(err, stat) {\n\n        var fileSize;\n\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        // update final size based on the range options\n        fileSize = stat.size - (value.start ? value.start : 0);\n        callback(null, fileSize);\n      });\n    }\n\n  // or http response\n  } else if (value.hasOwnProperty('httpVersion')) {\n    callback(null, +value.headers['content-length']);\n\n  // or request stream http://github.com/mikeal/request\n  } else if (value.hasOwnProperty('httpModule')) {\n    // wait till response come back\n    value.on('response', function(response) {\n      value.pause();\n      callback(null, +response.headers['content-length']);\n    });\n    value.resume();\n\n  // something else\n  } else {\n    callback('Unknown stream');\n  }\n};\n\nFormData.prototype._multiPartHeader = function(field, value, options) {\n  // custom header specified (as string)?\n  // it becomes responsible for boundary\n  // (e.g. to handle extra CRLFs on .NET servers)\n  if (typeof options.header == 'string') {\n    return options.header;\n  }\n\n  var contentDisposition = this._getContentDisposition(value, options);\n  var contentType = this._getContentType(value, options);\n\n  var contents = '';\n  var headers  = {\n    // add custom disposition as third element or keep it two elements if not\n    'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n    // if no content type. allow it to be empty array\n    'Content-Type': [].concat(contentType || [])\n  };\n\n  // allow custom headers.\n  if (typeof options.header == 'object') {\n    populate(headers, options.header);\n  }\n\n  var header;\n  for (var prop in headers) {\n    if (!headers.hasOwnProperty(prop)) continue;\n    header = headers[prop];\n\n    // skip nullish headers.\n    if (header == null) {\n      continue;\n    }\n\n    // convert all headers to arrays.\n    if (!Array.isArray(header)) {\n      header = [header];\n    }\n\n    // add non-empty headers.\n    if (header.length) {\n      contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n    }\n  }\n\n  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n};\n\nFormData.prototype._getContentDisposition = function(value, options) {\n\n  var filename\n    , contentDisposition\n    ;\n\n  if (typeof options.filepath === 'string') {\n    // custom filepath for relative paths\n    filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n  } else if (options.filename || value.name || value.path) {\n    // custom filename take precedence\n    // formidable and the browser add a name property\n    // fs- and request- streams have path property\n    filename = path.basename(options.filename || value.name || value.path);\n  } else if (value.readable && value.hasOwnProperty('httpVersion')) {\n    // or try http response\n    filename = path.basename(value.client._httpMessage.path || '');\n  }\n\n  if (filename) {\n    contentDisposition = 'filename=\"' + filename + '\"';\n  }\n\n  return contentDisposition;\n};\n\nFormData.prototype._getContentType = function(value, options) {\n\n  // use custom content-type above all\n  var contentType = options.contentType;\n\n  // or try `name` from formidable, browser\n  if (!contentType && value.name) {\n    contentType = mime.lookup(value.name);\n  }\n\n  // or try `path` from fs-, request- streams\n  if (!contentType && value.path) {\n    contentType = mime.lookup(value.path);\n  }\n\n  // or if it's http-reponse\n  if (!contentType && value.readable && value.hasOwnProperty('httpVersion')) {\n    contentType = value.headers['content-type'];\n  }\n\n  // or guess it from the filepath or filename\n  if (!contentType && (options.filepath || options.filename)) {\n    contentType = mime.lookup(options.filepath || options.filename);\n  }\n\n  // fallback to the default content type if `value` is not simple value\n  if (!contentType && typeof value == 'object') {\n    contentType = FormData.DEFAULT_CONTENT_TYPE;\n  }\n\n  return contentType;\n};\n\nFormData.prototype._multiPartFooter = function() {\n  return function(next) {\n    var footer = FormData.LINE_BREAK;\n\n    var lastPart = (this._streams.length === 0);\n    if (lastPart) {\n      footer += this._lastBoundary();\n    }\n\n    next(footer);\n  }.bind(this);\n};\n\nFormData.prototype._lastBoundary = function() {\n  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n};\n\nFormData.prototype.getHeaders = function(userHeaders) {\n  var header;\n  var formHeaders = {\n    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n  };\n\n  for (header in userHeaders) {\n    if (userHeaders.hasOwnProperty(header)) {\n      formHeaders[header.toLowerCase()] = userHeaders[header];\n    }\n  }\n\n  return formHeaders;\n};\n\nFormData.prototype.getBoundary = function() {\n  if (!this._boundary) {\n    this._generateBoundary();\n  }\n\n  return this._boundary;\n};\n\nFormData.prototype.getBuffer = function() {\n  var dataBuffer = new Buffer.alloc( 0 );\n  var boundary = this.getBoundary();\n\n  // Create the form content. Add Line breaks to the end of data.\n  for (var i = 0, len = this._streams.length; i < len; i++) {\n    if (typeof this._streams[i] !== 'function') {\n\n      // Add content to the buffer.\n      if(Buffer.isBuffer(this._streams[i])) {\n        dataBuffer = Buffer.concat( [dataBuffer, this._streams[i]]);\n      }else {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(this._streams[i])]);\n      }\n\n      // Add break after content.\n      if (typeof this._streams[i] !== 'string' || this._streams[i].substring( 2, boundary.length + 2 ) !== boundary) {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(FormData.LINE_BREAK)] );\n      }\n    }\n  }\n\n  // Add the footer and return the Buffer object.\n  return Buffer.concat( [dataBuffer, Buffer.from(this._lastBoundary())] );\n};\n\nFormData.prototype._generateBoundary = function() {\n  // This generates a 50 character boundary similar to those used by Firefox.\n  // They are optimized for boyer-moore parsing.\n  var boundary = '--------------------------';\n  for (var i = 0; i < 24; i++) {\n    boundary += Math.floor(Math.random() * 10).toString(16);\n  }\n\n  this._boundary = boundary;\n};\n\n// Note: getLengthSync DOESN'T calculate streams length\n// As workaround one can calculate file size manually\n// and add it as knownLength option\nFormData.prototype.getLengthSync = function() {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  // Don't get confused, there are 3 \"internal\" streams for each keyval pair\n  // so it basically checks if there is any value added to the form\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  // https://github.com/form-data/form-data/issues/40\n  if (!this.hasKnownLength()) {\n    // Some async length retrievers are present\n    // therefore synchronous length calculation is false.\n    // Please use getLength(callback) to get proper length\n    this._error(new Error('Cannot calculate proper length in synchronous way.'));\n  }\n\n  return knownLength;\n};\n\n// Public API to check if length of added values is known\n// https://github.com/form-data/form-data/issues/196\n// https://github.com/form-data/form-data/issues/262\nFormData.prototype.hasKnownLength = function() {\n  var hasKnownLength = true;\n\n  if (this._valuesToMeasure.length) {\n    hasKnownLength = false;\n  }\n\n  return hasKnownLength;\n};\n\nFormData.prototype.getLength = function(cb) {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  if (!this._valuesToMeasure.length) {\n    process.nextTick(cb.bind(this, null, knownLength));\n    return;\n  }\n\n  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function(err, values) {\n    if (err) {\n      cb(err);\n      return;\n    }\n\n    values.forEach(function(length) {\n      knownLength += length;\n    });\n\n    cb(null, knownLength);\n  });\n};\n\nFormData.prototype.submit = function(params, cb) {\n  var request\n    , options\n    , defaults = {method: 'post'}\n    ;\n\n  // parse provided url if it's string\n  // or treat it as options object\n  if (typeof params == 'string') {\n\n    params = parseUrl(params);\n    options = populate({\n      port: params.port,\n      path: params.pathname,\n      host: params.hostname,\n      protocol: params.protocol\n    }, defaults);\n\n  // use custom params\n  } else {\n\n    options = populate(params, defaults);\n    // if no port provided use default one\n    if (!options.port) {\n      options.port = options.protocol == 'https:' ? 443 : 80;\n    }\n  }\n\n  // put that good code in getHeaders to some use\n  options.headers = this.getHeaders(params.headers);\n\n  // https if specified, fallback to http in any other case\n  if (options.protocol == 'https:') {\n    request = https.request(options);\n  } else {\n    request = http.request(options);\n  }\n\n  // get content length and fire away\n  this.getLength(function(err, length) {\n    if (err) {\n      this._error(err);\n      return;\n    }\n\n    // add content length\n    request.setHeader('Content-Length', length);\n\n    this.pipe(request);\n    if (cb) {\n      request.on('error', cb);\n      request.on('response', cb.bind(this, null));\n    }\n  }.bind(this));\n\n  return request;\n};\n\nFormData.prototype._error = function(err) {\n  if (!this.error) {\n    this.error = err;\n    this.pause();\n    this.emit('error', err);\n  }\n};\n\nFormData.prototype.toString = function () {\n  return '[object FormData]';\n};\n","var util = require('util');\nvar Stream = require('stream').Stream;\nvar DelayedStream = require('delayed-stream');\n\nmodule.exports = CombinedStream;\nfunction CombinedStream() {\n  this.writable = false;\n  this.readable = true;\n  this.dataSize = 0;\n  this.maxDataSize = 2 * 1024 * 1024;\n  this.pauseStreams = true;\n\n  this._released = false;\n  this._streams = [];\n  this._currentStream = null;\n  this._insideLoop = false;\n  this._pendingNext = false;\n}\nutil.inherits(CombinedStream, Stream);\n\nCombinedStream.create = function(options) {\n  var combinedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    combinedStream[option] = options[option];\n  }\n\n  return combinedStream;\n};\n\nCombinedStream.isStreamLike = function(stream) {\n  return (typeof stream !== 'function')\n    && (typeof stream !== 'string')\n    && (typeof stream !== 'boolean')\n    && (typeof stream !== 'number')\n    && (!Buffer.isBuffer(stream));\n};\n\nCombinedStream.prototype.append = function(stream) {\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n\n  if (isStreamLike) {\n    if (!(stream instanceof DelayedStream)) {\n      var newStream = DelayedStream.create(stream, {\n        maxDataSize: Infinity,\n        pauseStream: this.pauseStreams,\n      });\n      stream.on('data', this._checkDataSize.bind(this));\n      stream = newStream;\n    }\n\n    this._handleErrors(stream);\n\n    if (this.pauseStreams) {\n      stream.pause();\n    }\n  }\n\n  this._streams.push(stream);\n  return this;\n};\n\nCombinedStream.prototype.pipe = function(dest, options) {\n  Stream.prototype.pipe.call(this, dest, options);\n  this.resume();\n  return dest;\n};\n\nCombinedStream.prototype._getNext = function() {\n  this._currentStream = null;\n\n  if (this._insideLoop) {\n    this._pendingNext = true;\n    return; // defer call\n  }\n\n  this._insideLoop = true;\n  try {\n    do {\n      this._pendingNext = false;\n      this._realGetNext();\n    } while (this._pendingNext);\n  } finally {\n    this._insideLoop = false;\n  }\n};\n\nCombinedStream.prototype._realGetNext = function() {\n  var stream = this._streams.shift();\n\n\n  if (typeof stream == 'undefined') {\n    this.end();\n    return;\n  }\n\n  if (typeof stream !== 'function') {\n    this._pipeNext(stream);\n    return;\n  }\n\n  var getStream = stream;\n  getStream(function(stream) {\n    var isStreamLike = CombinedStream.isStreamLike(stream);\n    if (isStreamLike) {\n      stream.on('data', this._checkDataSize.bind(this));\n      this._handleErrors(stream);\n    }\n\n    this._pipeNext(stream);\n  }.bind(this));\n};\n\nCombinedStream.prototype._pipeNext = function(stream) {\n  this._currentStream = stream;\n\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n  if (isStreamLike) {\n    stream.on('end', this._getNext.bind(this));\n    stream.pipe(this, {end: false});\n    return;\n  }\n\n  var value = stream;\n  this.write(value);\n  this._getNext();\n};\n\nCombinedStream.prototype._handleErrors = function(stream) {\n  var self = this;\n  stream.on('error', function(err) {\n    self._emitError(err);\n  });\n};\n\nCombinedStream.prototype.write = function(data) {\n  this.emit('data', data);\n};\n\nCombinedStream.prototype.pause = function() {\n  if (!this.pauseStreams) {\n    return;\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.pause) == 'function') this._currentStream.pause();\n  this.emit('pause');\n};\n\nCombinedStream.prototype.resume = function() {\n  if (!this._released) {\n    this._released = true;\n    this.writable = true;\n    this._getNext();\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.resume) == 'function') this._currentStream.resume();\n  this.emit('resume');\n};\n\nCombinedStream.prototype.end = function() {\n  this._reset();\n  this.emit('end');\n};\n\nCombinedStream.prototype.destroy = function() {\n  this._reset();\n  this.emit('close');\n};\n\nCombinedStream.prototype._reset = function() {\n  this.writable = false;\n  this._streams = [];\n  this._currentStream = null;\n};\n\nCombinedStream.prototype._checkDataSize = function() {\n  this._updateDataSize();\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.';\n  this._emitError(new Error(message));\n};\n\nCombinedStream.prototype._updateDataSize = function() {\n  this.dataSize = 0;\n\n  var self = this;\n  this._streams.forEach(function(stream) {\n    if (!stream.dataSize) {\n      return;\n    }\n\n    self.dataSize += stream.dataSize;\n  });\n\n  if (this._currentStream && this._currentStream.dataSize) {\n    this.dataSize += this._currentStream.dataSize;\n  }\n};\n\nCombinedStream.prototype._emitError = function(err) {\n  this._reset();\n  this.emit('error', err);\n};\n","var Stream = require('stream').Stream;\nvar util = require('util');\n\nmodule.exports = DelayedStream;\nfunction DelayedStream() {\n  this.source = null;\n  this.dataSize = 0;\n  this.maxDataSize = 1024 * 1024;\n  this.pauseStream = true;\n\n  this._maxDataSizeExceeded = false;\n  this._released = false;\n  this._bufferedEvents = [];\n}\nutil.inherits(DelayedStream, Stream);\n\nDelayedStream.create = function(source, options) {\n  var delayedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    delayedStream[option] = options[option];\n  }\n\n  delayedStream.source = source;\n\n  var realEmit = source.emit;\n  source.emit = function() {\n    delayedStream._handleEmit(arguments);\n    return realEmit.apply(source, arguments);\n  };\n\n  source.on('error', function() {});\n  if (delayedStream.pauseStream) {\n    source.pause();\n  }\n\n  return delayedStream;\n};\n\nObject.defineProperty(DelayedStream.prototype, 'readable', {\n  configurable: true,\n  enumerable: true,\n  get: function() {\n    return this.source.readable;\n  }\n});\n\nDelayedStream.prototype.setEncoding = function() {\n  return this.source.setEncoding.apply(this.source, arguments);\n};\n\nDelayedStream.prototype.resume = function() {\n  if (!this._released) {\n    this.release();\n  }\n\n  this.source.resume();\n};\n\nDelayedStream.prototype.pause = function() {\n  this.source.pause();\n};\n\nDelayedStream.prototype.release = function() {\n  this._released = true;\n\n  this._bufferedEvents.forEach(function(args) {\n    this.emit.apply(this, args);\n  }.bind(this));\n  this._bufferedEvents = [];\n};\n\nDelayedStream.prototype.pipe = function() {\n  var r = Stream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return r;\n};\n\nDelayedStream.prototype._handleEmit = function(args) {\n  if (this._released) {\n    this.emit.apply(this, args);\n    return;\n  }\n\n  if (args[0] === 'data') {\n    this.dataSize += args[1].length;\n    this._checkIfMaxDataSizeExceeded();\n  }\n\n  this._bufferedEvents.push(args);\n};\n\nDelayedStream.prototype._checkIfMaxDataSizeExceeded = function() {\n  if (this._maxDataSizeExceeded) {\n    return;\n  }\n\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  this._maxDataSizeExceeded = true;\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.'\n  this.emit('error', new Error(message));\n};\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","module.exports =\n{\n  parallel      : require('./parallel.js'),\n  serial        : require('./serial.js'),\n  serialOrdered : require('./serialOrdered.js')\n};\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = parallel;\n\n/**\n * Runs iterator over provided array elements in parallel\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction parallel(list, iterator, callback)\n{\n  var state = initState(list);\n\n  while (state.index < (state['keyedList'] || list).length)\n  {\n    iterate(list, iterator, state, function(error, result)\n    {\n      if (error)\n      {\n        callback(error, result);\n        return;\n      }\n\n      // looks like it's the last one\n      if (Object.keys(state.jobs).length === 0)\n      {\n        callback(null, state.results);\n        return;\n      }\n    });\n\n    state.index++;\n  }\n\n  return terminator.bind(state, callback);\n}\n","module.exports = defer;\n\n/**\n * Runs provided function on next iteration of the event loop\n *\n * @param {function} fn - function to run\n */\nfunction defer(fn)\n{\n  var nextTick = typeof setImmediate == 'function'\n    ? setImmediate\n    : (\n      typeof process == 'object' && typeof process.nextTick == 'function'\n      ? process.nextTick\n      : null\n    );\n\n  if (nextTick)\n  {\n    nextTick(fn);\n  }\n  else\n  {\n    setTimeout(fn, 0);\n  }\n}\n","var serialOrdered = require('./serialOrdered.js');\n\n// Public API\nmodule.exports = serial;\n\n/**\n * Runs iterator over provided array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serial(list, iterator, callback)\n{\n  return serialOrdered(list, iterator, null, callback);\n}\n","// populates missing values\nmodule.exports = function(dst, src) {\n\n  Object.keys(src).forEach(function(prop)\n  {\n    dst[prop] = dst[prop] || src[prop];\n  });\n\n  return dst;\n};\n","'use strict';\n\nconst os = require('os');\nconst fs = require('fs');\nconst path = require('path');\nconst https = require('https');\nconst child_process = require('child_process');\nconst utils = require('../utils.js');\nconst KiteStateError = require('../kite-state-error');\nconst {STATES} = require('../constants');\n\nconst OSXSupport = {\n  RELEASE_URL: 'https://alpha.kite.com/release/dls/mac/current',\n  APPS_PATH: '/Applications/',\n  KITE_DMG_PATH: '/tmp/Kite.dmg',\n  KITE_VOLUME_PATH: '/Volumes/Kite/',\n  KITE_APP_PATH: {mounted: '/Volumes/Kite/Kite.app', defaultInstalled: '/Applications/Kite.app'},\n  KITE_SIDEBAR_PATH: '/Applications/Kite.app/Contents/MacOS/KiteSidebar.app',\n  KITE_BUNDLE_ID: 'com.kite.Kite',\n  SESSION_FILE_PATH: path.join(os.homedir(), '.kite', 'session.json'),\n\n  get releaseURL() {\n    return this.RELEASE_URL;\n  },\n\n  get downloadPath() {\n    return this.KITE_DMG_PATH;\n  },\n\n  get installPath() {\n    return this.allInstallPaths[0];\n  },\n\n  get allInstallPaths() {\n    let paths = String(child_process.spawnSync('mdfind', [\n      'kMDItemCFBundleIdentifier = \"com.kite.Kite\"',\n    ]).stdout).trim().split('\\n');\n    if (paths.indexOf(this.KITE_APP_PATH.defaultInstalled) === -1 && this.checkDefaultAppPath()) {\n      paths.push(this.KITE_APP_PATH.defaultInstalled);\n    }\n    return paths.filter(p => p !== '');\n  },\n\n  get enterpriseInstallPath() {\n    return this.allEnterpriseInstallPaths[0];\n  },\n\n  get allEnterpriseInstallPaths() {\n    return String(child_process.spawnSync('mdfind', [\n      'kMDItemCFBundleIdentifier = \"enterprise.kite.Kite\"',\n    ]).stdout).trim().split('\\n');\n  },\n\n  get sessionFilePath() {\n    return this.SESSION_FILE_PATH;\n  },\n\n  isAdmin() {\n    try {\n      const user = utils.whoami();\n      const adminUsers = String(child_process.execSync('dscacheutil -q group -a name admin'))\n      .split('\\n')\n      .filter(l => /^users:/.test(l))[0]\n      .trim()\n      .replace(/users:\\s+/, '')\n      .split(/\\s/g);\n      return adminUsers.includes(user);\n    } catch (e) {\n      return false;\n    }\n  },\n\n  arch() {\n    return os.arch();\n  },\n\n  isOSSupported() {\n    return true;\n  },\n\n  isOSVersionSupported() {\n    return parseFloat(os.release()) >= 14;\n  },\n\n  isKiteSupported() {\n    return this.isOSVersionSupported();\n  },\n\n  checkDefaultAppPath() {\n    return fs.existsSync(this.KITE_APP_PATH.defaultInstalled);\n  },\n\n  isKiteInstalled() {\n    return utils.spawnPromise(\n      'mdfind',\n      ['kMDItemCFBundleIdentifier = \"com.kite.Kite\"'],\n      'mdfind_error',\n      'Unable to run mdfind and verify that Kite is installed')\n    .then(res => {\n      if ((!res || res.trim() === '') && !this.checkDefaultAppPath()) {\n        throw new KiteStateError('Unable to find Kite application install using mdfind', {\n          state: STATES.UNINSTALLED,\n        });\n      }\n    });\n  },\n\n  hasManyKiteInstallation() {\n    return this.allInstallPaths.length > 1;\n  },\n\n  hasManyKiteEnterpriseInstallation() {\n    return this.allEnterpriseInstallPaths.length > 1;\n  },\n\n  hasBothKiteInstalled() {\n    return Promise.all([\n      this.isKiteInstalled(),\n      this.isKiteEnterpriseInstalled(),\n    ]);\n  },\n\n  isKiteEnterpriseInstalled() {\n    return utils.spawnPromise(\n      'mdfind',\n      ['kMDItemCFBundleIdentifier = \"enterprise.kite.Kite\"'],\n      'mdfind_error',\n      'Unable to run mdfind and verify that kite enterprise is installed')\n    .then(res => {\n      if (!res || res.trim() === '') {\n        throw new KiteStateError('Unable to find Kite Enterprise application install using mdfind', {\n          state: STATES.UNINSTALLED,\n        });\n      }\n    });\n  },\n\n  downloadKiteRelease(opts) {\n    return this.downloadKite(this.releaseURL, opts || {});\n  },\n\n  downloadKite(url, opts) {\n    opts = opts || {};\n    return this.streamKiteDownload(url, opts.onDownloadProgress)\n    .then(() => utils.guardCall(opts.onDownload))\n    .then(() => opts.install && this.installKite(opts));\n  },\n\n  streamKiteDownload(url, progress) {\n    const req = https.request(url);\n    req.end();\n\n    return utils.followRedirections(req)\n    .then(resp => {\n      if (progress) {\n        const total = parseInt(resp.headers['content-length'], 10);\n        let length = 0;\n\n        resp.on('data', chunk => {\n          length += chunk.length;\n          progress(length, total, length / total);\n        });\n      }\n\n      return utils.promisifyStream(\n        resp.pipe(fs.createWriteStream(this.downloadPath))\n      )\n      .then(() => new Promise((resolve, reject) => {\n        setTimeout(resolve, 100);\n      }));\n    });\n  },\n\n  installKite(opts) {\n    opts = opts || {};\n\n    utils.guardCall(opts.onInstallStart);\n    return utils.spawnPromise(\n      'hdiutil',\n      ['attach', '-nobrowse', this.KITE_DMG_PATH],\n      'mount_error',\n      'Unable to mount Kite.dmg')\n    .then(() => utils.guardCall(opts.onMount))\n    .then(() => utils.spawnPromise(\n      'cp',\n      ['-r', this.KITE_APP_PATH.mounted, this.APPS_PATH],\n      'cp_error',\n      'Unable to copy Kite.app in the applications directory'))\n    .then(() => utils.guardCall(opts.onCopy))\n    .then(() => utils.spawnPromise(\n      'hdiutil',\n      ['detach', this.KITE_VOLUME_PATH],\n      'unmount_error',\n      'Unable to unmount Kite.dmg'))\n    .then(() => utils.guardCall(opts.onUnmount))\n    .then(() => utils.spawnPromise(\n      'rm', [this.KITE_DMG_PATH],\n      'rm_error',\n      'Unable to remove Kite.dmg'))\n    .then(() => utils.guardCall(opts.onRemove))\n    // mdfind takes some time to index the app location, so we need to\n    // wait for the install to fully complete. Runs 10 times at 1.5s\n    // intervals.\n    .then(() => utils.retryPromise(() => this.isKiteInstalled(), 10, 1500));\n  },\n\n  isKiteRunning() {\n    return utils.spawnPromise(\n      '/bin/ps',\n      ['-axco', 'command'],\n      {encoding: 'utf8'},\n      'ps_error',\n      'Unable to run the ps command and verify that Kite is running')\n    .then(stdout => {\n      const procs = stdout.split('\\n');\n      if (!procs.some(s => /^Kite$/.test(s))) {\n        throw new KiteStateError('Kite process could not be found in the processes list', {\n          state: STATES.NOT_RUNNING,\n        });\n      }\n    });\n  },\n\n  runKiteWithCopilot() {\n    const env = Object.assign({}, process.env);\n    delete env['ELECTRON_RUN_AS_NODE'];\n\n    return utils.spawnPromise(\n      'open',\n      ['-a', this.installPath, '--args', '--plugin-launch-with-copilot', '--channel=autocomplete-python'],\n      { env: env },\n      'open_error',\n      'Unable to run the open command to start Kite'\n    );\n  },\n\n  runKite() {\n    const env = Object.assign({}, process.env);\n    delete env['ELECTRON_RUN_AS_NODE'];\n\n    return this.isKiteRunning()\n    .catch(() => utils.spawnPromise(\n      'defaults',\n      ['write', 'com.kite.Kite', 'shouldReopenSidebar', '0'],\n      'defaults_error',\n      'Unable to run defaults command')\n    .then(() =>\n    utils.spawnPromise(\n      'open',\n      ['-a', this.installPath, '--args', '--plugin-launch', '--channel=autocomplete-python'],\n      { env: env },\n      'open_error',\n      'Unable to run the open command to start Kite'\n    )));\n  },\n\n  isKiteEnterpriseRunning() {\n    return utils.spawnPromise(\n      '/bin/ps',\n      ['-axco', 'command'],\n      {encoding: 'utf8'},\n      'ps_error',\n      'Unable to run the ps command and verify that Kite enterprise is running')\n    .then(stdout => {\n      const procs = stdout.split('\\n');\n      if (!procs.some(s => /^KiteEnterprise$/.test(s))) {\n        throw new KiteStateError('Kite Enterprise process could not be found in the processes list', {\n          state: STATES.NOT_RUNNING,\n        });\n      }\n    });\n  },\n\n  runKiteEnterprise() {\n    const env = Object.assign({}, process.env);\n    delete env['ELECTRON_RUN_AS_NODE'];\n\n    return utils.spawnPromise(\n      'defaults',\n      ['write', 'enterprise.kite.Kite', 'shouldReopenSidebar', '0'],\n      'defaults_error',\n      'Unable to run defaults command')\n    .then(() =>\n      utils.spawnPromise(\n        'open',\n        ['-a', this.enterpriseInstallPath],\n        { env: env },\n        'open_error',\n        'Unable to run the open command and start Kite enterprise'));\n  },\n};\n\nmodule.exports = OSXSupport;\n","'use strict';\n\nconst os = require('os');\nconst fs = require('fs');\nconst path = require('path');\nconst https = require('https');\nconst child_process = require('child_process');\nconst utils = require('../utils.js');\nconst KiteStateError = require('../kite-state-error');\nconst KiteProcessError = require('../kite-process-error');\n\nconst {STATES} = require('../constants');\n\nconst KEY_BAT = `\"${path.join(__dirname, 'read-key.bat')}\"`;\nconst ARCH_BAT = `\"${path.join(__dirname, 'read-arch.bat')}\"`;\nlet COMPUTED_INSTALL_PATH;\n\nconst WindowsSupport = {\n  RELEASE_URL: 'https://alpha.kite.com/release/dls/windows/current',\n  KITE_INSTALLER_PATH: path.join(os.tmpdir(), 'KiteSetup.exe'),\n  SESSION_FILE_PATH: path.join(process.env.LOCALAPPDATA, 'Kite', 'session.json'),\n\n  // We're only setting the install path in tests\n  set KITE_EXE_PATH(path) {\n    COMPUTED_INSTALL_PATH = path;\n  },\n  get KITE_EXE_PATH() {\n    if (!COMPUTED_INSTALL_PATH) {\n      let installDir, fallbackInstallDir;\n\n      if (process.env.ProgramW6432) {\n        fallbackInstallDir = path.join(process.env.ProgramW6432, 'Kite');\n      } else {\n        // TODO: report that even the fallback needed a fallback\n        fallbackInstallDir = 'C:\\\\Program Files\\\\Kite';\n      }\n\n      try {\n        const registryDir = String(child_process.execSync(KEY_BAT)).trim();\n\n        installDir = registryDir !== 'not found'\n          ? registryDir\n          : fallbackInstallDir;\n      } catch (err) {\n        installDir = fallbackInstallDir;\n      }\n      COMPUTED_INSTALL_PATH = path.join(installDir, 'kited.exe');\n    }\n\n    return COMPUTED_INSTALL_PATH;\n  },\n\n  get releaseURL() {\n    return this.RELEASE_URL;\n  },\n\n  get downloadPath() {\n    return this.KITE_INSTALLER_PATH;\n  },\n\n  get installPath() {\n    return this.KITE_EXE_PATH;\n  },\n\n  get enterpriseInstallPath() {\n    return null;\n  },\n\n  get allInstallPaths() {\n    return [this.installPath];\n  },\n\n  get allEnterpriseInstallPaths() {\n    return [];\n  },\n\n  get sessionFilePath() {\n    return this.SESSION_FILE_PATH;\n  },\n\n  isAdmin() {\n    try {\n      // Note that this method can still fail if the server has not been started\n      // but it has the merit of being simple and reliable\n      // see https://stackoverflow.com/questions/4051883/batch-script-how-to-check-for-admin-rights\n      // for details\n      child_process.execSync('net session');\n      return true;\n    } catch (e) {\n      return false;\n    }\n  },\n\n  arch() {\n    /* if (!this.cachedArch) { this.cachedArch = os.arch(); }\n    \n    // for backwards compatibility, we don't just return the direct result of the os call\n    if (this.cachedArch === 'x32') { return '32bit'; }\n    if (this.cachedArch === 'x64') { return '64bit'; }\n    \n    return this.cachedArch; */\n    \n    // we are lax here due to an edge case with a 32bit vscode running on a 64bit\n    // os that results in Node getting the architecture of the VSCode environment vs.\n    // the architecture of the OS itself\n    // Ultimately, this deserves more thought in terms of its handling\n    return '64bit';\n  },\n\n  isOSSupported() {\n    return true;\n  },\n\n  isOSVersionSupported() {\n    return parseFloat(os.release()) >= 6.1 &&\n           this.arch() === '64bit';\n  },\n\n  isKiteSupported() {\n    return this.isOSVersionSupported();\n  },\n\n  isKiteInstalled() {\n    return new Promise((resolve, reject) => {\n      fs.exists(this.KITE_EXE_PATH, (exists) => {\n        if (exists) {\n          resolve();\n        } else {\n          reject(new KiteStateError('', {\n            state: STATES.UNINSTALLED,\n          }));\n        }\n      });\n    });\n  },\n\n  isKiteEnterpriseInstalled() {\n    return Promise.reject(new KiteStateError('Kite Enterprise is currently not supported on windows', {\n      state: STATES.UNSUPPORTED,\n    }));\n  },\n\n  hasManyKiteInstallation() {\n    return this.allInstallPaths.length > 1;\n  },\n\n  hasManyKiteEnterpriseInstallation() {\n    return this.allEnterpriseInstallPaths.length > 1;\n  },\n\n  hasBothKiteInstalled() {\n    return Promise.all([\n      this.isKiteInstalled(),\n      this.isKiteEnterpriseInstalled(),\n    ]);\n  },\n\n  downloadKiteRelease(opts) {\n    return this.downloadKite(this.releaseURL, opts || {});\n  },\n\n  downloadKite(url, opts) {\n    opts = opts || {};\n    return this.streamKiteDownload(url, opts.onDownloadProgress)\n    .then(() => utils.guardCall(opts.onDownload))\n    .then(() => opts.install && this.installKite(opts));\n  },\n\n  streamKiteDownload(url, progress) {\n    const req = https.request(url);\n    req.end();\n\n    return utils.followRedirections(req)\n    .then(resp => {\n      if (progress) {\n        const total = parseInt(resp.headers['content-length'], 10);\n        let length = 0;\n\n        resp.on('data', chunk => {\n          length += chunk.length;\n          progress(length, total, length / total);\n        });\n      }\n\n      return utils.promisifyStream(\n        resp.pipe(fs.createWriteStream(this.downloadPath))\n      )\n      .then(() => new Promise((resolve, reject) => {\n        setTimeout(resolve, 100);\n      }));\n    });\n  },\n\n  installKite(opts) {\n    opts = opts || {};\n    var env = Object.create(process.env);\n    env.KITE_SKIP_ONBOARDING = '1';\n\n    utils.guardCall(opts.onInstallStart);\n    return utils.execPromise(\n      `\"${this.KITE_INSTALLER_PATH}\"` + ' --skip-onboarding --plugin-launch --channel=autocomplete-python',\n      {env: env},\n      'kite_install_error',\n      'Unable to run Kite installer')\n    .then(() => utils.guardCall(opts.onCopy))\n    .then(() => fs.unlinkSync(this.KITE_INSTALLER_PATH))\n    .then(() => utils.guardCall(opts.onRemove));\n  },\n\n  isKiteRunning() {\n    return utils.spawnPromise(\n      'tasklist',\n      'tasklist_error',\n      'Unable to run the tasklist command and verify whether kite is running or not')\n    .then(stdout => {\n      const procs = stdout.split('\\n');\n      if (procs.every(l => l.indexOf('kited.exe') === -1)) {\n        throw new KiteStateError('Unable to find kited.exe process in the tasks list', {\n          state: STATES.NOT_RUNNING,\n        });\n      }\n    });\n  },\n\n  runKiteWithCopilot() {\n    var env = Object.create(process.env);\n    delete env[\"ELECTRON_RUN_AS_NODE\"];\n    return new Promise((resolve, reject) => {\n      try {\n        child_process.spawn(\n          this.KITE_EXE_PATH,\n          ['--plugin-launch-with-copilot', '--channel=autocomplete-python'],\n          {detached: true, env: env});\n        resolve();\n      } catch (err) {\n        reject(new KiteProcessError('kite_exe_error',\n          {\n            message: 'Unable to run kite executable',\n            callStack: err.stack,\n            cmd: this.KITE_EXE_PATH,\n            options: {detached: true, env: env},\n          }));\n      }\n    });\n  },\n\n  runKite() {\n    return this.isKiteRunning()\n    .catch(() => {\n      var env = Object.create(process.env);\n      env.KITE_SKIP_ONBOARDING = '1';\n      delete env[\"ELECTRON_RUN_AS_NODE\"];\n\n      try {\n        child_process.spawn(\n          this.KITE_EXE_PATH,\n          ['--plugin-launch', '--channel=autocomplete-python'],\n          {detached: true, env: env});\n      } catch (err) {\n        throw new KiteProcessError('kite_exe_error',\n          {\n            message: 'Unable to run kite executable',\n            callStack: err.stack,\n            cmd: this.KITE_EXE_PATH,\n            options: {detached: true, env: env},\n          });\n      }\n    });\n  },\n\n  isKiteEnterpriseRunning() {\n    return Promise.reject(new KiteStateError('Kite Enterprise is currently not supported on windows', {\n      state: STATES.UNSUPPORTED,\n    }));\n  },\n\n  runKiteEnterprise() {\n    return Promise.reject(new KiteStateError('Kite Enterprise is currently not supported on windows', {\n      state: STATES.UNSUPPORTED,\n    }));\n  },\n};\n\nmodule.exports = WindowsSupport;\n","'use strict';\n\nconst os = require('os');\nconst fs = require('fs');\nconst path = require('path');\nconst https = require('https');\nconst child_process = require('child_process');\n\nconst utils = require('../utils');\nconst KiteStateError = require('../kite-state-error');\nconst KiteProcessError = require('../kite-process-error');\n\nconst {STATES} = require('../constants');\n\nconst LinuxSupport = {\n  RELEASE_URL: 'https://linux.kite.com/dls/linux/current',\n  SESSION_FILE_PATH: path.join(os.homedir(), '.kite', 'session.json'),\n  KITE_INSTALLER_PATH: path.join(os.tmpdir(), 'kite-installer.sh'),\n  KITED_PATH: path.join(os.homedir(), '.local', 'share', 'kite', 'kited'),\n  KITED_PROCESS: /kited/,\n  KITE_CURRENT_LINK: path.join(os.homedir(), '.local', 'share', 'kite', 'current'),\n\n  memKitedInstallPath: null,\n\n  get releaseURL() {\n    return this.RELEASE_URL;\n  },\n\n  get downloadPath() {\n    return this.KITE_INSTALLER_PATH;\n  },\n\n  get installPath() {\n    if (!this.memKitedInstallPath) {\n      this.memKitedInstallPath = this.KITED_PATH;\n    }\n    return this.memKitedInstallPath;\n  },\n\n  resetInstallPath() {\n    this.memKitedInstallPath = null;\n  },\n\n  get allInstallPaths() {\n    return [this.installPath];\n  },\n\n  get enterpriseInstallPath() {\n    return null;\n  },\n\n  get allEnterpriseInstallPaths() {\n    return null;\n  },\n\n  get sessionFilePath() {\n    return this.SESSION_FILE_PATH;\n  },\n\n  hasManyKiteInstallation() {\n    return this.allInstallPaths.length > 1;\n  },\n\n  hasManyKiteEnterpriseInstallation() {\n    return false;\n  },\n\n  isAdmin() {\n    try {\n      const user = utils.whoami();\n      const adminUsers = String(child_process.execSync('getent group root adm admin sudo'))\n      .split('\\n')\n      .map(line => line.substring(line.lastIndexOf(':') + 1))\n      .reduce((acc, val) => {\n        val.split(',').forEach(token => acc.push(token.trim()));\n        return acc;\n      }, []);\n      return adminUsers.includes(user);\n    } catch (e) {\n      // fallback to os.userInfo()\n      try {\n        const userInfo = os.userInfo();\n        return userInfo.uid === 0 || userInfo.username === 'root';\n      } catch (ignored) {\n        return false;\n      }\n    }\n  },\n\n  arch() {\n    return os.arch();\n  },\n\n  isOSSupported() {\n    return true;\n  },\n\n  isOSVersionSupported() {\n    let arch = os.arch();\n    return arch === 'x64';\n  },\n\n  isKiteSupported() {\n    return this.isOSSupported() && this.isOSVersionSupported();\n  },\n\n  isKiteInstalled() {\n    return new Promise((resolve, reject) => {\n      fs.exists(this.installPath, exists => {\n        if (exists) {\n          resolve();\n        } else {\n          reject(new KiteStateError('', {\n            state: STATES.UNINSTALLED,\n          }));\n        }\n      });\n    });\n  },\n\n  // downloads the latest version of kite-installer.sh\n  // and uses it to retrieve the current binary installer and installation data\n  downloadKiteRelease(opts) {\n    return this.downloadKite(this.releaseURL, opts || {});\n  },\n\n  downloadKite(url, opts) {\n    opts = opts || {};\n    return this.downloadKiteInstallerScript(url, opts.onDownloadProgress)\n    .then(() => this.streamKiteDownload(this.downloadPath, opts.onDownloadProgress))\n    .then(() => utils.guardCall(opts.onDownload))\n    .then(() => opts.install && this.installKite(opts));\n  },\n\n  downloadKiteInstallerScript(url, progress) {\n    const req = https.request(url);\n    req.end();\n\n    // set download status as early as possible to display the progress bar\n    if (progress) {\n      progress(0, 100, 0);\n    }\n\n    return utils.followRedirections(req)\n    .then(resp => {\n      return utils.promisifyStream(resp.pipe(fs.createWriteStream(this.downloadPath)))\n      .then(() => fs.chmodSync(this.downloadPath, 0o700))\n      .then(() => new Promise((resolve, reject) => {\n        setTimeout(resolve, 100);\n      }));\n    });\n  },\n\n  streamKiteDownload(scriptPath, progress) {\n    // we can't use util.spawnPromise here because we have to stream stdout in chunks to handle the progress\n    return new Promise((resolve, reject) => {\n      try {\n        const child = child_process.spawn(scriptPath, ['--download'], {shell: true});\n        child.on('close', function(code) {\n          if (code === 0) {\n            resolve(child);\n          } else {\n            const error = new Error();\n\n            reject(new KiteProcessError('kited_error',\n            {\n              message: `Unable to download Kite. Unexpected exit code ${code}.`,\n              stderr: '',\n              stdout: '',\n              callStack: error.stack,\n              cmd: `${scriptPath} --download`,\n              options: [\"--download\"],\n            }));\n          }\n        });\n\n        if (progress) {\n          let last = -1;\n          child.stdout.on('data', chunk => {\n            // chunk is a buffer when used with spawn\n            let line = chunk.toString('utf8');\n            let pattern = /Download: (\\d+)\\/(\\d+)/g;\n            let lastMatch, match;\n            while ((match = pattern.exec(line)) !== null) {\n              lastMatch = match;\n            }\n\n            if (lastMatch) {\n              let received = parseInt(lastMatch[1], 10);\n              let total = parseInt(lastMatch[2], 10);\n              if (received >= 0 && total >= received && received > last) {\n                last = received;\n                progress(received, total, received / total);\n              }\n            }\n          });\n        }\n      } catch (e) {\n        console.error(e);\n        reject(e);\n      }\n    });\n  },\n\n  installKite(opts) {\n    opts = opts || {};\n\n    utils.guardCall(opts.onInstallStart);\n    return utils.spawnPromise(this.KITE_INSTALLER_PATH,\n    ['--install'], {shell: true},\n    'kite-installer install error', `unable to install kite with ${this.KITE_INSTALLER_PATH}`)\n    .then(() => this.resetInstallPath()) // force recalculation of mem'd path on successful install\n    .then(() => utils.guardCall(opts.onMount))\n    .then(() => fs.unlinkSync(this.KITE_INSTALLER_PATH))\n    .then(() => utils.guardCall(opts.onRemove));\n  },\n\n  isKiteRunning() {\n    return utils.spawnPromise(\n    '/bin/ps',\n    ['-axo', 'pid,command'],\n    {encoding: 'utf-8'},\n    'ps_error',\n    'unable to run the ps command and verify that Kite is running')\n    .then(stdout => {\n      const procs = stdout.split('\\n');\n\n      if (!procs.some(p => this.KITED_PROCESS.test(p))) {\n        throw new KiteStateError('Kite process could not be found in the processes list', {\n          state: STATES.NOT_RUNNING,\n        });\n      }\n    });\n  },\n\n  runKiteWithCopilot() {\n    const env = Object.assign({}, process.env);\n    env.SKIP_KITE_ONBOARDING = '1';\n    delete env['ELECTRON_RUN_AS_NODE'];\n\n    return new Promise((resolve, reject) => {\n      try {\n        if (!fs.existsSync(this.installPath)) {\n          throw new Error('kited is not installed');\n        }\n        child_process.spawn(this.installPath,\n        ['--plugin-launch-with-copilot', '--channel=autocomplete-python'],\n        {detached: true, stdio: 'ignore', env});\n        resolve();\n      } catch (e) {\n        reject(new KiteProcessError('kited_error',\n        {\n          message: (e.message && e.message === 'kited is not installed') || 'unable to run kited binary',\n          callStack: e.stack,\n          cmd: this.installPath,\n          options: {detached: true, env},\n        }));\n      }\n    });\n  },\n\n  runKite() {\n    return this.isKiteRunning()\n    .catch(() => {\n      const env = Object.assign({}, process.env);\n      env.SKIP_KITE_ONBOARDING = '1';\n      delete env['ELECTRON_RUN_AS_NODE'];\n\n      try {\n        if (!fs.existsSync(this.installPath)) {\n          throw new Error('kited is not installed');\n        }\n        child_process.spawn(this.installPath,\n        ['--plugin-launch', '--channel=autocomplete-python'],\n        {detached: true, stdio: 'ignore', env});\n      } catch (e) {\n        throw new KiteProcessError('kited_error',\n        {\n          message: (e.message && e.message === 'kited is not installed') || 'unable to run kited binary',\n          callStack: e.stack,\n          cmd: this.installPath,\n          options: {detached: true, env},\n        });\n      }\n    });\n  },\n\n  hasBothKiteInstalled() {\n    return Promise.all([\n      this.isKiteInstalled(),\n      this.isKiteEnterpriseInstalled(),\n    ]);\n  },\n\n  isKiteEnterpriseInstalled() {\n    return this.notSupported();\n  },\n\n  isKiteEnterpriseRunning() {\n    return this.notSupported();\n  },\n\n  runKiteEnterprise() {\n    return this.notSupported();\n  },\n\n  notSupported() {\n    return Promise.reject(\n    new KiteStateError('Your platform is currently not supported', {\n      state: STATES.UNSUPPORTED,\n    }));\n  },\n};\n\nmodule.exports = LinuxSupport;\n","'use strict';\n\nconst KiteStateError = require('../kite-state-error');\n\nconst {STATES} = require('../constants');\n\nmodule.exports = {\n  get releaseURL() {\n    return null;\n  },\n\n  get downloadPath() {\n    return null;\n  },\n\n  get installPath() {\n    return null;\n  },\n\n  get allInstallPaths() {\n    return null;\n  },\n\n  get enterpriseInstallPath() {\n    return null;\n  },\n\n  get allEnterpriseInstallPaths() {\n    return null;\n  },\n\n  get sessionFilePath() {\n    return null;\n  },\n\n  hasManyKiteInstallation() {\n    return false;\n  },\n\n  hasManyKiteEnterpriseInstallation() {\n    return false;\n  },\n\n  isAdmin() {\n    return false;\n  },\n\n  arch() {\n    return null;\n  },\n\n  isOSSupported() {\n    return false;\n  },\n\n  isOSVersionSupported() {\n    return false;\n  },\n\n  isKiteSupported() {\n    return false;\n  },\n\n  isKiteInstalled() {\n    return this.notSupported();\n  },\n\n  downloadKite(opts) {\n    return this.notSupported();\n  },\n\n  installKite(opts) {\n    return this.notSupported();\n  },\n\n  isKiteRunning() {\n    return this.notSupported();\n  },\n\n  runKite() {\n    return this.notSupported();\n  },\n\n  hasBothKiteInstalled() {\n    return Promise.all([\n      this.isKiteInstalled(),\n      this.isKiteEnterpriseInstalled(),\n    ]);\n  },\n\n  isKiteEnterpriseInstalled() {\n    return this.notSupported();\n  },\n\n  isKiteEnterpriseRunning() {\n    return this.notSupported();\n  },\n\n  runKiteEnterprise() {\n    return this.notSupported();\n  },\n\n  notSupported() {\n    return Promise.reject(\n      new KiteStateError('Your platform is currently not supported', {\n        state: STATES.UNSUPPORTED,\n      }));\n  },\n};\n","'use strict';\n\nmodule.exports = class EditorConfig {\n  constructor(store) {\n    this.store = store;\n  }\n\n  get(path) {\n    return (this.content\n      ? Promise.resolve(this.content)\n      : this.store.get()\n        .then(data => parse(data))\n        .then(data => {\n          this.content = data;\n          return data;\n        }))\n    .then(data => readValueAtPath(path, data));\n  }\n\n  set(path, value) {\n    return this.get().then(data =>\n      this.store.set(stringify(writeValueAtPath(path, value, data))));\n  }\n};\n\nfunction parse(data) {\n  return data ? JSON.parse(data) : data;\n}\n\nfunction stringify(data) {\n  return JSON.stringify(data);\n}\n\nfunction readValueAtPath(path, object) {\n  if (!path) { return object; }\n\n  return path.split(/\\./g).reduce((memo, key) => {\n    if (memo == undefined) { return memo; }\n    return memo[key];\n  }, object);\n}\n\nfunction writeValueAtPath(path, value, object) {\n  if (!object) { object = {}; }\n\n  return path.split(/\\./g).reduce((memo, key, i, a) => {\n    if (i === a.length - 1) {\n      memo[key] = value;\n      return object;\n    } else if (memo[key] == undefined) {\n      memo[key] = {};\n      return memo[key];\n    }\n    return memo[key];\n  }, object);\n}\n","'use strict';\n\nmodule.exports = class MemoryStore {\n  constructor() {}\n\n  set(content) {\n    this.content = content;\n    return Promise.resolve();\n  }\n  get() {\n    return Promise.resolve(this.content);\n  }\n};\n","\n// MAX_FILE_SIZE is the maximum file size to send to Kite\nconst MAX_FILE_SIZE = 75 * Math.pow(2, 10); // 75 KB\n\n// MAX_PAYLOAD_SIZE is the maximum length for a POST reqest body\nconst MAX_PAYLOAD_SIZE = Math.pow(2, 21); // 2097152\n\nmodule.exports = {\n  MAX_FILE_SIZE,\n  MAX_PAYLOAD_SIZE,\n};\n","'use strict';\n\nfunction merge(a, b) {\n  const c = {};\n  for (const k in a) { c[k] = a[k]; }\n  for (const k in b) { c[k] = b[k]; }\n  return c;\n}\n\nfunction reject(key, a) {\n  const b = {};\n  for (const k in a) {\n    if (k !== key) { b[k] = a[k]; }\n  }\n  return b;\n}\n\nfunction parseSignature(fn) {\n  const [, name, signature] = /(\\w+)\\(([^\\)]+)\\)/.exec(fn.toString());\n  const parameters = signature.split(/,\\s*/);\n  return [name, parameters];\n}\n\nfunction checkArguments(fn, ...args) {\n  const [name, parameters] = parseSignature(fn);\n  const missingArguments = [];\n  args.forEach((arg, i) => {\n    if (arg == null) { missingArguments.push(parameters[i]); }\n  });\n  if (missingArguments.length) {\n    throw new Error(\n      `Missing argument${missingArguments.length > 1 ? 's' : ''} ${missingArguments.join(', ')} in ${name}`);\n  }\n}\n\nfunction checkArgumentKeys(fn, arg, argName, ...keys) {\n  const missingKeys = [];\n  keys.forEach((key, i) => {\n    if (arg[key] == null) { missingKeys.push(key); }\n  });\n  if (missingKeys.length) {\n    throw new Error(\n      `Missing mandatory key${\n        missingKeys.length > 1 ? 's' : ''\n      } ${missingKeys.join(', ')} in argument ${argName} of ${fn.name}`);\n  }\n}\n\nmodule.exports = {\n  checkArgumentKeys,\n  checkArguments,\n  merge,\n  reject,\n};\n","'use strict';\n\nconst md5 = require('md5');\n\nfunction onboardingFilePath(editor, language) {\n  return [\n    '/clientapi/plugins/onboarding_file', [\n      `editor=${editor}`,\n      `language=${language}`,\n    ].join('&'),\n  ].join('?');\n}\n\nfunction hoverPath(filename, source, position, editor, encoding) {\n  const state = md5(source);\n  const buffer = cleanPath(filename);\n  return [\n    `/api/buffer/${editor}/${buffer}/${state}/hover`,\n    [\n      `cursor_runes=${position}`,\n      `offset_encoding=${encoding}`,\n    ].join('&'),\n  ].join('?');\n}\n\nfunction membersPath(id, page, limit) {\n  return [\n    `/api/editor/value/${id}/members`,\n    [\n      `offset=${page}`,\n      `limit=${limit}`,\n    ].join('&'),\n  ].join('?');\n}\n\nfunction usagesPath(id, page, limit) {\n  return [\n    `/api/editor/value/${id}/usages`,\n    [\n      `offset=${page}`,\n      `limit=${limit}`,\n    ].join('&'),\n  ].join('?');\n}\n\nfunction shouldNotifyPath(path) {\n  return `/clientapi/permissions/notify?filename=${encodeURI(path)}`;\n}\n\nfunction statusPath(path) {\n  return `/clientapi/status?filename=${encodeURI(path)}`;\n}\n\nfunction projectDirPath(path) {\n  return `/clientapi/projectdir?filename=${encodeURI(path)}`;\n}\n\nfunction cleanPath(p) {\n  return encodeURI(p)\n  .replace(/^([A-Z]):/, '/windows/$1')\n  .replace(/\\/|\\\\|%5C/g, ':');\n}\n\nmodule.exports = {\n  cleanPath,\n  onboardingFilePath,\n  hoverPath,\n  membersPath,\n  projectDirPath,\n  shouldNotifyPath,\n  statusPath,\n  usagesPath,\n};\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","'use strict';\n\nmodule.exports = {\n  log() {},\n};\n","'use strict';\n\nconst {LEVELS} = require('../constants');\n\nmodule.exports = {\n  TRACE_ALL: false,\n  METHODS: {\n    [LEVELS.SILLY]: 'debug' in console ? 'debug' : 'log',\n    [LEVELS.VERBOSE]: 'debug' in console ? 'debug' : 'log',\n    [LEVELS.DEBUG]: 'log',\n    [LEVELS.INFO]: 'info' in console ? 'info' : 'log',\n    [LEVELS.WARNING]: 'warn' in console ? 'warn' : 'error',\n    [LEVELS.ERROR]: 'error',\n  },\n\n  log(level, ...msgs) {\n    console[this.METHODS[level]](...msgs);\n  },\n};\n","'use strict';\r\n\r\nconst vscode = require('vscode');\r\nconst {Hover} = vscode;\r\nconst {hoverPath} = require('./urls');\r\nconst {compact, escapeCommandArguments} = require('./utils');\r\nconst {symbolName, symbolKindMarkdown} = require('./data-utils');\r\n\r\nmodule.exports = class KiteHoverProvider {\r\n  constructor (Kite, isTest) {\r\n    this.Kite = Kite;\r\n    this.isTest = isTest;\r\n  }\r\n\r\n  provideHover(doc, position) {\r\n    const path = hoverPath(doc, position);\r\n    return this.Kite.request({path})\r\n    .then(data => JSON.parse(data))\r\n    .then(data => {\r\n      if (data && data.symbol && data.symbol.length) {\r\n        const [symbol] = data.symbol;\r\n\r\n        const docsLink = `[Docs](command:kite.more-position?${escapeCommandArguments({\r\n          position,\r\n          source: 'Hover',\r\n        })})`;\r\n\r\n        let defLink;\r\n        if (data && data.report && data.report.definition && data.report.definition.filename !== '') {\r\n          const defData = escapeCommandArguments({\r\n            file: data.report.definition.filename,\r\n            line: data.report.definition.line,\r\n            source: 'Hover',\r\n          });\r\n          defLink = `[Def](command:kite.def?${defData})`;\r\n        }\r\n\r\n        const content = new vscode.MarkdownString(`⟠&nbsp;&nbsp;__${symbolName(symbol).replace('_', '\\\\_')}__:&nbsp;${symbolKindMarkdown(symbol)}&nbsp;&nbsp;&nbsp;&nbsp;${docsLink}${defLink ? '&nbsp;&nbsp;' + defLink : ''}`);\r\n        content.isTrusted = true;\r\n\r\n        const texts = [\r\n          content\r\n        ];\r\n\r\n        return new Hover(compact(texts));\r\n      }\r\n    })\r\n    .catch(() => {});\r\n  }\r\n}\r\n","\"use strict\";\r\nconst {\r\n  CompletionItem,\r\n  CompletionItemKind,\r\n  CompletionList,\r\n  MarkdownString,\r\n  Range,\r\n  SnippetString,\r\n  window,\r\n  workspace\r\n} = require(\"vscode\");\r\nconst Logger = require(\"kite-connector/lib/logger\");\r\nconst {\r\n  KITE_BRANDING,\r\n  OFFSET_ENCODING,\r\n  MAX_FILE_SIZE\r\n} = require(\"./constants\");\r\nconst {\r\n  parseJSON,\r\n  getSupportedLanguage\r\n} = require(\"./utils\");\r\nconst {\r\n  completionsPath,\r\n  normalizeDriveLetter\r\n} = require(\"./urls\");\r\n\r\n\r\nconst fill = (s, l, f = \" \") => {\r\n  while (s.length < l) {\r\n    s = `${f}${s}`;\r\n  }\r\n  return s;\r\n};\r\n\r\nconst kindForHint = hint => {\r\n  switch (hint) {\r\n    case \"call\":\r\n    case \"function\":\r\n      return CompletionItemKind.Function;\r\n    case \"module\":\r\n      return CompletionItemKind.Module;\r\n    case \"type\":\r\n      return CompletionItemKind.Class;\r\n    case \"keyword\":\r\n      return CompletionItemKind.Keyword;\r\n    case \"string\":\r\n      return CompletionItemKind.Value;\r\n    default:\r\n      return CompletionItemKind.Value;\r\n  }\r\n};\r\n\r\nconst buildMarkdown = (id, hint, documentation_text) => {\r\n  return new MarkdownString(`[𝕜𝕚𝕥𝕖]&nbsp;&nbsp;__${id}__&nbsp;&nbsp;&nbsp;&nbsp;_${hint}_\r\n\r\n${documentation_text}\r\n\r\n            `);\r\n};\r\n\r\nconst buildFilterText = (document, position) => {\r\n  const selection =\r\n    window.activeTextEditor && window.activeTextEditor.selection;\r\n  const wordRange =\r\n    document.getWordRangeAtPosition(position) ||\r\n    (selection && new Range(selection.start, selection.end)); // Snippet placeholder selection range\r\n  if (!wordRange) {\r\n    return null;\r\n  }\r\n  return document.getText(wordRange);\r\n};\r\n\r\n// Transforms Kite completion into a CompletionItem\r\nconst processCompletion = (\r\n  document,\r\n  c,\r\n  displayPrefix,\r\n  numDigits,\r\n  i\r\n) => {\r\n  const item = new CompletionItem(displayPrefix + c.display);\r\n  item.insertText = c.snippet.text;\r\n\r\n  const start = document.positionAt(c.replace.begin);\r\n  const end = document.positionAt(c.replace.end);\r\n  const replaceRange = new Range(start, end);\r\n  item.filterText = document.getText(replaceRange);\r\n  item.keepWhitespace = true;\r\n\r\n  if (i === 0) {\r\n    item.preselect = true;\r\n  }\r\n  item.sortText = fill(String(i), numDigits, \"\\0\");\r\n  item.range = replaceRange\r\n  if (c.documentation.text !== \"\") {\r\n    item.documentation = buildMarkdown(c.web_id, c.hint, c.documentation.text);\r\n  }\r\n  // Note: The space following the Kite icon is the unicode space U+2003 instead\r\n  // of the normal space U+0020 because VS Code strips the detail.\r\n  item.detail = c.hint + KITE_BRANDING;\r\n  item.kind = kindForHint(c.hint);\r\n\r\n  if (c.snippet.placeholders.length > 0) {\r\n    var offset = 0;\r\n    let i = 0;\r\n    for (i = 0; i < c.snippet.placeholders.length; i++) {\r\n      let placeholder = c.snippet.placeholders[i];\r\n      placeholder.begin += offset;\r\n      placeholder.end += offset;\r\n      item.insertText =\r\n        item.insertText.slice(0, placeholder.begin) +\r\n        \"${\" +\r\n        (i + 1).toString() +\r\n        \":\" +\r\n        item.insertText.slice(placeholder.begin, placeholder.end) +\r\n        \"}\" +\r\n        item.insertText.slice(placeholder.end);\r\n      offset += 5;\r\n    }\r\n    // Add closing tab stop\r\n    item.insertText += \"$0\";\r\n    item.insertText = new SnippetString(item.insertText);\r\n  }\r\n\r\n  item.command = {\r\n    command: \"kite.insert-completion\",\r\n    arguments: [{lang: getSupportedLanguage(document)}]\r\n  };\r\n\r\n  return item;\r\n};\r\n\r\nmodule.exports = class KiteCompletionProvider {\r\n  constructor(Kite, triggers, optionalTriggers, isTest) {\r\n    this.Kite = Kite;\r\n    this.triggers = triggers;\r\n    this.optionalTriggers = optionalTriggers || [];\r\n    this.isTest = isTest;\r\n  }\r\n\r\n  provideCompletionItems(document, position, token, context) {\r\n    const text = document.getText();\r\n\r\n    if (text.length > MAX_FILE_SIZE) {\r\n      Logger.warn(\"buffer contents too large, not attempting completions\");\r\n      return Promise.resolve([]);\r\n    }\r\n\r\n    const filename = normalizeDriveLetter(document.fileName);\r\n    const filterText = buildFilterText(document, position);\r\n    return this.getCompletions(document, text, filename, filterText, context);\r\n  }\r\n\r\n  getCompletions(document, text, filename, filterText, context) {\r\n    const selection = window.activeTextEditor.selection;\r\n    const begin = document.offsetAt(selection.start);\r\n    const end = document.offsetAt(selection.end);\r\n    const enableSnippets = workspace.getConfiguration(\"kite\").enableSnippets;\r\n\r\n    const isOptionalTrigger = this.optionalTriggers.indexOf(context.triggerCharacter) !== -1;\r\n    const shouldShowOptionalTrigger = workspace.getConfiguration('kite').enableOptionalCompletionsTriggers;\r\n\r\n    const payload = {\r\n      text,\r\n      editor: \"vscode\",\r\n      filename,\r\n      position: {\r\n        begin,\r\n        end\r\n      },\r\n      no_snippets: !enableSnippets,\r\n      offset_encoding: OFFSET_ENCODING,\r\n    };\r\n\r\n    return this.Kite.request(\r\n      {\r\n        path: completionsPath(),\r\n        method: \"POST\"\r\n      },\r\n      JSON.stringify(payload)\r\n    )\r\n      .then(data => {\r\n        if (isOptionalTrigger && !shouldShowOptionalTrigger) {\r\n          // Don't return anything because if we're wrong, it'll block all other\r\n          // VS Code completions that come after the space.\r\n          return [];\r\n        }\r\n\r\n        data = parseJSON(data, {});\r\n        const completions = data.completions || [];\r\n        // # of completion items + its children\r\n        const totalCompletions = completions.reduce((total, completion) => {\r\n          let toReturn = total + 1;\r\n          if (completion.children) {\r\n            toReturn += completion.children.length;\r\n          }\r\n          return toReturn;\r\n        }, 0);\r\n        // # of digits needed to represent totalCompletions. Used for sortText.\r\n        const numDigits = String(totalCompletions).length;\r\n        const completionItems = [];\r\n        // Used to track order in suggestion list\r\n        let idx = 0;\r\n        completions.forEach(c => {\r\n          completionItems.push(\r\n            processCompletion(\r\n              document,\r\n              c,\r\n              \"\",\r\n              numDigits,\r\n              idx,\r\n            )\r\n          );\r\n          const children = c.children || [];\r\n          let offset = 1;\r\n          children.forEach(child => {\r\n            completionItems.push(\r\n              processCompletion(\r\n                document,\r\n                child,\r\n                \"  \",\r\n                numDigits,\r\n                idx + offset,\r\n              )\r\n            );\r\n            offset += 1;\r\n          });\r\n          idx += offset;\r\n        });\r\n        return new CompletionList(completionItems, true);\r\n      })\r\n      .catch(() => []);\r\n  }\r\n};\r\n","\"use strict\";\r\nconst {\r\n  SignatureHelp,\r\n  SignatureInformation,\r\n  ParameterInformation\r\n} = require(\"vscode\");\r\nconst Logger = require(\"kite-connector/lib/logger\");\r\nconst { MAX_FILE_SIZE } = require(\"./constants\");\r\nconst { parseJSON, stripTags, getFunctionDetails } = require(\"./utils\");\r\nconst { signaturePath, normalizeDriveLetter } = require(\"./urls\");\r\nconst { valueLabel, parameterType } = require(\"./data-utils\");\r\n\r\nmodule.exports = class KiteSignatureProvider {\r\n  constructor(Kite, isTest) {\r\n    this.Kite = Kite;\r\n    this.isTest = isTest;\r\n  }\r\n\r\n  provideSignatureHelp(document, position, token) {\r\n    // console.log('signature called', this.isTest, editorsForDocument(document).length)\r\n    // console.log('document', document.fileName)\r\n    const text = document.getText();\r\n\r\n    if (text.length > MAX_FILE_SIZE) {\r\n      Logger.warn(\"buffer contents too large, not attempting signature\");\r\n      return null;\r\n    }\r\n\r\n    const cursorPosition = document.offsetAt(position);\r\n    const payload = {\r\n      text,\r\n      editor: \"vscode\",\r\n      filename: normalizeDriveLetter(document.fileName),\r\n      cursor_runes: cursorPosition,\r\n      offset_encoding: \"utf-16\"\r\n    };\r\n    Logger.debug(payload);\r\n\r\n    return this.Kite.request(\r\n      {\r\n        path: signaturePath(),\r\n        method: \"POST\"\r\n      },\r\n      JSON.stringify(payload),\r\n      document\r\n    )\r\n      .then(data => {\r\n        data = parseJSON(data, {});\r\n\r\n        const [call] = data.calls;\r\n\r\n        const { callee } = call;\r\n\r\n        const help = new SignatureHelp();\r\n        help.activeParameter = call.arg_index;\r\n        help.activeSignature = 0;\r\n\r\n        const label = \"⟠ \" + stripTags(valueLabel(callee));\r\n        const sig = new SignatureInformation(label);\r\n        const detail = getFunctionDetails(callee);\r\n        sig.parameters = (detail.parameters || []).map(p => {\r\n          const label = p.inferred_value\r\n            ? `${p.name}:${stripTags(parameterType(p))}`\r\n            : p.name;\r\n          const param = new ParameterInformation(label);\r\n          return param;\r\n        });\r\n\r\n        if (\r\n          Array.isArray(detail.return_value) &&\r\n          detail.return_value.length &&\r\n          detail.return_value[0].type\r\n        ) {\r\n          sig.documentation = `Returns → ${detail.return_value[0].type}`;\r\n        }\r\n\r\n        help.signatures = [sig];\r\n\r\n        return help;\r\n      })\r\n      .catch(() => null);\r\n  }\r\n};\r\n","'use strict';\r\n\r\nconst vscode = require('vscode');\r\nconst { Location, Position } = vscode;\r\nconst { editorsForDocument, parseJSON, promisifyReadResponse } = require('./utils');\r\nconst { hoverPath } = require('./urls');\r\n\r\nmodule.exports = class KiteDefinitionProvider {\r\n  constructor(Kite, isTest) {\r\n    this.Kite = Kite;\r\n    this.isTest = isTest;\r\n  }\r\n\r\n  provideDefinition(document, position, token) {\r\n    // No-op if Microsoft Python ext is installed.\r\n    // Putting it here instead of kite.js since the ext can be installed and activated\r\n    // without a restart.\r\n    const msPythonExt = vscode.extensions.getExtension(\"ms-python.python\");\r\n    if (msPythonExt) {\r\n      return;\r\n    }\r\n    const path = hoverPath(document, position);\r\n    return this.Kite.request({ path }, null, document)\r\n      .then(data => parseJSON(data))\r\n      .then(data => {\r\n        if (data && data.report && data.report.definition && data.report.definition.filename !== '') {\r\n          return new Location(\r\n            vscode.Uri.file(data.report.definition.filename),\r\n            new Position(data.report.definition.line - 1, 0));\r\n        }\r\n      })\r\n      .catch(() => null);\r\n  }\r\n}","'use strict';\r\n\r\nmodule.exports = class KiteEditor {\r\n  constructor(Kite, editor) {\r\n    this.Kite = Kite;\r\n    this.editor = editor;\r\n    this.document = editor.document;\r\n  }\r\n\r\n  dispose() {\r\n    delete this.Kite;\r\n    delete this.editor;\r\n    delete this.document;\r\n  }\r\n}","'use strict';\r\n\r\nconst KiteAPI = require('kite-api');\r\nconst { version: editor_version } = require('vscode');\r\n\r\nconst { version: plugin_version } = require('./metrics');\r\nconst {MAX_PAYLOAD_SIZE, MAX_FILE_SIZE} = require('./constants');\r\nconst {normalizeDriveLetter} = require('./urls');\r\n\r\nmodule.exports = class EditorEvents {\r\n  constructor(Kite, editor) {\r\n    this.Kite = Kite;\r\n    this.editor = editor;\r\n    this.reset();\r\n  }\r\n\r\n  dispose() {\r\n    delete this.Kite;\r\n    delete this.editor;\r\n  }\r\n\r\n  focus() {\r\n    return this.send('focus');\r\n  }\r\n\r\n  edit() {\r\n    return this.send('edit');\r\n  }\r\n\r\n  selectionChanged() {\r\n    return this.send('selection');\r\n  }\r\n\r\n  send(action) {\r\n    if (!this.pendingPromise) {\r\n      this.pendingPromise = new Promise((resolve, reject) => {\r\n        this.pendingPromiseResolve = resolve;\r\n        this.pendingPromiseReject = reject;\r\n      });\r\n    }\r\n    this.pendingEvents.push(action);\r\n    clearTimeout(this.timeout);\r\n    this.timeout = setTimeout(() => this.mergeEvents(), 0);\r\n    // was resulting in unhandled Promise rejection from `this.pendingPromiseReject(err)`\r\n    // below... so we catch it\r\n    return this.pendingPromise.catch(() => {});\r\n  }\r\n\r\n  reset() {\r\n    clearTimeout(this.timeout);\r\n    this.pendingEvents = [];\r\n  }\r\n\r\n  mergeEvents() {\r\n    if (!this.editor || !this.editor.document) {\r\n      return;\r\n    }\r\n\r\n    const editor = this.editor;\r\n    const doc = editor.document;\r\n    let focus = this.pendingEvents.filter(e => e === 'focus')[0];\r\n    let action = this.pendingEvents.some(e => e === 'edit') ? 'edit' : this.pendingEvents.pop();\r\n\r\n    this.reset();\r\n\r\n    const payload = JSON.stringify(this.buildEvent(action, doc, editor.selection));\r\n\r\n    if (payload.length > MAX_PAYLOAD_SIZE) {\r\n      return this.reset();\r\n    }\r\n\r\n    let promise = Promise.resolve();\r\n\r\n    if (focus && action !== focus) {\r\n      promise = promise.then(() => this.Kite.request({\r\n        path: '/clientapi/editor/event',\r\n        method: 'POST',\r\n      }, JSON.stringify(this.buildEvent(focus, doc, editor.selection)), doc));\r\n    }\r\n\r\n    return promise\r\n    .then(() => this.Kite.request({\r\n      path: '/clientapi/editor/event',\r\n      method: 'POST',\r\n    }, payload, doc))\r\n    .then((res) => {\r\n      this.pendingPromiseResolve && this.pendingPromiseResolve(res);\r\n    })\r\n    .catch((err) => {\r\n      this.pendingPromiseReject && this.pendingPromiseReject(err);\r\n    })\r\n    .then(() => {\r\n      delete this.pendingPromise;\r\n      delete this.pendingPromiseResolve;\r\n      delete this.pendingPromiseReject;\r\n    });\r\n  }\r\n\r\n  buildEvent(action, document, selection) {\r\n    const content = document.getText();\r\n    return content.length > MAX_FILE_SIZE\r\n      ? {\r\n        source: 'vscode',\r\n        action: 'skip',\r\n        text: '',\r\n        filename: normalizeDriveLetter(document.fileName),\r\n        selections: [{start: 0, end: 0}],\r\n        editor_version,\r\n        plugin_version\r\n      }\r\n      : this.makeEvent(action, document, content, selection);\r\n  }\r\n\r\n  makeEvent(action, document, text, selection) {\r\n    const event = {\r\n      source: 'vscode',\r\n      text,\r\n      action,\r\n      filename: normalizeDriveLetter(document.fileName),\r\n      editor_version,\r\n      plugin_version\r\n    };\r\n\r\n    if (selection && selection.start != null && selection.end != null) {\r\n      event.selections = [{\r\n        start: document.offsetAt(selection.start),\r\n        end: document.offsetAt(selection.end),\r\n      }];\r\n    }\r\n\r\n    return event;\r\n  }\r\n};\r\n","module.exports = require(\"crypto\");","/*\n    Heavily inspired by the original js library copyright Mixpanel, Inc.\n    (http://mixpanel.com/)\n\n    Copyright (c) 2012 Carl Sverre\n\n    Released under the MIT license.\n*/\n\nvar http        = require('http'),\n    https       = require('https'),\n    querystring = require('querystring'),\n    Buffer      = require('buffer').Buffer,\n    util        = require('util');\n\nvar REQUEST_LIBS = {\n    http: http,\n    https: https\n};\n\nvar create_client = function(token, config) {\n    var metrics = {};\n\n    if(!token) {\n        throw new Error(\"The Mixpanel Client needs a Mixpanel token: `init(token)`\");\n    }\n\n    // Default config\n    metrics.config = {\n        test: false,\n        debug: false,\n        verbose: false,\n        host: 'api.mixpanel.com',\n        protocol: 'http'\n    };\n\n    metrics.token = token;\n\n    /**\n        send_request(data)\n        ---\n        this function sends an async GET request to mixpanel\n\n        data:object                     the data to send in the request\n        callback:function(err:Error)    callback is called when the request is\n                                        finished or an error occurs\n    */\n    metrics.send_request = function(endpoint, data, callback) {\n        callback = callback || function() {};\n        var event_data = new Buffer(JSON.stringify(data));\n        var request_data = {\n            'data': event_data.toString('base64'),\n            'ip': 0,\n            'verbose': metrics.config.verbose ? 1 : 0\n        };\n\n        var request_lib = REQUEST_LIBS[metrics.config.protocol];\n        if (!request_lib) {\n            throw new Error(\n                \"Mixpanel Initialization Error: Unsupported protocol \" + metrics.config.protocol + \". \" +\n                \"Supported protocols are: \" + Object.keys(REQUEST_LIBS)\n            );\n        }\n\n        if (endpoint === '/import') {\n            var key = metrics.config.key;\n            if (!key) {\n                throw new Error(\"The Mixpanel Client needs a Mixpanel api key when importing old events: `init(token, { key: ... })`\");\n            }\n            request_data.api_key = key;\n        }\n\n        var request_options = {\n            host: metrics.config.host,\n            port: metrics.config.port,\n            headers: {}\n        };\n\n        if (metrics.config.test) { request_data.test = 1; }\n\n        var query = querystring.stringify(request_data);\n\n        request_options.path = [endpoint,\"?\",query].join(\"\");\n\n        request_lib.get(request_options, function(res) {\n            var data = \"\";\n            res.on('data', function(chunk) {\n               data += chunk;\n            });\n\n            res.on('end', function() {\n                var e;\n                if (metrics.config.verbose) {\n                    try {\n                        var result = JSON.parse(data);\n                        if(result.status != 1) {\n                            e = new Error(\"Mixpanel Server Error: \" + result.error);\n                        }\n                    }\n                    catch(ex) {\n                        e = new Error(\"Could not parse response from Mixpanel\");\n                    }\n                }\n                else {\n                    e = (data !== '1') ? new Error(\"Mixpanel Server Error: \" + data) : undefined;\n                }\n\n                callback(e);\n            });\n        }).on('error', function(e) {\n            if (metrics.config.debug) {\n                console.log(\"Got Error: \" + e.message);\n            }\n            callback(e);\n        });\n    };\n\n    /**\n        track(event, properties, callback)\n        ---\n        this function sends an event to mixpanel.\n\n        event:string                    the event name\n        properties:object               additional event properties to send\n        callback:function(err:Error)    callback is called when the request is\n                                        finished or an error occurs\n    */\n    metrics.track = function(event, properties, callback) {\n        if (typeof(properties) === 'function' || !properties) {\n            callback = properties;\n            properties = {};\n        }\n\n        // if properties.time exists, use import endpoint\n        var endpoint = (typeof(properties.time) === 'number') ? '/import' : '/track';\n\n        properties.token = metrics.token;\n        properties.mp_lib = \"node\";\n\n        var data = {\n            'event' : event,\n            'properties' : properties\n        };\n\n        if (metrics.config.debug) {\n            console.log(\"Sending the following event to Mixpanel:\");\n            console.log(data);\n        }\n\n        metrics.send_request(endpoint, data, callback);\n    };\n\n    var parse_time = function(time) {\n        if (time === void 0) {\n            throw new Error(\"Import methods require you to specify the time of the event\");\n        } else if (Object.prototype.toString.call(time) === '[object Date]') {\n            time = Math.floor(time.getTime() / 1000);\n        }\n        return time;\n    };\n\n    /**\n        import(event, properties, callback)\n        ---\n        This function sends an event to mixpanel using the import\n        endpoint.  The time argument should be either a Date or Number,\n        and should signify the time the event occurred.\n\n        It is highly recommended that you specify the distinct_id\n        property for each event you import, otherwise the events will be\n        tied to the IP address of the sending machine.\n\n        For more information look at:\n        https://mixpanel.com/docs/api-documentation/importing-events-older-than-31-days\n\n        event:string                    the event name\n        time:date|number                the time of the event\n        properties:object               additional event properties to send\n        callback:function(err:Error)    callback is called when the request is\n                                        finished or an error occurs\n    */\n    metrics.import = function(event, time, properties, callback) {\n        if (typeof(properties) === 'function' || !properties) {\n            callback = properties;\n            properties = {};\n        }\n\n        properties.time = parse_time(time);\n\n        metrics.track(event, properties, callback);\n    };\n\n    /**\n        import_batch(event_list, options, callback)\n        ---\n        This function sends a list of events to mixpanel using the import\n        endpoint. The format of the event array should be:\n\n        [\n            {\n                \"event\": \"event name\",\n                \"properties\": {\n                    \"time\": new Date(), // Number or Date; required for each event\n                    \"key\": \"val\",\n                    ...\n                }\n            },\n            {\n                \"event\": \"event name\",\n                \"properties\": {\n                    \"time\": new Date()  // Number or Date; required for each event\n                }\n            },\n            ...\n        ]\n\n        See import() for further information about the import endpoint.\n\n        Options:\n            max_batch_size: the maximum number of events to be transmitted over\n                            the network simultaneously. useful for capping bandwidth\n                            usage.\n\n        N.B.: the Mixpanel API only accepts 50 events per request, so regardless\n        of max_batch_size, larger lists of events will be chunked further into\n        groups of 50.\n\n        event_list:array                    list of event names and properties\n        options:object                      optional batch configuration\n        callback:function(error_list:array) callback is called when the request is\n                                            finished or an error occurs\n    */\n    metrics.import_batch = function(event_list, options, callback) {\n        var batch_size = 50, // default: Mixpanel API permits 50 events per request\n            total_events = event_list.length,\n            max_simultaneous_events = total_events,\n            completed_events = 0,\n            event_group_idx = 0,\n            request_errors = [];\n\n        if (typeof(options) === 'function' || !options) {\n            callback = options;\n            options = {};\n        }\n        if (options.max_batch_size) {\n            max_simultaneous_events = options.max_batch_size;\n            if (options.max_batch_size < batch_size) {\n                batch_size = options.max_batch_size;\n            }\n        }\n\n        var send_next_batch = function() {\n            var properties,\n                event_batch = [];\n\n            // prepare batch with required props\n            for (var ei = event_group_idx; ei < total_events && ei < event_group_idx + batch_size; ei++) {\n                properties = event_list[ei].properties;\n                properties.time = parse_time(properties.time);\n                if (!properties.token) {\n                    properties.token = metrics.token;\n                }\n                event_batch.push(event_list[ei]);\n            }\n\n            if (event_batch.length > 0) {\n                metrics.send_request('/import', event_batch, function(e) {\n                    completed_events += event_batch.length;\n                    if (e) {\n                        request_errors.push(e);\n                    }\n                    if (completed_events < total_events) {\n                        send_next_batch();\n                    } else if (callback) {\n                        callback(request_errors);\n                    }\n                });\n                event_group_idx += batch_size;\n            }\n        };\n\n        if (metrics.config.debug) {\n            console.log(\n                \"Sending \" + event_list.length + \" events to Mixpanel in \" +\n                Math.ceil(total_events / batch_size) + \" requests\"\n            );\n        }\n\n        for (var i = 0; i < max_simultaneous_events; i += batch_size) {\n            send_next_batch();\n        }\n    };\n\n    /**\n        alias(distinct_id, alias)\n        ---\n        This function creates an alias for distinct_id\n\n        For more information look at:\n        https://mixpanel.com/docs/integration-libraries/using-mixpanel-alias\n\n        distinct_id:string              the current identifier\n        alias:string                    the future alias\n    */\n    metrics.alias = function(distinct_id, alias, callback) {\n        var properties = {\n            distinct_id: distinct_id,\n            alias: alias\n        };\n\n        metrics.track('$create_alias', properties, callback);\n    };\n\n    metrics.people = {\n        /** people.set_once(distinct_id, prop, to, modifiers, callback)\n            ---\n            The same as people.set but in the words of mixpanel:\n            mixpanel.people.set_once\n\n            \" This method allows you to set a user attribute, only if\n             it is not currently set. It can be called multiple times\n             safely, so is perfect for storing things like the first date\n             you saw a user, or the referrer that brought them to your\n             website for the first time. \"\n\n        */\n        set_once: function(distinct_id, prop, to, modifiers, callback) {\n            var $set = {};\n\n            if (typeof(prop) === 'object') {\n                if (typeof(to) === 'object') {\n                    callback = modifiers;\n                    modifiers = to;\n                } else {\n                    callback = to;\n                }\n                $set = prop;\n            } else {\n                $set[prop] = to;\n                if (typeof(modifiers) === 'function' || !modifiers) {\n                    callback = modifiers;\n                }\n            }\n\n            modifiers = modifiers || {};\n            modifiers.set_once = true;\n\n            this._set(distinct_id, $set, callback, modifiers);\n        },\n\n        /**\n            people.set(distinct_id, prop, to, modifiers, callback)\n            ---\n            set properties on an user record in engage\n\n            usage:\n\n                mixpanel.people.set('bob', 'gender', 'm');\n\n                mixpanel.people.set('joe', {\n                    'company': 'acme',\n                    'plan': 'premium'\n                });\n        */\n        set: function(distinct_id, prop, to, modifiers, callback) {\n            var $set = {};\n\n            if (typeof(prop) === 'object') {\n                if (typeof(to) === 'object') {\n                    callback = modifiers;\n                    modifiers = to;\n                } else {\n                    callback = to;\n                }\n                $set = prop;\n            } else {\n                $set[prop] = to;\n                if (typeof(modifiers) === 'function' || !modifiers) {\n                    callback = modifiers;\n                }\n            }\n\n            this._set(distinct_id, $set, callback, modifiers);\n        },\n\n        // used internally by set and set_once\n        _set: function(distinct_id, $set, callback, options) {\n            options = options || {};\n            var set_key = (options && options.set_once) ? \"$set_once\" : \"$set\";\n\n            var data = {\n                '$token': metrics.token,\n                '$distinct_id': distinct_id\n            };\n            data[set_key] = $set;\n\n            if ('ip' in $set) {\n                data.$ip = $set.ip;\n                delete $set.ip;\n            }\n\n            if ($set.$ignore_time) {\n                data.$ignore_time = $set.$ignore_time;\n                delete $set.$ignore_time;\n            }\n\n            data = merge_modifiers(data, options);\n\n            if (metrics.config.debug) {\n                console.log(\"Sending the following data to Mixpanel (Engage):\");\n                console.log(data);\n            }\n\n            metrics.send_request('/engage', data, callback);\n        },\n\n        /**\n            people.increment(distinct_id, prop, by, modifiers, callback)\n            ---\n            increment/decrement properties on an user record in engage\n\n            usage:\n\n                mixpanel.people.increment('bob', 'page_views', 1);\n\n                // or, for convenience, if you're just incrementing a counter by 1, you can\n                // simply do\n                mixpanel.people.increment('bob', 'page_views');\n\n                // to decrement a counter, pass a negative number\n                mixpanel.people.increment('bob', 'credits_left', -1);\n\n                // like mixpanel.people.set(), you can increment multiple properties at once:\n                mixpanel.people.increment('bob', {\n                    counter1: 1,\n                    counter2: 3,\n                    counter3: -2\n                });\n        */\n        increment: function(distinct_id, prop, by, modifiers, callback) {\n            var $add = {};\n\n            if (typeof(prop) === 'object') {\n                if (typeof(by) === 'object') {\n                    callback = modifiers;\n                    modifiers = by;\n                } else {\n                    callback = by;\n                }\n                Object.keys(prop).forEach(function(key) {\n                    var val = prop[key];\n\n                    if (isNaN(parseFloat(val))) {\n                        if (metrics.config.debug) {\n                            console.error(\"Invalid increment value passed to mixpanel.people.increment - must be a number\");\n                            console.error(\"Passed \" + key + \":\" + val);\n                        }\n                        return;\n                    } else {\n                        $add[key] = val;\n                    }\n                });\n            } else {\n                if (typeof(by) === 'number' || !by) {\n                    by = by || 1;\n                    $add[prop] = by;\n                    if (typeof(modifiers) === 'function') {\n                        callback = modifiers;\n                    }\n                } else if (typeof(by) === 'function') {\n                    callback = by;\n                    $add[prop] = 1;\n                } else {\n                    callback = modifiers;\n                    modifiers = (typeof(by) === 'object') ? by : {};\n                    $add[prop] = 1;\n                }\n            }\n\n            var data = {\n                '$add': $add,\n                '$token': metrics.token,\n                '$distinct_id': distinct_id\n            };\n\n            data = merge_modifiers(data, modifiers);\n\n            if (metrics.config.debug) {\n                console.log(\"Sending the following data to Mixpanel (Engage):\");\n                console.log(data);\n            }\n\n            metrics.send_request('/engage', data, callback);\n        },\n\n        /**\n            people.append(distinct_id, prop, value, modifiers, callback)\n            ---\n            Append a value to a list-valued people analytics property.\n\n            usage:\n\n                // append a value to a list, creating it if needed\n                mixpanel.people.append('pages_visited', 'homepage');\n\n                // like mixpanel.people.set(), you can append multiple properties at once:\n                mixpanel.people.append({\n                    list1: 'bob',\n                    list2: 123\n                });\n        */\n        append: function(distinct_id, prop, value, modifiers, callback) {\n            var $append = {};\n\n            if (typeof(prop) === 'object') {\n                if (typeof(value) === 'object') {\n                    callback = modifiers;\n                    modifiers = value;\n                } else {\n                    callback = value;\n                }\n                Object.keys(prop).forEach(function(key) {\n                    $append[key] = prop[key];\n                });\n            } else {\n                $append[prop] = value;\n                if (typeof(modifiers) === 'function') {\n                    callback = modifiers;\n                }\n            }\n\n            var data = {\n                '$append': $append,\n                '$token': metrics.token,\n                '$distinct_id': distinct_id\n            };\n\n            data = merge_modifiers(data, modifiers);\n\n            if (metrics.config.debug) {\n                console.log(\"Sending the following data to Mixpanel (Engage):\");\n                console.log(data);\n            }\n\n            metrics.send_request('/engage', data, callback);\n        },\n\n        /**\n            people.track_charge(distinct_id, amount, properties, modifiers, callback)\n            ---\n            Record that you have charged the current user a certain\n            amount of money.\n\n            usage:\n\n                // charge a user $29.99\n                mixpanel.people.track_charge('bob', 29.99);\n\n                // charge a user $19 on the 1st of february\n                mixpanel.people.track_charge('bob', 19, { '$time': new Date('feb 1 2012') });\n        */\n        track_charge: function(distinct_id, amount, properties, modifiers, callback) {\n            if (typeof(properties) === 'function' || !properties) {\n                callback = properties || function() {};\n                properties = {};\n            } else {\n                if (typeof(modifiers) === 'function' || !modifiers) {\n                    callback = modifiers || function() {};\n                    if (properties.$ignore_time || properties.hasOwnProperty(\"$ip\")) {\n                        modifiers = {};\n                        Object.keys(properties).forEach(function(key) {\n                            modifiers[key] = properties[key];\n                            delete properties[key];\n                        });\n                    }\n                }\n            }\n\n            if (typeof(amount) !== 'number') {\n                amount = parseFloat(amount);\n                if (isNaN(amount)) {\n                    console.error(\"Invalid value passed to mixpanel.people.track_charge - must be a number\");\n                    return;\n                }\n            }\n\n            properties.$amount = amount;\n\n            if (properties.hasOwnProperty('$time')) {\n                var time = properties.$time;\n                if (Object.prototype.toString.call(time) === '[object Date]') {\n                    properties.$time = time.toISOString();\n                }\n            }\n\n            var data = {\n                '$append': { '$transactions': properties },\n                '$token': metrics.token,\n                '$distinct_id': distinct_id\n            };\n\n            data = merge_modifiers(data, modifiers);\n\n            if (metrics.config.debug) {\n                console.log(\"Sending the following data to Mixpanel (Engage):\");\n                console.log(data);\n            }\n\n            metrics.send_request('/engage', data, callback);\n        },\n\n        /**\n            people.clear_charges(distinct_id, modifiers, callback)\n            ---\n            Clear all the current user's transactions.\n\n            usage:\n\n                mixpanel.people.clear_charges('bob');\n        */\n        clear_charges: function(distinct_id, modifiers, callback) {\n            var data = {\n                '$set': { '$transactions': [] },\n                '$token': metrics.token,\n                '$distinct_id': distinct_id\n            };\n\n            if (typeof(modifiers) === 'function') { callback = modifiers; }\n\n            data = merge_modifiers(data, modifiers);\n\n            if (metrics.config.debug) {\n                console.log(\"Clearing this user's charges:\", distinct_id);\n            }\n\n            metrics.send_request('/engage', data, callback);\n        },\n\n        /**\n            people.delete_user(distinct_id, modifiers, callback)\n            ---\n            delete an user record in engage\n\n            usage:\n\n                mixpanel.people.delete_user('bob');\n        */\n        delete_user: function(distinct_id, modifiers, callback) {\n            var data = {\n                '$delete': '',\n                '$token': metrics.token,\n                '$distinct_id': distinct_id\n            };\n\n            if (typeof(modifiers) === 'function') { callback = modifiers; }\n\n            data = merge_modifiers(data, modifiers);\n\n            if (metrics.config.debug) {\n                console.log(\"Deleting the user from engage:\", distinct_id);\n            }\n\n            metrics.send_request('/engage', data, callback);\n        },\n\n        /**\n         people.union(distinct_id, data, modifiers, callback)\n         ---\n         merge value(s) into a list-valued people analytics property.\n\n         usage:\n\n            mixpanel.people.union('bob', {'browsers': 'firefox'});\n\n            mixpanel.people.union('bob', {'browsers', ['chrome'], os: ['linux']});\n         */\n        union: function(distinct_id, data, modifiers, callback) {\n            var $union = {};\n\n            if (typeof(data) !== 'object' || util.isArray(data)) {\n                if (metrics.config.debug) {\n                    console.error(\"Invalid value passed to mixpanel.people.union - data must be an object with array values\");\n                }\n                return;\n            }\n\n            Object.keys(data).forEach(function(key) {\n                var val = data[key];\n                if (util.isArray(val)) {\n                    var merge_values = val.filter(function(v) {\n                        return typeof(v) === 'string' || typeof(v) === 'number';\n                    });\n                    if (merge_values.length > 0) {\n                        $union[key] = merge_values;\n                    }\n                } else if (typeof(val) === 'string' || typeof(val) === 'number') {\n                    $union[key] = [val];\n                } else {\n                    if (metrics.config.debug) {\n                        console.error(\"Invalid argument passed to mixpanel.people.union - values must be a scalar value or array\");\n                        console.error(\"Passed \" + key + ':', val);\n                    }\n                    return;\n                }\n            });\n\n            if (Object.keys($union).length === 0) {\n                return;\n            }\n\n            data = {\n                '$union': $union,\n                '$token': metrics.token,\n                '$distinct_id': distinct_id\n            };\n\n            if (typeof(modifiers) === 'function') {\n                callback = modifiers;\n            }\n\n            data = merge_modifiers(data, modifiers);\n\n            if (metrics.config.debug) {\n                console.log(\"Sending the following data to Mixpanel (Engage):\");\n                console.log(data);\n            }\n\n            metrics.send_request('/engage', data, callback);\n        },\n\n        /**\n         people.unset(distinct_id, prop, modifiers, callback)\n         ---\n         delete a property on an user record in engage\n\n         usage:\n\n            mixpanel.people.unset('bob', 'page_views');\n\n            mixpanel.people.unset('bob', ['page_views', 'last_login']);\n         */\n        unset: function(distinct_id, prop, modifiers, callback) {\n            var $unset = [];\n\n            if (util.isArray(prop)) {\n                $unset = prop;\n            } else if (typeof(prop) === 'string') {\n                $unset = [prop];\n            } else {\n                if (metrics.config.debug) {\n                    console.error(\"Invalid argument passed to mixpanel.people.unset - must be a string or array\");\n                    console.error(\"Passed: \" + prop);\n                }\n                return;\n            }\n\n            var data = {\n                '$unset': $unset,\n                '$token': metrics.token,\n                '$distinct_id': distinct_id\n            };\n\n            if (typeof(modifiers) === 'function') {\n                callback = modifiers;\n            }\n\n            data = merge_modifiers(data, modifiers);\n\n            if (metrics.config.debug) {\n                console.log(\"Sending the following data to Mixpanel (Engage):\");\n                console.log(data);\n            }\n\n            metrics.send_request('/engage', data, callback);\n        }\n    };\n\n    var merge_modifiers = function(data, modifiers) {\n        if (modifiers) {\n            if (modifiers.$ignore_alias) {\n                data.$ignore_alias = modifiers.$ignore_alias;\n            }\n            if (modifiers.$ignore_time) {\n                data.$ignore_time = modifiers.$ignore_time;\n            }\n            if (modifiers.hasOwnProperty(\"$ip\")) {\n                data.$ip = modifiers.$ip;\n            }\n            if (modifiers.hasOwnProperty(\"$time\")) {\n                data.$time = parse_time(modifiers.$time);\n            }\n        }\n        return data;\n    };\n\n    /**\n        set_config(config)\n        ---\n        Modifies the mixpanel config\n\n        config:object       an object with properties to override in the\n                            mixpanel client config\n    */\n    metrics.set_config = function(config) {\n        for (var c in config) {\n            if (config.hasOwnProperty(c)) {\n                if (c == \"host\") { // Split host, into host and port.\n                    metrics.config.host = config[c].split(':')[0];\n                    var port = config[c].split(':')[1];\n                    if (port) {\n                        metrics.config.port = Number(port);\n                    }\n                } else {\n                    metrics.config[c] = config[c];\n                }\n            }\n        }\n    };\n\n    if (config) {\n        metrics.set_config(config);\n    }\n\n    return metrics;\n};\n\n// module exporting\nmodule.exports = {\n    Client: function(token) {\n        console.warn(\"The function `Client(token)` is deprecated.  It is now called `init(token)`.\");\n        return create_client(token);\n    },\n    init: create_client\n};\n","module.exports = require(\"buffer\");","var util = require('util');\nvar os = require('os');\n\nvar packageJson = require('../../package.json');\nvar Client = require('../rollbar');\nvar _ = require('../utility');\nvar API = require('../api');\nvar logger = require('./logger');\n\nvar Transport = require('./transport');\nvar urllib = require('url');\nvar jsonBackup = require('json-stringify-safe');\n\nvar transforms = require('./transforms');\nvar sharedTransforms = require('../transforms');\nvar sharedPredicates = require('../predicates');\n\nfunction Rollbar(options, client) {\n  if (_.isType(options, 'string')) {\n    var accessToken = options;\n    options = {};\n    options.accessToken = accessToken;\n  }\n  if (options.minimumLevel !== undefined) {\n    options.reportLevel = options.minimumLevel;\n    delete options.minimumLevel;\n  }\n  this.options = _.handleOptions(Rollbar.defaultOptions, options);\n  this.options._configuredOptions = options;\n  // On the server we want to ignore any maxItems setting\n  delete this.options.maxItems;\n  this.options.environment = this.options.environment || 'unspecified';\n  logger.setVerbose(this.options.verbose);\n  this.lambdaContext = null;\n  this.lambdaTimeoutHandle = null;\n  var transport = new Transport();\n  var api = new API(this.options, transport, urllib, jsonBackup);\n  this.client = client || new Client(this.options, api, logger, 'server');\n  addTransformsToNotifier(this.client.notifier);\n  addPredicatesToQueue(this.client.queue);\n  this.setupUnhandledCapture();\n}\n\nvar _instance = null;\nRollbar.init = function(options, client) {\n  if (_instance) {\n    return _instance.global(options).configure(options);\n  }\n  _instance = new Rollbar(options, client);\n  return _instance;\n};\n\nfunction handleUninitialized(maybeCallback) {\n  var message = 'Rollbar is not initialized';\n  logger.error(message);\n  if (maybeCallback) {\n    maybeCallback(new Error(message));\n  }\n}\n\nRollbar.prototype.global = function(options) {\n  options = _.handleOptions(options);\n  // On the server we want to ignore any maxItems setting\n  delete options.maxItems;\n  this.client.global(options);\n  return this;\n};\nRollbar.global = function(options) {\n  if (_instance) {\n    return _instance.global(options);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.configure = function(options, payloadData) {\n  var oldOptions = this.options;\n  var payload = {};\n  if (payloadData) {\n    payload = {payload: payloadData};\n  }\n  this.options = _.handleOptions(oldOptions, options, payload);\n  this.options._configuredOptions = _.handleOptions(oldOptions._configuredOptions, options, payload);\n  // On the server we want to ignore any maxItems setting\n  delete this.options.maxItems;\n  logger.setVerbose(this.options.verbose);\n  this.client.configure(options, payloadData);\n  this.setupUnhandledCapture();\n  return this;\n};\nRollbar.configure = function(options, payloadData) {\n  if (_instance) {\n    return _instance.configure(options, payloadData);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.lastError = function() {\n  return this.client.lastError;\n};\nRollbar.lastError = function() {\n  if (_instance) {\n    return _instance.lastError();\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.log = function() {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.log(item);\n  return {uuid: uuid};\n};\nRollbar.log = function() {\n  if (_instance) {\n    return _instance.log.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.debug = function() {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.debug(item);\n  return {uuid: uuid};\n};\nRollbar.debug = function() {\n  if (_instance) {\n    return _instance.debug.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.info = function() {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.info(item);\n  return {uuid: uuid};\n};\nRollbar.info = function() {\n  if (_instance) {\n    return _instance.info.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.warn = function() {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.warn(item);\n  return {uuid: uuid};\n};\nRollbar.warn = function() {\n  if (_instance) {\n    return _instance.warn.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\n\nRollbar.prototype.warning = function() {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.warning(item);\n  return {uuid: uuid};\n};\nRollbar.warning = function() {\n  if (_instance) {\n    return _instance.warning.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\n\nRollbar.prototype.error = function() {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.error(item);\n  return {uuid: uuid};\n};\nRollbar.error = function() {\n  if (_instance) {\n    return _instance.error.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\nRollbar.prototype._uncaughtError = function() {\n  var item = this._createItem(arguments);\n  item._isUncaught = true;\n  var uuid = item.uuid;\n  this.client.error(item);\n  return {uuid: uuid};\n};\n\nRollbar.prototype.critical = function() {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.critical(item);\n  return {uuid: uuid};\n};\nRollbar.critical = function() {\n  if (_instance) {\n    return _instance.critical.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.buildJsonPayload = function(item) {\n  return this.client.buildJsonPayload(item);\n};\nRollbar.buildJsonPayload = function() {\n  if (_instance) {\n    return _instance.buildJsonPayload.apply(_instance, arguments);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.sendJsonPayload = function(jsonPayload) {\n  return this.client.sendJsonPayload(jsonPayload);\n};\nRollbar.sendJsonPayload = function() {\n  if (_instance) {\n    return _instance.sendJsonPayload.apply(_instance, arguments);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.wait = function(callback) {\n  this.client.wait(callback);\n};\nRollbar.wait = function(callback) {\n  if (_instance) {\n    return _instance.wait(callback)\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.errorHandler = function() {\n  return function(err, request, response, next) {\n    var cb = function(rollbarError) {\n      if (rollbarError) {\n        logger.error('Error reporting to rollbar, ignoring: ' + rollbarError);\n      }\n      return next(err, request, response);\n    };\n    if (!err) {\n      return next(err, request, response);\n    }\n\n    if (err instanceof Error) {\n      return this.error(err, request, cb);\n    }\n    return this.error('Error: ' + err, request, cb);\n  }.bind(this);\n};\nRollbar.errorHandler = function() {\n  if (_instance) {\n    return _instance.errorHandler()\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.lambdaHandler = function(handler, timeoutHandler) {\n  if (handler.length <= 2) {\n    return this.asyncLambdaHandler(handler, timeoutHandler);\n  }\n  return this.syncLambdaHandler(handler, timeoutHandler);\n};\n\nRollbar.prototype.asyncLambdaHandler = function(handler, timeoutHandler) {\n  var self = this;\n  var _timeoutHandler = function(event, context) {\n    var message = 'Function timed out';\n    var custom = {\n      originalEvent: event,\n      originalRequestId: context.awsRequestId,\n    };\n    self.error(message, custom);\n  };\n  var shouldReportTimeouts = self.options.captureLambdaTimeouts;\n  return function(event, context) {\n    return new Promise(function(resolve, reject) {\n      self.lambdaContext = context;\n      if (shouldReportTimeouts) {\n        var timeoutCb = (timeoutHandler || _timeoutHandler).bind(null, event, context);\n        self.lambdaTimeoutHandle = setTimeout(timeoutCb, context.getRemainingTimeInMillis() - 1000);\n      }\n      handler(event, context)\n        .then(function(resp) {\n          clearTimeout(self.lambdaTimeoutHandle);\n          resolve(resp);\n        })\n        .catch(function(err) {\n          self.error(err);\n          self.wait(function() {\n            clearTimeout(self.lambdaTimeoutHandle);\n            reject(err);\n          });\n        });\n    });\n  };\n};\nRollbar.prototype.syncLambdaHandler = function(handler, timeoutHandler) {\n  var self = this;\n  var _timeoutHandler = function(event, context, _cb) {\n    var message = 'Function timed out';\n    var custom = {\n      originalEvent: event,\n      originalRequestId: context.awsRequestId,\n    };\n    self.error(message, custom);\n  };\n  var shouldReportTimeouts = self.options.captureLambdaTimeouts;\n  return function(event, context, callback) {\n    self.lambdaContext = context;\n    if (shouldReportTimeouts) {\n      var timeoutCb = (timeoutHandler || _timeoutHandler).bind(null, event, context, callback);\n      self.lambdaTimeoutHandle = setTimeout(timeoutCb, context.getRemainingTimeInMillis() - 1000);\n    }\n    try {\n      handler(event, context, function(err, resp) {\n        if (err) {\n          self.error(err);\n        }\n        self.wait(function() {\n          clearTimeout(self.lambdaTimeoutHandle);\n          callback(err, resp);\n        });\n      });\n    } catch (err) {\n      self.error(err);\n      self.wait(function() {\n        clearTimeout(self.lambdaTimeoutHandle);\n        throw err;\n      });\n    }\n  };\n};\nRollbar.lambdaHandler = function(handler) {\n  if (_instance) {\n    return _instance.lambdaHandler(handler);\n  } else {\n    handleUninitialized();\n  }\n};\n\nfunction wrapCallback(r, f) {\n  return function() {\n    var err = arguments[0];\n    if (err) {\n      r.error(err);\n    }\n    return f.apply(this, arguments);\n  };\n}\n\nRollbar.prototype.wrapCallback = function(f) {\n  return wrapCallback(this, f);\n};\nRollbar.wrapCallback = function(f) {\n  if (_instance) {\n    return _instance.wrapCallback(f);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.captureEvent = function() {\n  var event = _.createTelemetryEvent(arguments);\n  return this.client.captureEvent(event.type, event.metadata, event.level);\n};\nRollbar.captureEvent = function() {\n  if (_instance) {\n    return _instance.captureEvent.apply(_instance, arguments);\n  } else {\n    handleUninitialized();\n  }\n};\n\n/** DEPRECATED **/\n\nRollbar.prototype.reportMessage = function(message, level, request, callback) {\n  logger.log('reportMessage is deprecated');\n  if (_.isFunction(this[level])) {\n    return this[level](message, request, callback);\n  } else {\n    return this.error(message, request, callback);\n  }\n};\nRollbar.reportMessage = function(message, level, request, callback) {\n  if (_instance) {\n    return _instance.reportMessage(message, level, request, callback);\n  } else {\n    handleUninitialized(callback);\n  }\n};\n\nRollbar.prototype.reportMessageWithPayloadData = function(message, payloadData, request, callback) {\n  logger.log('reportMessageWithPayloadData is deprecated');\n  return this.error(message, request, payloadData, callback);\n};\nRollbar.reportMessageWithPayloadData = function(message, payloadData, request, callback) {\n  if (_instance) {\n    return _instance.reportMessageWithPayloadData(message, payloadData, request, callback);\n  } else {\n    handleUninitialized(callback);\n  }\n};\n\n\nRollbar.prototype.handleError = function(err, request, callback) {\n  logger.log('handleError is deprecated');\n  return this.error(err, request, callback);\n};\nRollbar.handleError = function(err, request, callback) {\n  if (_instance) {\n    return _instance.handleError(err, request, callback);\n  } else {\n    handleUninitialized(callback);\n  }\n};\n\n\nRollbar.prototype.handleErrorWithPayloadData = function(err, payloadData, request, callback) {\n  logger.log('handleErrorWithPayloadData is deprecated');\n  return this.error(err, request, payloadData, callback);\n};\nRollbar.handleErrorWithPayloadData = function(err, payloadData, request, callback) {\n  if (_instance) {\n    return _instance.handleErrorWithPayloadData(err, payloadData, request, callback);\n  } else {\n    handleUninitialized(callback);\n  }\n};\n\nRollbar.handleUncaughtExceptions = function(accessToken, options) {\n  if (_instance) {\n    options = options || {};\n    options.accessToken = accessToken;\n    return _instance.configure(options);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.handleUnhandledRejections = function(accessToken, options) {\n  if (_instance) {\n    options = options || {};\n    options.accessToken = accessToken;\n    return _instance.configure(options);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.handleUncaughtExceptionsAndRejections = function(accessToken, options) {\n  if (_instance) {\n    options = options || {};\n    options.accessToken = accessToken;\n    return _instance.configure(options);\n  } else {\n    handleUninitialized();\n  }\n};\n\n/** Internal **/\n\nfunction addTransformsToNotifier(notifier) {\n  notifier\n    .addTransform(transforms.baseData)\n    .addTransform(transforms.handleItemWithError)\n    .addTransform(transforms.addBody)\n    .addTransform(sharedTransforms.addMessageWithError)\n    .addTransform(sharedTransforms.addTelemetryData)\n    .addTransform(transforms.addRequestData)\n    .addTransform(transforms.addLambdaData)\n    .addTransform(sharedTransforms.addConfigToPayload)\n    .addTransform(transforms.scrubPayload)\n    .addTransform(sharedTransforms.userTransform(logger))\n    .addTransform(sharedTransforms.addConfiguredOptions)\n    .addTransform(sharedTransforms.addDiagnosticKeys)\n    .addTransform(sharedTransforms.itemToPayload);\n}\n\nfunction addPredicatesToQueue(queue) {\n  queue\n    .addPredicate(sharedPredicates.checkLevel)\n    .addPredicate(sharedPredicates.userCheckIgnore(logger))\n    .addPredicate(sharedPredicates.urlIsNotBlacklisted(logger))\n    .addPredicate(sharedPredicates.urlIsWhitelisted(logger))\n    .addPredicate(sharedPredicates.messageIsIgnored(logger));\n}\n\nRollbar.prototype._createItem = function(args) {\n  var requestKeys = ['headers', 'protocol', 'url', 'method', 'body', 'route'];\n  return _.createItem(args, logger, this, requestKeys, this.lambdaContext);\n};\n\nfunction _getFirstFunction(args) {\n  for (var i = 0, len = args.length; i < len; ++i) {\n    if (_.isFunction(args[i])) {\n      return args[i];\n    }\n  }\n  return undefined;\n}\n\nRollbar.prototype.setupUnhandledCapture = function() {\n  if (this.options.captureUncaught || this.options.handleUncaughtExceptions) {\n    this.handleUncaughtExceptions();\n  }\n  if (this.options.captureUnhandledRejections || this.options.handleUnhandledRejections) {\n    this.handleUnhandledRejections();\n  }\n};\n\nRollbar.prototype.handleUncaughtExceptions = function() {\n  var exitOnUncaught = !!this.options.exitOnUncaughtException;\n  delete this.options.exitOnUncaughtException;\n\n  addOrReplaceRollbarHandler('uncaughtException', function(err) {\n    if (!this.options.captureUncaught && !this.options.handleUncaughtExceptions) {\n      return;\n    }\n\n    this._uncaughtError(err, function(err) {\n      if (err) {\n        logger.error('Encountered error while handling an uncaught exception.');\n        logger.error(err);\n      }\n    });\n    if (exitOnUncaught) {\n      setImmediate(function() {\n        this.wait(function() {\n          process.exit(1);\n        });\n      }.bind(this));\n    }\n  }.bind(this));\n};\n\nRollbar.prototype.handleUnhandledRejections = function() {\n  addOrReplaceRollbarHandler('unhandledRejection', function(reason) {\n    if (!this.options.captureUnhandledRejections && !this.options.handleUnhandledRejections) {\n      return;\n    }\n\n    this._uncaughtError(reason, function(err) {\n      if (err) {\n        logger.error('Encountered error while handling an uncaught exception.');\n        logger.error(err);\n      }\n    });\n  }.bind(this));\n};\n\nfunction addOrReplaceRollbarHandler(event, action) {\n  // We only support up to two arguments which is enough for how this is used\n  // rather than dealing with `arguments` and `apply`\n  var fn = function(a, b) {\n    action(a, b);\n  };\n  fn._rollbarHandler = true;\n\n  var listeners = process.listeners(event);\n  var len = listeners.length;\n  for (var i = 0; i < len; ++i) {\n    if (listeners[i]._rollbarHandler) {\n      process.removeListener(event, listeners[i]);\n    }\n  }\n  process.on(event, fn);\n}\n\nfunction RollbarError(message, nested) {\n  Error.call(this);\n  Error.captureStackTrace(this, this.constructor);\n\n  this.message = message;\n  this.nested = nested;\n  this.name = this.constructor.name;\n}\nutil.inherits(RollbarError, Error);\nRollbar.Error = RollbarError;\n\nRollbar.defaultOptions = {\n  host: os.hostname(),\n  environment: process.env.NODE_ENV || 'development',\n  framework: 'node-js',\n  showReportedMessageTraces: false,\n  notifier: {\n    name: 'node_rollbar',\n    version: packageJson.version\n  },\n  scrubHeaders: packageJson.defaults.server.scrubHeaders,\n  scrubFields: packageJson.defaults.server.scrubFields,\n  addRequestData: null,\n  reportLevel: packageJson.defaults.reportLevel,\n  verbose: false,\n  enabled: true,\n  transmit: true,\n  sendConfig: false,\n  includeItemsInTelemetry: false,\n  captureEmail: false,\n  captureUsername: false,\n  captureIp: true,\n  captureLambdaTimeouts: true,\n  ignoreDuplicateErrors: true,\n  scrubRequestBody: true\n};\n\nmodule.exports = Rollbar;\n","var RateLimiter = require('./rateLimiter');\nvar Queue = require('./queue');\nvar Notifier = require('./notifier');\nvar Telemeter = require('./telemetry');\nvar _ = require('./utility');\n\n/*\n * Rollbar - the interface to Rollbar\n *\n * @param options\n * @param api\n * @param logger\n */\nfunction Rollbar(options, api, logger, platform) {\n  this.options = _.merge(options);\n  this.logger = logger;\n  Rollbar.rateLimiter.configureGlobal(this.options);\n  Rollbar.rateLimiter.setPlatformOptions(platform, this.options);\n  this.api = api;\n  this.queue = new Queue(Rollbar.rateLimiter, api, logger, this.options);\n  this.notifier = new Notifier(this.queue, this.options);\n  this.telemeter = new Telemeter(this.options);\n  setStackTraceLimit(options);\n  this.lastError = null;\n  this.lastErrorHash = 'none';\n}\n\nvar defaultOptions = {\n  maxItems: 0,\n  itemsPerMinute: 60\n};\n\nRollbar.rateLimiter = new RateLimiter(defaultOptions);\n\nRollbar.prototype.global = function(options) {\n  Rollbar.rateLimiter.configureGlobal(options);\n  return this;\n};\n\nRollbar.prototype.configure = function(options, payloadData) {\n  var oldOptions = this.options;\n  var payload = {};\n  if (payloadData) {\n    payload = {payload: payloadData};\n  }\n  this.options = _.merge(oldOptions, options, payload);\n  this.notifier && this.notifier.configure(this.options);\n  this.telemeter && this.telemeter.configure(this.options);\n  setStackTraceLimit(options);\n  this.global(this.options);\n  return this;\n};\n\nRollbar.prototype.log = function(item) {\n  var level = this._defaultLogLevel();\n  return this._log(level, item);\n};\n\nRollbar.prototype.debug = function(item) {\n  this._log('debug', item);\n};\n\nRollbar.prototype.info = function(item) {\n  this._log('info', item);\n};\n\nRollbar.prototype.warn = function(item) {\n  this._log('warning', item);\n};\n\nRollbar.prototype.warning = function(item) {\n  this._log('warning', item);\n};\n\nRollbar.prototype.error = function(item) {\n  this._log('error', item);\n};\n\nRollbar.prototype.critical = function(item) {\n  this._log('critical', item);\n};\n\nRollbar.prototype.wait = function(callback) {\n  this.queue.wait(callback);\n};\n\nRollbar.prototype.captureEvent = function(type, metadata, level) {\n  return this.telemeter.captureEvent(type, metadata, level);\n};\n\nRollbar.prototype.captureDomContentLoaded = function(ts) {\n  return this.telemeter.captureDomContentLoaded(ts);\n};\n\nRollbar.prototype.captureLoad = function(ts) {\n  return this.telemeter.captureLoad(ts);\n};\n\nRollbar.prototype.buildJsonPayload = function(item) {\n  return this.api.buildJsonPayload(item);\n};\n\nRollbar.prototype.sendJsonPayload = function(jsonPayload) {\n  this.api.postJsonPayload(jsonPayload);\n};\n\n/* Internal */\n\nRollbar.prototype._log = function(defaultLevel, item) {\n  var callback;\n  if (item.callback) {\n    callback = item.callback;\n    delete item.callback;\n  }\n  if (this.options.ignoreDuplicateErrors && this._sameAsLastError(item)) {\n    if (callback) {\n      var error = new Error('ignored identical item');\n      error.item = item;\n      callback(error);\n    }\n    return;\n  }\n  try {\n    item.level = item.level || defaultLevel;\n    this.telemeter._captureRollbarItem(item);\n    item.telemetryEvents = this.telemeter.copyEvents();\n    this.notifier.log(item, callback);\n  } catch (e) {\n    this.logger.error(e);\n  }\n};\n\nRollbar.prototype._defaultLogLevel = function() {\n  return this.options.logLevel || 'debug';\n};\n\nRollbar.prototype._sameAsLastError = function(item) {\n  if (!item._isUncaught) {\n    return false;\n  }\n  var itemHash = generateItemHash(item);\n  if (this.lastErrorHash === itemHash) {\n    return true;\n  }\n  this.lastError = item.err;\n  this.lastErrorHash = itemHash;\n  return false;\n};\n\nfunction generateItemHash(item) {\n  var message = item.message || '';\n  var stack = (item.err || {}).stack || String(item.err);\n  return message + '::' + stack;\n}\n\n// Node.js, Chrome, Safari, and some other browsers support this property\n// which globally sets the number of stack frames returned in an Error object.\n// If a browser can't use it, no harm done.\nfunction setStackTraceLimit(options) {\n  if (options.stackTraceLimit) {\n    Error.stackTraceLimit = options.stackTraceLimit;\n  }\n}\n\nmodule.exports = Rollbar;\n","var _ = require('./utility');\n\n/*\n * RateLimiter - an object that encapsulates the logic for counting items sent to Rollbar\n *\n * @param options - the same options that are accepted by configureGlobal offered as a convenience\n */\nfunction RateLimiter(options) {\n  this.startTime = _.now();\n  this.counter = 0;\n  this.perMinCounter = 0;\n  this.platform = null;\n  this.platformOptions = {};\n  this.configureGlobal(options);\n}\n\nRateLimiter.globalSettings = {\n  startTime: _.now(),\n  maxItems: undefined,\n  itemsPerMinute: undefined\n};\n\n/*\n * configureGlobal - set the global rate limiter options\n *\n * @param options - Only the following values are recognized:\n *    startTime: a timestamp of the form returned by (new Date()).getTime()\n *    maxItems: the maximum items\n *    itemsPerMinute: the max number of items to send in a given minute\n */\nRateLimiter.prototype.configureGlobal = function(options) {\n  if (options.startTime !== undefined) {\n    RateLimiter.globalSettings.startTime = options.startTime;\n  }\n  if (options.maxItems !== undefined) {\n    RateLimiter.globalSettings.maxItems = options.maxItems;\n  }\n  if (options.itemsPerMinute !== undefined) {\n    RateLimiter.globalSettings.itemsPerMinute = options.itemsPerMinute;\n  }\n};\n\n/*\n * shouldSend - determine if we should send a given item based on rate limit settings\n *\n * @param item - the item we are about to send\n * @returns An object with the following structure:\n *  error: (Error|null)\n *  shouldSend: bool\n *  payload: (Object|null)\n *  If shouldSend is false, the item passed as a parameter should not be sent to Rollbar, and\n *  exactly one of error or payload will be non-null. If error is non-null, the returned Error will\n *  describe the situation, but it means that we were already over a rate limit (either globally or\n *  per minute) when this item was checked. If error is null, and therefore payload is non-null, it\n *  means this item put us over the global rate limit and the payload should be sent to Rollbar in\n *  place of the passed in item.\n */\nRateLimiter.prototype.shouldSend = function(item, now) {\n  now = now || _.now();\n  var elapsedTime = now - this.startTime;\n  if (elapsedTime < 0 || elapsedTime >= 60000) {\n    this.startTime = now;\n    this.perMinCounter = 0;\n  }\n\n  var globalRateLimit = RateLimiter.globalSettings.maxItems;\n  var globalRateLimitPerMin = RateLimiter.globalSettings.itemsPerMinute;\n\n  if (checkRate(item, globalRateLimit, this.counter)) {\n    return shouldSendValue(this.platform, this.platformOptions, globalRateLimit + ' max items reached', false);\n  } else if (checkRate(item, globalRateLimitPerMin, this.perMinCounter)) {\n    return shouldSendValue(this.platform, this.platformOptions, globalRateLimitPerMin + ' items per minute reached', false);\n  }\n  this.counter++;\n  this.perMinCounter++;\n\n  var shouldSend = !checkRate(item, globalRateLimit, this.counter);\n  var perMinute = shouldSend;\n  shouldSend = shouldSend && !checkRate(item, globalRateLimitPerMin, this.perMinCounter);\n  return shouldSendValue(this.platform, this.platformOptions, null, shouldSend, globalRateLimit, globalRateLimitPerMin, perMinute);\n};\n\nRateLimiter.prototype.setPlatformOptions = function(platform, options) {\n  this.platform = platform;\n  this.platformOptions = options;\n};\n\n/* Helpers */\n\nfunction checkRate(item, limit, counter) {\n  return !item.ignoreRateLimit && limit >= 1 && counter > limit;\n}\n\nfunction shouldSendValue(platform, options, error, shouldSend, globalRateLimit, limitPerMin, perMinute) {\n  var payload = null;\n  if (error) {\n    error = new Error(error);\n  }\n  if (!error && !shouldSend) {\n    payload = rateLimitPayload(platform, options, globalRateLimit, limitPerMin, perMinute);\n  }\n  return {error: error, shouldSend: shouldSend, payload: payload};\n}\n\nfunction rateLimitPayload(platform, options, globalRateLimit, limitPerMin, perMinute) {\n  var environment = options.environment || (options.payload && options.payload.environment);\n  var msg;\n  if (perMinute) {\n    msg = 'item per minute limit reached, ignoring errors until timeout';\n  } else {\n    msg = 'maxItems has been hit, ignoring errors until reset.';\n  }\n  var item = {\n    body: {\n      message: {\n        body: msg,\n        extra: {\n          maxItems: globalRateLimit,\n          itemsPerMinute: limitPerMin\n        }\n      }\n    },\n    language: 'javascript',\n    environment: environment,\n    notifier: {\n      version: (options.notifier && options.notifier.version) || options.version\n    }\n  };\n  if (platform === 'browser') {\n    item.platform = 'browser';\n    item.framework = 'browser-js';\n    item.notifier.name = 'rollbar-browser-js';\n  } else if (platform === 'server') {\n    item.framework = options.framework || 'node-js';\n    item.notifier.name = options.notifier.name;\n  } else if (platform === 'react-native') {\n    item.framework = options.framework || 'react-native';\n    item.notifier.name = options.notifier.name;\n  }\n  return item;\n}\n\nmodule.exports = RateLimiter;\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {/**/}\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nfunction merge() {\n  var i, src, copy, clone, name,\n      result = {},\n     current = null,\n      length = arguments.length;\n\n  for (i=0; i < length; i++) {\n    current = arguments[i];\n    if (current == null) {\n      continue;\n    }\n\n    for (name in current) {\n      src = result[name];\n      copy = current[name];\n      if (result !== copy) {\n        if (copy && isPlainObject(copy)) {\n          clone = src && isPlainObject(src) ? src : {};\n          result[name] = merge(clone, copy);\n        } else if (typeof copy !== 'undefined') {\n          result[name] = copy;\n        }\n      }\n    }\n  }\n  return result;\n}\n\nmodule.exports = merge;\n","//  json3.js\n//  2017-02-21\n//  Public Domain.\n//  NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n//  See http://www.JSON.org/js.html\n//  This code should be minified before deployment.\n//  See http://javascript.crockford.com/jsmin.html\n\n//  USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO\n//  NOT CONTROL.\n\n//  This file creates a global JSON object containing two methods: stringify\n//  and parse. This file provides the ES5 JSON capability to ES3 systems.\n//  If a project might run on IE8 or earlier, then this file should be included.\n//  This file does nothing on ES5 systems.\n\n//      JSON.stringify(value, replacer, space)\n//          value       any JavaScript value, usually an object or array.\n//          replacer    an optional parameter that determines how object\n//                      values are stringified for objects. It can be a\n//                      function or an array of strings.\n//          space       an optional parameter that specifies the indentation\n//                      of nested structures. If it is omitted, the text will\n//                      be packed without extra whitespace. If it is a number,\n//                      it will specify the number of spaces to indent at each\n//                      level. If it is a string (such as \"\\t\" or \"&nbsp;\"),\n//                      it contains the characters used to indent at each level.\n//          This method produces a JSON text from a JavaScript value.\n//          When an object value is found, if the object contains a toJSON\n//          method, its toJSON method will be called and the result will be\n//          stringified. A toJSON method does not serialize: it returns the\n//          value represented by the name/value pair that should be serialized,\n//          or undefined if nothing should be serialized. The toJSON method\n//          will be passed the key associated with the value, and this will be\n//          bound to the value.\n\n//          For example, this would serialize Dates as ISO strings.\n\n//              Date.prototype.toJSON = function (key) {\n//                  function f(n) {\n//                      // Format integers to have at least two digits.\n//                      return (n < 10)\n//                          ? \"0\" + n\n//                          : n;\n//                  }\n//                  return this.getUTCFullYear()   + \"-\" +\n//                       f(this.getUTCMonth() + 1) + \"-\" +\n//                       f(this.getUTCDate())      + \"T\" +\n//                       f(this.getUTCHours())     + \":\" +\n//                       f(this.getUTCMinutes())   + \":\" +\n//                       f(this.getUTCSeconds())   + \"Z\";\n//              };\n\n//          You can provide an optional replacer method. It will be passed the\n//          key and value of each member, with this bound to the containing\n//          object. The value that is returned from your method will be\n//          serialized. If your method returns undefined, then the member will\n//          be excluded from the serialization.\n\n//          If the replacer parameter is an array of strings, then it will be\n//          used to select the members to be serialized. It filters the results\n//          such that only members with keys listed in the replacer array are\n//          stringified.\n\n//          Values that do not have JSON representations, such as undefined or\n//          functions, will not be serialized. Such values in objects will be\n//          dropped; in arrays they will be replaced with null. You can use\n//          a replacer function to replace those with JSON values.\n\n//          JSON.stringify(undefined) returns undefined.\n\n//          The optional space parameter produces a stringification of the\n//          value that is filled with line breaks and indentation to make it\n//          easier to read.\n\n//          If the space parameter is a non-empty string, then that string will\n//          be used for indentation. If the space parameter is a number, then\n//          the indentation will be that many spaces.\n\n//          Example:\n\n//          text = JSON.stringify([\"e\", {pluribus: \"unum\"}]);\n//          // text is '[\"e\",{\"pluribus\":\"unum\"}]'\n\n//          text = JSON.stringify([\"e\", {pluribus: \"unum\"}], null, \"\\t\");\n//          // text is '[\\n\\t\"e\",\\n\\t{\\n\\t\\t\"pluribus\": \"unum\"\\n\\t}\\n]'\n\n//          text = JSON.stringify([new Date()], function (key, value) {\n//              return this[key] instanceof Date\n//                  ? \"Date(\" + this[key] + \")\"\n//                  : value;\n//          });\n//          // text is '[\"Date(---current time---)\"]'\n\n//      JSON.parse(text, reviver)\n//          This method parses a JSON text to produce an object or array.\n//          It can throw a SyntaxError exception.\n//          This has been modified to use JSON-js/json_parse_state.js as the\n//          parser instead of the one built around eval found in JSON-js/json2.js\n\n//          The optional reviver parameter is a function that can filter and\n//          transform the results. It receives each of the keys and values,\n//          and its return value is used instead of the original value.\n//          If it returns what it received, then the structure is not modified.\n//          If it returns undefined then the member is deleted.\n\n//          Example:\n\n//          // Parse the text. Values that look like ISO date strings will\n//          // be converted to Date objects.\n\n//          myData = JSON.parse(text, function (key, value) {\n//              var a;\n//              if (typeof value === \"string\") {\n//                  a =\n//   /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/.exec(value);\n//                  if (a) {\n//                      return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],\n//                          +a[5], +a[6]));\n//                  }\n//              }\n//              return value;\n//          });\n\n//          myData = JSON.parse('[\"Date(09/09/2001)\"]', function (key, value) {\n//              var d;\n//              if (typeof value === \"string\" &&\n//                      value.slice(0, 5) === \"Date(\" &&\n//                      value.slice(-1) === \")\") {\n//                  d = new Date(value.slice(5, -1));\n//                  if (d) {\n//                      return d;\n//                  }\n//              }\n//              return value;\n//          });\n\n//  This is a reference implementation. You are free to copy, modify, or\n//  redistribute.\n\n/*jslint\n  for, this\n  */\n\n/*property\n  JSON, apply, call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,\n  getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,\n  lastIndex, length, parse, prototype, push, replace, slice, stringify,\n  test, toJSON, toString, valueOf\n  */\n\nvar setupCustomJSON = function(JSON) {\n\n  var rx_one = /^[\\],:{}\\s]*$/;\n  var rx_two = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\n  var rx_three = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\n  var rx_four = /(?:^|:|,)(?:\\s*\\[)+/g;\n  var rx_escapable = /[\\\\\"\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n  var rx_dangerous = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\n  function f(n) {\n    // Format integers to have at least two digits.\n    return n < 10\n      ? \"0\" + n\n      : n;\n  }\n\n  function this_value() {\n    return this.valueOf();\n  }\n\n  if (typeof Date.prototype.toJSON !== \"function\") {\n\n    Date.prototype.toJSON = function () {\n\n      return isFinite(this.valueOf())\n        ? this.getUTCFullYear() + \"-\" +\n        f(this.getUTCMonth() + 1) + \"-\" +\n        f(this.getUTCDate()) + \"T\" +\n        f(this.getUTCHours()) + \":\" +\n        f(this.getUTCMinutes()) + \":\" +\n        f(this.getUTCSeconds()) + \"Z\"\n        : null;\n    };\n\n    Boolean.prototype.toJSON = this_value;\n    Number.prototype.toJSON = this_value;\n    String.prototype.toJSON = this_value;\n  }\n\n  var gap;\n  var indent;\n  var meta;\n  var rep;\n\n\n  function quote(string) {\n\n    // If the string contains no control characters, no quote characters, and no\n    // backslash characters, then we can safely slap some quotes around it.\n    // Otherwise we must also replace the offending characters with safe escape\n    // sequences.\n\n    rx_escapable.lastIndex = 0;\n    return rx_escapable.test(string)\n      ? \"\\\"\" + string.replace(rx_escapable, function (a) {\n        var c = meta[a];\n        return typeof c === \"string\"\n          ? c\n          : \"\\\\u\" + (\"0000\" + a.charCodeAt(0).toString(16)).slice(-4);\n      }) + \"\\\"\"\n    : \"\\\"\" + string + \"\\\"\";\n  }\n\n\n  function str(key, holder) {\n\n    // Produce a string from holder[key].\n\n    var i;          // The loop counter.\n    var k;          // The member key.\n    var v;          // The member value.\n    var length;\n    var mind = gap;\n    var partial;\n    var value = holder[key];\n\n    // If the value has a toJSON method, call it to obtain a replacement value.\n\n    if (value && typeof value === \"object\" &&\n        typeof value.toJSON === \"function\") {\n      value = value.toJSON(key);\n    }\n\n    // If we were called with a replacer function, then call the replacer to\n    // obtain a replacement value.\n\n    if (typeof rep === \"function\") {\n      value = rep.call(holder, key, value);\n    }\n\n    // What happens next depends on the value's type.\n\n    switch (typeof value) {\n      case \"string\":\n        return quote(value);\n\n      case \"number\":\n\n        // JSON numbers must be finite. Encode non-finite numbers as null.\n\n        return isFinite(value)\n          ? String(value)\n          : \"null\";\n\n      case \"boolean\":\n      case \"null\":\n\n        // If the value is a boolean or null, convert it to a string. Note:\n        // typeof null does not produce \"null\". The case is included here in\n        // the remote chance that this gets fixed someday.\n\n        return String(value);\n\n        // If the type is \"object\", we might be dealing with an object or an array or\n        // null.\n\n      case \"object\":\n\n        // Due to a specification blunder in ECMAScript, typeof null is \"object\",\n        // so watch out for that case.\n\n        if (!value) {\n          return \"null\";\n        }\n\n        // Make an array to hold the partial results of stringifying this object value.\n\n        gap += indent;\n        partial = [];\n\n        // Is the value an array?\n\n        if (Object.prototype.toString.apply(value) === \"[object Array]\") {\n\n          // The value is an array. Stringify every element. Use null as a placeholder\n          // for non-JSON values.\n\n          length = value.length;\n          for (i = 0; i < length; i += 1) {\n            partial[i] = str(i, value) || \"null\";\n          }\n\n          // Join all of the elements together, separated with commas, and wrap them in\n          // brackets.\n\n          v = partial.length === 0\n            ? \"[]\"\n            : gap\n            ? \"[\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"]\"\n            : \"[\" + partial.join(\",\") + \"]\";\n          gap = mind;\n          return v;\n        }\n\n        // If the replacer is an array, use it to select the members to be stringified.\n\n        if (rep && typeof rep === \"object\") {\n          length = rep.length;\n          for (i = 0; i < length; i += 1) {\n            if (typeof rep[i] === \"string\") {\n              k = rep[i];\n              v = str(k, value);\n              if (v) {\n                partial.push(quote(k) + (\n                      gap\n                      ? \": \"\n                      : \":\"\n                      ) + v);\n              }\n            }\n          }\n        } else {\n\n          // Otherwise, iterate through all of the keys in the object.\n\n          for (k in value) {\n            if (Object.prototype.hasOwnProperty.call(value, k)) {\n              v = str(k, value);\n              if (v) {\n                partial.push(quote(k) + (\n                      gap\n                      ? \": \"\n                      : \":\"\n                      ) + v);\n              }\n            }\n          }\n        }\n\n        // Join all of the member texts together, separated with commas,\n        // and wrap them in braces.\n\n        v = partial.length === 0\n          ? \"{}\"\n          : gap\n          ? \"{\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"}\"\n          : \"{\" + partial.join(\",\") + \"}\";\n        gap = mind;\n        return v;\n    }\n  }\n\n  // If the JSON object does not yet have a stringify method, give it one.\n\n  if (typeof JSON.stringify !== \"function\") {\n    meta = {    // table of character substitutions\n      \"\\b\": \"\\\\b\",\n      \"\\t\": \"\\\\t\",\n      \"\\n\": \"\\\\n\",\n      \"\\f\": \"\\\\f\",\n      \"\\r\": \"\\\\r\",\n      \"\\\"\": \"\\\\\\\"\",\n      \"\\\\\": \"\\\\\\\\\"\n    };\n    JSON.stringify = function (value, replacer, space) {\n\n      // The stringify method takes a value and an optional replacer, and an optional\n      // space parameter, and returns a JSON text. The replacer can be a function\n      // that can replace values, or an array of strings that will select the keys.\n      // A default replacer method can be provided. Use of the space parameter can\n      // produce text that is more easily readable.\n\n      var i;\n      gap = \"\";\n      indent = \"\";\n\n      // If the space parameter is a number, make an indent string containing that\n      // many spaces.\n\n      if (typeof space === \"number\") {\n        for (i = 0; i < space; i += 1) {\n          indent += \" \";\n        }\n\n        // If the space parameter is a string, it will be used as the indent string.\n\n      } else if (typeof space === \"string\") {\n        indent = space;\n      }\n\n      // If there is a replacer, it must be a function or an array.\n      // Otherwise, throw an error.\n\n      rep = replacer;\n      if (replacer && typeof replacer !== \"function\" &&\n          (typeof replacer !== \"object\" ||\n           typeof replacer.length !== \"number\")) {\n        throw new Error(\"JSON.stringify\");\n      }\n\n      // Make a fake root object containing our value under the key of \"\".\n      // Return the result of stringifying the value.\n\n      return str(\"\", {\"\": value});\n    };\n  }\n\n\n  // If the JSON object does not yet have a parse method, give it one.\n\n  if (typeof JSON.parse !== \"function\") {\n    JSON.parse = (function () {\n\n      // This function creates a JSON parse function that uses a state machine rather\n      // than the dangerous eval function to parse a JSON text.\n\n      var state;      // The state of the parser, one of\n      // 'go'         The starting state\n      // 'ok'         The final, accepting state\n      // 'firstokey'  Ready for the first key of the object or\n      //              the closing of an empty object\n      // 'okey'       Ready for the next key of the object\n      // 'colon'      Ready for the colon\n      // 'ovalue'     Ready for the value half of a key/value pair\n      // 'ocomma'     Ready for a comma or closing }\n      // 'firstavalue' Ready for the first value of an array or\n      //              an empty array\n      // 'avalue'     Ready for the next value of an array\n      // 'acomma'     Ready for a comma or closing ]\n      var stack;      // The stack, for controlling nesting.\n      var container;  // The current container object or array\n      var key;        // The current key\n      var value;      // The current value\n      var escapes = { // Escapement translation table\n        \"\\\\\": \"\\\\\",\n        \"\\\"\": \"\\\"\",\n        \"/\": \"/\",\n        \"t\": \"\\t\",\n        \"n\": \"\\n\",\n        \"r\": \"\\r\",\n        \"f\": \"\\f\",\n        \"b\": \"\\b\"\n      };\n      var string = {   // The actions for string tokens\n        go: function () {\n          state = \"ok\";\n        },\n        firstokey: function () {\n          key = value;\n          state = \"colon\";\n        },\n        okey: function () {\n          key = value;\n          state = \"colon\";\n        },\n        ovalue: function () {\n          state = \"ocomma\";\n        },\n        firstavalue: function () {\n          state = \"acomma\";\n        },\n        avalue: function () {\n          state = \"acomma\";\n        }\n      };\n      var number = {   // The actions for number tokens\n        go: function () {\n          state = \"ok\";\n        },\n        ovalue: function () {\n          state = \"ocomma\";\n        },\n        firstavalue: function () {\n          state = \"acomma\";\n        },\n        avalue: function () {\n          state = \"acomma\";\n        }\n      };\n      var action = {\n\n        // The action table describes the behavior of the machine. It contains an\n        // object for each token. Each object contains a method that is called when\n        // a token is matched in a state. An object will lack a method for illegal\n        // states.\n\n        \"{\": {\n          go: function () {\n            stack.push({state: \"ok\"});\n            container = {};\n            state = \"firstokey\";\n          },\n          ovalue: function () {\n            stack.push({container: container, state: \"ocomma\", key: key});\n            container = {};\n            state = \"firstokey\";\n          },\n          firstavalue: function () {\n            stack.push({container: container, state: \"acomma\"});\n            container = {};\n            state = \"firstokey\";\n          },\n          avalue: function () {\n            stack.push({container: container, state: \"acomma\"});\n            container = {};\n            state = \"firstokey\";\n          }\n        },\n        \"}\": {\n          firstokey: function () {\n            var pop = stack.pop();\n            value = container;\n            container = pop.container;\n            key = pop.key;\n            state = pop.state;\n          },\n          ocomma: function () {\n            var pop = stack.pop();\n            container[key] = value;\n            value = container;\n            container = pop.container;\n            key = pop.key;\n            state = pop.state;\n          }\n        },\n        \"[\": {\n          go: function () {\n            stack.push({state: \"ok\"});\n            container = [];\n            state = \"firstavalue\";\n          },\n          ovalue: function () {\n            stack.push({container: container, state: \"ocomma\", key: key});\n            container = [];\n            state = \"firstavalue\";\n          },\n          firstavalue: function () {\n            stack.push({container: container, state: \"acomma\"});\n            container = [];\n            state = \"firstavalue\";\n          },\n          avalue: function () {\n            stack.push({container: container, state: \"acomma\"});\n            container = [];\n            state = \"firstavalue\";\n          }\n        },\n        \"]\": {\n          firstavalue: function () {\n            var pop = stack.pop();\n            value = container;\n            container = pop.container;\n            key = pop.key;\n            state = pop.state;\n          },\n          acomma: function () {\n            var pop = stack.pop();\n            container.push(value);\n            value = container;\n            container = pop.container;\n            key = pop.key;\n            state = pop.state;\n          }\n        },\n        \":\": {\n          colon: function () {\n            if (Object.hasOwnProperty.call(container, key)) {\n              throw new SyntaxError(\"Duplicate key '\" + key + \"\\\"\");\n            }\n            state = \"ovalue\";\n          }\n        },\n        \",\": {\n          ocomma: function () {\n            container[key] = value;\n            state = \"okey\";\n          },\n          acomma: function () {\n            container.push(value);\n            state = \"avalue\";\n          }\n        },\n        \"true\": {\n          go: function () {\n            value = true;\n            state = \"ok\";\n          },\n          ovalue: function () {\n            value = true;\n            state = \"ocomma\";\n          },\n          firstavalue: function () {\n            value = true;\n            state = \"acomma\";\n          },\n          avalue: function () {\n            value = true;\n            state = \"acomma\";\n          }\n        },\n        \"false\": {\n          go: function () {\n            value = false;\n            state = \"ok\";\n          },\n          ovalue: function () {\n            value = false;\n            state = \"ocomma\";\n          },\n          firstavalue: function () {\n            value = false;\n            state = \"acomma\";\n          },\n          avalue: function () {\n            value = false;\n            state = \"acomma\";\n          }\n        },\n        \"null\": {\n          go: function () {\n            value = null;\n            state = \"ok\";\n          },\n          ovalue: function () {\n            value = null;\n            state = \"ocomma\";\n          },\n          firstavalue: function () {\n            value = null;\n            state = \"acomma\";\n          },\n          avalue: function () {\n            value = null;\n            state = \"acomma\";\n          }\n        }\n      };\n\n      function debackslashify(text) {\n\n        // Remove and replace any backslash escapement.\n\n        return text.replace(/\\\\(?:u(.{4})|([^u]))/g, function (ignore, b, c) {\n          return b\n            ? String.fromCharCode(parseInt(b, 16))\n            : escapes[c];\n        });\n      }\n\n      return function (source, reviver) {\n\n        // A regular expression is used to extract tokens from the JSON text.\n        // The extraction process is cautious.\n\n        var result;\n        var tx = /^[\\u0020\\t\\n\\r]*(?:([,:\\[\\]{}]|true|false|null)|(-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)|\"((?:[^\\r\\n\\t\\\\\\\"]|\\\\(?:[\"\\\\\\/trnfb]|u[0-9a-fA-F]{4}))*)\")/;\n\n        // Set the starting state.\n\n        state = \"go\";\n\n        // The stack records the container, key, and state for each object or array\n        // that contains another object or array while processing nested structures.\n\n        stack = [];\n\n        // If any error occurs, we will catch it and ultimately throw a syntax error.\n\n        try {\n\n          // For each token...\n\n          while (true) {\n            result = tx.exec(source);\n            if (!result) {\n              break;\n            }\n\n            // result is the result array from matching the tokenizing regular expression.\n            //  result[0] contains everything that matched, including any initial whitespace.\n            //  result[1] contains any punctuation that was matched, or true, false, or null.\n            //  result[2] contains a matched number, still in string form.\n            //  result[3] contains a matched string, without quotes but with escapement.\n\n            if (result[1]) {\n\n              // Token: Execute the action for this state and token.\n\n              action[result[1]][state]();\n\n            } else if (result[2]) {\n\n              // Number token: Convert the number string into a number value and execute\n              // the action for this state and number.\n\n              value = +result[2];\n              number[state]();\n            } else {\n\n              // String token: Replace the escapement sequences and execute the action for\n              // this state and string.\n\n              value = debackslashify(result[3]);\n              string[state]();\n            }\n\n            // Remove the token from the string. The loop will continue as long as there\n            // are tokens. This is a slow process, but it allows the use of ^ matching,\n            // which assures that no illegal tokens slip through.\n\n            source = source.slice(result[0].length);\n          }\n\n          // If we find a state/token combination that is illegal, then the action will\n          // cause an error. We handle the error by simply changing the state.\n\n        } catch (e) {\n          state = e;\n        }\n\n        // The parsing is finished. If we are not in the final \"ok\" state, or if the\n        // remaining source contains anything except whitespace, then we did not have\n        //a well-formed JSON text.\n\n        if (state !== \"ok\" || (/[^\\u0020\\t\\n\\r]/.test(source))) {\n          throw (state instanceof SyntaxError)\n            ? state\n            : new SyntaxError(\"JSON\");\n        }\n\n        // If there is a reviver function, we recursively walk the new structure,\n        // passing each name/value pair to the reviver function for possible\n        // transformation, starting with a temporary root object that holds the current\n        // value in an empty key. If there is not a reviver function, we simply return\n        // that value.\n\n        return (typeof reviver === \"function\")\n          ? (function walk(holder, key) {\n            var k;\n            var v;\n            var val = holder[key];\n            if (val && typeof val === \"object\") {\n              for (k in value) {\n                if (Object.prototype.hasOwnProperty.call(val, k)) {\n                  v = walk(val, k);\n                  if (v !== undefined) {\n                    val[k] = v;\n                  } else {\n                    delete val[k];\n                  }\n                }\n              }\n            }\n            return reviver.call(holder, key, val);\n          }({\"\": value}, \"\"))\n        : value;\n      };\n    }());\n  }\n}\n\nmodule.exports = setupCustomJSON;\n","var _ = require('./utility');\n\n/*\n * Queue - an object which handles which handles a queue of items to be sent to Rollbar.\n *   This object handles rate limiting via a passed in rate limiter, retries based on connection\n *   errors, and filtering of items based on a set of configurable predicates. The communication to\n *   the backend is performed via a given API object.\n *\n * @param rateLimiter - An object which conforms to the interface\n *    rateLimiter.shouldSend(item) -> bool\n * @param api - An object which conforms to the interface\n *    api.postItem(payload, function(err, response))\n * @param logger - An object used to log verbose messages if desired\n * @param options - see Queue.prototype.configure\n */\nfunction Queue(rateLimiter, api, logger, options) {\n  this.rateLimiter = rateLimiter;\n  this.api = api;\n  this.logger = logger;\n  this.options = options;\n  this.predicates = [];\n  this.pendingItems = [];\n  this.pendingRequests = [];\n  this.retryQueue = [];\n  this.retryHandle = null;\n  this.waitCallback = null;\n  this.waitIntervalID = null;\n}\n\n/*\n * configure - updates the options this queue uses\n *\n * @param options\n */\nQueue.prototype.configure = function(options) {\n  this.api && this.api.configure(options);\n  var oldOptions = this.options;\n  this.options = _.merge(oldOptions, options);\n  return this;\n};\n\n/*\n * addPredicate - adds a predicate to the end of the list of predicates for this queue\n *\n * @param predicate - function(item, options) -> (bool|{err: Error})\n *  Returning true means that this predicate passes and the item is okay to go on the queue\n *  Returning false means do not add the item to the queue, but it is not an error\n *  Returning {err: Error} means do not add the item to the queue, and the given error explains why\n *  Returning {err: undefined} is equivalent to returning true but don't do that\n */\nQueue.prototype.addPredicate = function(predicate) {\n  if (_.isFunction(predicate)) {\n    this.predicates.push(predicate);\n  }\n  return this;\n};\n\nQueue.prototype.addPendingItem = function(item) {\n  this.pendingItems.push(item);\n};\n\nQueue.prototype.removePendingItem = function(item) {\n  var idx = this.pendingItems.indexOf(item);\n  if (idx !== -1) {\n    this.pendingItems.splice(idx, 1);\n  }\n};\n\n/*\n * addItem - Send an item to the Rollbar API if all of the predicates are satisfied\n *\n * @param item - The payload to send to the backend\n * @param callback - function(error, repsonse) which will be called with the response from the API\n *  in the case of a success, otherwise response will be null and error will have a value. If both\n *  error and response are null then the item was stopped by a predicate which did not consider this\n *  to be an error condition, but nonetheless did not send the item to the API.\n *  @param originalError - The original error before any transformations that is to be logged if any\n */\nQueue.prototype.addItem = function(item, callback, originalError, originalItem) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function() { return; };\n  }\n  var predicateResult = this._applyPredicates(item);\n  if (predicateResult.stop) {\n    this.removePendingItem(originalItem);\n    callback(predicateResult.err);\n    return;\n  }\n  this._maybeLog(item, originalError);\n  this.removePendingItem(originalItem);\n  if (!this.options.transmit) {\n    callback(new Error('Transmit disabled'));\n    return;\n  }\n  this.pendingRequests.push(item);\n  try {\n    this._makeApiRequest(item, function(err, resp) {\n      this._dequeuePendingRequest(item);\n      callback(err, resp);\n    }.bind(this));\n  } catch (e) {\n    this._dequeuePendingRequest(item);\n    callback(e);\n  }\n};\n\n/*\n * wait - Stop any further errors from being added to the queue, and get called back when all items\n *   currently processing have finished sending to the backend.\n *\n * @param callback - function() called when all pending items have been sent\n */\nQueue.prototype.wait = function(callback) {\n  if (!_.isFunction(callback)) {\n    return;\n  }\n  this.waitCallback = callback;\n  if (this._maybeCallWait()) {\n    return;\n  }\n  if (this.waitIntervalID) {\n    this.waitIntervalID = clearInterval(this.waitIntervalID);\n  }\n  this.waitIntervalID = setInterval(function() {\n    this._maybeCallWait();\n  }.bind(this), 500);\n};\n\n/* _applyPredicates - Sequentially applies the predicates that have been added to the queue to the\n *   given item with the currently configured options.\n *\n * @param item - An item in the queue\n * @returns {stop: bool, err: (Error|null)} - stop being true means do not add item to the queue,\n *   the error value should be passed up to a callbak if we are stopping.\n */\nQueue.prototype._applyPredicates = function(item) {\n  var p = null;\n  for (var i = 0, len = this.predicates.length; i < len; i++) {\n    p = this.predicates[i](item, this.options);\n    if (!p || p.err !== undefined) {\n      return {stop: true, err: p.err};\n    }\n  }\n  return {stop: false, err: null};\n};\n\n/*\n * _makeApiRequest - Send an item to Rollbar, callback when done, if there is an error make an\n *   effort to retry if we are configured to do so.\n *\n * @param item - an item ready to send to the backend\n * @param callback - function(err, response)\n */\nQueue.prototype._makeApiRequest = function(item, callback) {\n  var rateLimitResponse = this.rateLimiter.shouldSend(item);\n  if (rateLimitResponse.shouldSend) {\n    this.api.postItem(item, function(err, resp) {\n      if (err) {\n        this._maybeRetry(err, item, callback);\n      } else {\n        callback(err, resp);\n      }\n    }.bind(this));\n  } else if (rateLimitResponse.error) {\n    callback(rateLimitResponse.error);\n  } else {\n    this.api.postItem(rateLimitResponse.payload, callback);\n  }\n};\n\n// These are errors basically mean there is no internet connection\nvar RETRIABLE_ERRORS = ['ECONNRESET', 'ENOTFOUND', 'ESOCKETTIMEDOUT', 'ETIMEDOUT', 'ECONNREFUSED', 'EHOSTUNREACH', 'EPIPE', 'EAI_AGAIN'];\n\n/*\n * _maybeRetry - Given the error returned by the API, decide if we should retry or just callback\n *   with the error.\n *\n * @param err - an error returned by the API transport\n * @param item - the item that was trying to be sent when this error occured\n * @param callback - function(err, response)\n */\nQueue.prototype._maybeRetry = function(err, item, callback) {\n  var shouldRetry = false;\n  if (this.options.retryInterval) {\n    for (var i = 0, len = RETRIABLE_ERRORS.length; i < len; i++) {\n      if (err.code === RETRIABLE_ERRORS[i]) {\n        shouldRetry = true;\n        break;\n      }\n    }\n  }\n  if (shouldRetry) {\n    this._retryApiRequest(item, callback);\n  } else {\n    callback(err);\n  }\n};\n\n/*\n * _retryApiRequest - Add an item and a callback to a queue and possibly start a timer to process\n *   that queue based on the retryInterval in the options for this queue.\n *\n * @param item - an item that failed to send due to an error we deem retriable\n * @param callback - function(err, response)\n */\nQueue.prototype._retryApiRequest = function(item, callback) {\n  this.retryQueue.push({item: item, callback: callback});\n\n  if (!this.retryHandle) {\n    this.retryHandle = setInterval(function() {\n      while (this.retryQueue.length) {\n        var retryObject = this.retryQueue.shift();\n        this._makeApiRequest(retryObject.item, retryObject.callback);\n      }\n    }.bind(this), this.options.retryInterval);\n  }\n};\n\n/*\n * _dequeuePendingRequest - Removes the item from the pending request queue, this queue is used to\n *   enable to functionality of providing a callback that clients can pass to `wait` to be notified\n *   when the pending request queue has been emptied. This must be called when the API finishes\n *   processing this item. If a `wait` callback is configured, it is called by this function.\n *\n * @param item - the item previously added to the pending request queue\n */\nQueue.prototype._dequeuePendingRequest = function(item) {\n  var idx = this.pendingRequests.indexOf(item);\n  if (idx !== -1) {\n    this.pendingRequests.splice(idx, 1);\n    this._maybeCallWait();\n  }\n};\n\nQueue.prototype._maybeLog = function(data, originalError) {\n  if (this.logger && this.options.verbose) {\n    var message = originalError;\n    message = message || _.get(data, 'body.trace.exception.message');\n    message = message || _.get(data, 'body.trace_chain.0.exception.message');\n    if (message) {\n      this.logger.error(message);\n      return;\n    }\n    message = _.get(data, 'body.message.body');\n    if (message) {\n      this.logger.log(message);\n    }\n  }\n};\n\nQueue.prototype._maybeCallWait = function() {\n  if (_.isFunction(this.waitCallback) && this.pendingItems.length === 0 && this.pendingRequests.length === 0) {\n    if (this.waitIntervalID) {\n      this.waitIntervalID = clearInterval(this.waitIntervalID);\n    }\n    this.waitCallback();\n    return true;\n  }\n  return false;\n};\n\nmodule.exports = Queue;\n","var _ = require('./utility');\n\n/*\n * Notifier - the internal object responsible for delegating between the client exposed API, the\n * chain of transforms necessary to turn an item into something that can be sent to Rollbar, and the\n * queue which handles the communcation with the Rollbar API servers.\n *\n * @param queue - an object that conforms to the interface: addItem(item, callback)\n * @param options - an object representing the options to be set for this notifier, this should have\n * any defaults already set by the caller\n */\nfunction Notifier(queue, options) {\n  this.queue = queue;\n  this.options = options;\n  this.transforms = [];\n  this.diagnostic = {};\n}\n\n/*\n * configure - updates the options for this notifier with the passed in object\n *\n * @param options - an object which gets merged with the current options set on this notifier\n * @returns this\n */\nNotifier.prototype.configure = function(options) {\n  this.queue && this.queue.configure(options);\n  var oldOptions = this.options;\n  this.options = _.merge(oldOptions, options);\n  return this;\n};\n\n/*\n * addTransform - adds a transform onto the end of the queue of transforms for this notifier\n *\n * @param transform - a function which takes three arguments:\n *    * item: An Object representing the data to eventually be sent to Rollbar\n *    * options: The current value of the options for this notifier\n *    * callback: function(err: (Null|Error), item: (Null|Object)) the transform must call this\n *    callback with a null value for error if it wants the processing chain to continue, otherwise\n *    with an error to terminate the processing. The item should be the updated item after this\n *    transform is finished modifying it.\n */\nNotifier.prototype.addTransform = function(transform) {\n  if (_.isFunction(transform)) {\n    this.transforms.push(transform);\n  }\n  return this;\n};\n\n/*\n * log - the internal log function which applies the configured transforms and then pushes onto the\n * queue to be sent to the backend.\n *\n * @param item - An object with the following structure:\n *    message [String] - An optional string to be sent to rollbar\n *    error [Error] - An optional error\n *\n * @param callback - A function of type function(err, resp) which will be called with exactly one\n * null argument and one non-null argument. The callback will be called once, either during the\n * transform stage if an error occurs inside a transform, or in response to the communication with\n * the backend. The second argument will be the response from the backend in case of success.\n */\nNotifier.prototype.log = function(item, callback) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function() {};\n  }\n\n  if (!this.options.enabled) {\n    return callback(new Error('Rollbar is not enabled'));\n  }\n\n  this.queue.addPendingItem(item);\n  var originalError = item.err;\n  this._applyTransforms(item, function(err, i) {\n    if (err) {\n      this.queue.removePendingItem(item);\n      return callback(err, null);\n    }\n    this.queue.addItem(i, callback, originalError, item);\n  }.bind(this));\n};\n\n/* Internal */\n\n/*\n * _applyTransforms - Applies the transforms that have been added to this notifier sequentially. See\n * `addTransform` for more information.\n *\n * @param item - An item to be transformed\n * @param callback - A function of type function(err, item) which will be called with a non-null\n * error and a null item in the case of a transform failure, or a null error and non-null item after\n * all transforms have been applied.\n */\nNotifier.prototype._applyTransforms = function(item, callback) {\n  var transformIndex = -1;\n  var transformsLength = this.transforms.length;\n  var transforms = this.transforms;\n  var options = this.options;\n\n  var cb = function(err, i) {\n    if (err) {\n      callback(err, null);\n      return;\n    }\n\n    transformIndex++;\n\n    if (transformIndex === transformsLength) {\n      callback(null, i);\n      return;\n    }\n\n    transforms[transformIndex](i, options, cb);\n  };\n\n  cb(null, item);\n};\n\nmodule.exports = Notifier;\n","var _ = require('./utility');\n\nvar MAX_EVENTS = 100;\n\nfunction Telemeter(options) {\n  this.queue = [];\n  this.options = _.merge(options);\n  var maxTelemetryEvents = this.options.maxTelemetryEvents || MAX_EVENTS;\n  this.maxQueueSize = Math.max(0, Math.min(maxTelemetryEvents, MAX_EVENTS));\n}\n\nTelemeter.prototype.configure = function(options) {\n  var oldOptions = this.options;\n  this.options = _.merge(oldOptions, options);\n  var maxTelemetryEvents = this.options.maxTelemetryEvents || MAX_EVENTS;\n  var newMaxEvents = Math.max(0, Math.min(maxTelemetryEvents, MAX_EVENTS));\n  var deleteCount = 0;\n  if (this.maxQueueSize > newMaxEvents) {\n    deleteCount = this.maxQueueSize - newMaxEvents;\n  }\n  this.maxQueueSize = newMaxEvents;\n  this.queue.splice(0, deleteCount);\n};\n\nTelemeter.prototype.copyEvents = function() {\n  var events = Array.prototype.slice.call(this.queue, 0);\n  if (_.isFunction(this.options.filterTelemetry)) {\n    try {\n      var i = events.length;\n      while (i--) {\n        if (this.options.filterTelemetry(events[i])) {\n          events.splice(i, 1);\n        }\n      }\n    } catch (e) {\n      this.options.filterTelemetry = null;\n    }\n  }\n  return events;\n};\n\nTelemeter.prototype.capture = function(type, metadata, level, rollbarUUID, timestamp) {\n  var e = {\n    level: getLevel(type, level),\n    type: type,\n    timestamp_ms: timestamp || _.now(),\n    body: metadata,\n    source: 'client'\n  };\n  if (rollbarUUID) {\n    e.uuid = rollbarUUID;\n  }\n\n  try {\n    if (_.isFunction(this.options.filterTelemetry) && this.options.filterTelemetry(e)) {\n      return false;\n    }\n  } catch (exc) {\n    this.options.filterTelemetry = null;\n  }\n\n  this.push(e);\n  return e;\n};\n\nTelemeter.prototype.captureEvent = function(type, metadata, level, rollbarUUID) {\n  return this.capture(type, metadata, level, rollbarUUID);\n};\n\nTelemeter.prototype.captureError = function(err, level, rollbarUUID, timestamp) {\n  var metadata = {\n    message: err.message || String(err)\n  };\n  if (err.stack) {\n    metadata.stack = err.stack;\n  }\n  return this.capture('error', metadata, level, rollbarUUID, timestamp);\n};\n\nTelemeter.prototype.captureLog = function(message, level, rollbarUUID, timestamp) {\n  return this.capture('log', {\n    message: message\n  }, level, rollbarUUID, timestamp);\n};\n\nTelemeter.prototype.captureNetwork = function(metadata, subtype, rollbarUUID, requestData) {\n  subtype = subtype || 'xhr';\n  metadata.subtype = metadata.subtype || subtype;\n  if (requestData) {\n    metadata.request = requestData;\n  }\n  var level = this.levelFromStatus(metadata.status_code);\n  return this.capture('network', metadata, level, rollbarUUID);\n};\n\nTelemeter.prototype.levelFromStatus = function(statusCode) {\n  if (statusCode >= 200 && statusCode < 400) {\n    return 'info';\n  }\n  if (statusCode === 0 || statusCode >= 400) {\n    return 'error';\n  }\n  return 'info';\n};\n\nTelemeter.prototype.captureDom = function(subtype, element, value, checked, rollbarUUID) {\n  var metadata = {\n    subtype: subtype,\n    element: element\n  };\n  if (value !== undefined) {\n    metadata.value = value;\n  }\n  if (checked !== undefined) {\n    metadata.checked = checked;\n  }\n  return this.capture('dom', metadata, 'info', rollbarUUID);\n};\n\nTelemeter.prototype.captureNavigation = function(from, to, rollbarUUID) {\n  return this.capture('navigation', {from: from, to: to}, 'info', rollbarUUID);\n};\n\nTelemeter.prototype.captureDomContentLoaded = function(ts) {\n  return this.capture('navigation', {subtype: 'DOMContentLoaded'}, 'info', undefined, ts && ts.getTime());\n  /**\n   * If we decide to make this a dom event instead, then use the line below:\n  return this.capture('dom', {subtype: 'DOMContentLoaded'}, 'info', undefined, ts && ts.getTime());\n  */\n};\nTelemeter.prototype.captureLoad = function(ts) {\n  return this.capture('navigation', {subtype: 'load'}, 'info', undefined, ts && ts.getTime());\n  /**\n   * If we decide to make this a dom event instead, then use the line below:\n  return this.capture('dom', {subtype: 'load'}, 'info', undefined, ts && ts.getTime());\n  */\n};\n\nTelemeter.prototype.captureConnectivityChange = function(type, rollbarUUID) {\n  return this.captureNetwork({change: type}, 'connectivity', rollbarUUID);\n};\n\n// Only intended to be used internally by the notifier\nTelemeter.prototype._captureRollbarItem = function(item) {\n  if (!this.options.includeItemsInTelemetry) {\n    return;\n  }\n  if (item.err) {\n    return this.captureError(item.err, item.level, item.uuid, item.timestamp);\n  }\n  if (item.message) {\n    return this.captureLog(item.message, item.level, item.uuid, item.timestamp);\n  }\n  if (item.custom) {\n    return this.capture('log', item.custom, item.level, item.uuid, item.timestamp);\n  }\n};\n\nTelemeter.prototype.push = function(e) {\n  this.queue.push(e);\n  if (this.queue.length > this.maxQueueSize) {\n    this.queue.shift();\n  }\n};\n\nfunction getLevel(type, level) {\n  if (level) {\n    return level;\n  }\n  var defaultLevel = {\n    error: 'error',\n    manual: 'info'\n  };\n  return defaultLevel[type] || 'info';\n}\n\nmodule.exports = Telemeter;\n","var _ = require('./utility');\nvar helpers = require('./apiUtility');\nvar truncation = require('./truncation');\n\nvar defaultOptions = {\n  hostname: 'api.rollbar.com',\n  path: '/api/1/item/',\n  search: null,\n  version: '1',\n  protocol: 'https:',\n  port: 443\n};\n\n/**\n * Api is an object that encapsulates methods of communicating with\n * the Rollbar API.  It is a standard interface with some parts implemented\n * differently for server or browser contexts.  It is an object that should\n * be instantiated when used so it can contain non-global options that may\n * be different for another instance of RollbarApi.\n *\n * @param options {\n *    accessToken: the accessToken to use for posting items to rollbar\n *    endpoint: an alternative endpoint to send errors to\n *        must be a valid, fully qualified URL.\n *        The default is: https://api.rollbar.com/api/1/item\n *    proxy: if you wish to proxy requests provide an object\n *        with the following keys:\n *          host or hostname (required): foo.example.com\n *          port (optional): 123\n *          protocol (optional): https\n * }\n */\nfunction Api(options, t, u, j) {\n  this.options = options;\n  this.transport = t;\n  this.url = u;\n  this.jsonBackup = j;\n  this.accessToken = options.accessToken;\n  this.transportOptions = _getTransport(options, u);\n}\n\n/**\n *\n * @param data\n * @param callback\n */\nApi.prototype.postItem = function(data, callback) {\n  var transportOptions = helpers.transportOptions(this.transportOptions, 'POST');\n  var payload = helpers.buildPayload(this.accessToken, data, this.jsonBackup);\n  this.transport.post(this.accessToken, transportOptions, payload, callback);\n};\n\n/**\n *\n * @param data\n * @param callback\n */\nApi.prototype.buildJsonPayload = function(data, callback) {\n  var payload = helpers.buildPayload(this.accessToken, data, this.jsonBackup);\n\n  var stringifyResult = truncation.truncate(payload);\n  if (stringifyResult.error) {\n    if (callback) {\n      callback(stringifyResult.error);\n    }\n    return null;\n  }\n\n  return stringifyResult.value;\n};\n\n/**\n *\n * @param jsonPayload\n * @param callback\n */\nApi.prototype.postJsonPayload = function(jsonPayload, callback) {\n  var transportOptions = helpers.transportOptions(this.transportOptions, 'POST');\n  this.transport.postJsonPayload(this.accessToken, transportOptions, jsonPayload, callback);\n};\n\nApi.prototype.configure = function(options) {\n  var oldOptions = this.oldOptions;\n  this.options = _.merge(oldOptions, options);\n  this.transportOptions = _getTransport(this.options, this.url);\n  if (this.options.accessToken !== undefined) {\n    this.accessToken = this.options.accessToken;\n  }\n  return this;\n};\n\nfunction _getTransport(options, url) {\n  return helpers.getTransportFromOptions(options, defaultOptions, url);\n}\n\nmodule.exports = Api;\n","var _ = require('./utility');\n\nfunction buildPayload(accessToken, data, jsonBackup) {\n  if (!_.isType(data.context, 'string')) {\n    var contextResult = _.stringify(data.context, jsonBackup);\n    if (contextResult.error) {\n      data.context = 'Error: could not serialize \\'context\\'';\n    } else {\n      data.context = contextResult.value || '';\n    }\n    if (data.context.length > 255) {\n      data.context = data.context.substr(0, 255);\n    }\n  }\n  return {\n    access_token: accessToken,\n    data: data\n  };\n}\n\nfunction getTransportFromOptions(options, defaults, url) {\n  var hostname = defaults.hostname;\n  var protocol = defaults.protocol;\n  var port = defaults.port;\n  var path = defaults.path;\n  var search = defaults.search;\n\n  var proxy = options.proxy;\n  if (options.endpoint) {\n    var opts = url.parse(options.endpoint);\n    hostname = opts.hostname;\n    protocol = opts.protocol;\n    port = opts.port;\n    path = opts.pathname;\n    search = opts.search;\n  }\n  return {\n    hostname: hostname,\n    protocol: protocol,\n    port: port,\n    path: path,\n    search: search,\n    proxy: proxy\n  };\n}\n\nfunction transportOptions(transport, method) {\n  var protocol = transport.protocol || 'https:';\n  var port = transport.port || (protocol === 'http:' ? 80 : protocol === 'https:' ? 443 : undefined);\n  var hostname = transport.hostname;\n  var path = transport.path;\n  if (transport.search) {\n    path = path + transport.search;\n  }\n  if (transport.proxy) {\n    path = protocol + '//' + hostname + path;\n    hostname = transport.proxy.host || transport.proxy.hostname;\n    port = transport.proxy.port;\n    protocol = transport.proxy.protocol || protocol;\n  }\n  return {\n    protocol: protocol,\n    hostname: hostname,\n    path: path,\n    port: port,\n    method: method\n  };\n}\n\nfunction appendPathToPath(base, path) {\n  var baseTrailingSlash = /\\/$/.test(base);\n  var pathBeginningSlash = /^\\//.test(path);\n\n  if (baseTrailingSlash && pathBeginningSlash) {\n    path = path.substring(1);\n  } else if (!baseTrailingSlash && !pathBeginningSlash) {\n    path = '/' + path;\n  }\n\n  return base + path;\n}\n\nmodule.exports = {\n  buildPayload: buildPayload,\n  getTransportFromOptions: getTransportFromOptions,\n  transportOptions: transportOptions,\n  appendPathToPath: appendPathToPath\n};\n","var _ = require('../utility');\nvar truncation = require('../truncation');\nvar logger = require('./logger');\n\nvar http = require('http');\nvar https = require('https');\nvar jsonBackup = require('json-stringify-safe');\n\nvar MAX_RATE_LIMIT_INTERVAL = 60;\n\n/*\n * accessToken may be embedded in payload but that should not be assumed\n *\n * options: {\n *   hostname\n *   protocol\n *   path\n *   port\n *   method\n * }\n *\n * params is an object containing key/value pairs to be\n *    appended to the path as 'key=value&key=value'\n *\n * payload is an unserialized object\n */\nfunction Transport() {\n  this.rateLimitExpires = 0;\n}\n\nTransport.prototype.get = function(accessToken, options, params, callback, transportFactory) {\n  var t;\n  if (!callback || !_.isFunction(callback)) {\n    callback = function() {};\n  }\n  options = options || {};\n  _.addParamsAndAccessTokenToPath(accessToken, options, params);\n  options.headers = _headers(accessToken, options);\n  if (transportFactory) {\n    t = transportFactory(options);\n  } else {\n    t = _transport(options);\n  }\n  if (!t) {\n    logger.error('Unknown transport based on given protocol: ' + options.protocol);\n    return callback(new Error('Unknown transport'));\n  }\n  var req = t.request(options, function(resp) {\n    this.handleResponse(resp, callback);\n  }.bind(this));\n  req.on('error', function(err) {\n    callback(err);\n  });\n  req.end();\n}\n\nTransport.prototype.post = function(accessToken, options, payload, callback, transportFactory) {\n  var t;\n  if (!callback || !_.isFunction(callback)) {\n    callback = function() {};\n  }\n  if (_currentTime() < this.rateLimitExpires) {\n    return callback(new Error('Exceeded rate limit'));\n  }\n  options = options || {};\n  if (!payload) {\n    return callback(new Error('Cannot send empty request'));\n  }\n  var stringifyResult = truncation.truncate(payload, jsonBackup);\n  if (stringifyResult.error) {\n    logger.error('Problem stringifying payload. Giving up');\n    return callback(stringifyResult.error);\n  }\n  var writeData = stringifyResult.value;\n  options.headers = _headers(accessToken, options, writeData);\n  if (transportFactory) {\n    t = transportFactory(options);\n  } else {\n    t = _transport(options);\n  }\n  if (!t) {\n    logger.error('Unknown transport based on given protocol: ' + options.protocol);\n    return callback(new Error('Unknown transport'));\n  }\n  var req = t.request(options, function(resp) {\n    this.handleResponse(resp, _wrapPostCallback(callback));\n  }.bind(this));\n  req.on('error', function(err) {\n    callback(err);\n  });\n  if (writeData) {\n    req.write(writeData);\n  }\n  req.end();\n}\n\nTransport.prototype.updateRateLimit = function(resp) {\n  var remaining = parseInt(resp.headers['x-rate-limit-remaining'] || 0);\n  var remainingSeconds = Math.min(MAX_RATE_LIMIT_INTERVAL, resp.headers['x-rate-limit-remaining-seconds'] || 0);\n  var currentTime = _currentTime();\n\n  if ((resp.statusCode === 429) && (remaining === 0)) {\n    this.rateLimitExpires = currentTime + remainingSeconds;\n  } else {\n    this.rateLimitExpires = currentTime;\n  }\n}\n\nTransport.prototype.handleResponse = function(resp, callback) {\n  this.updateRateLimit(resp);\n\n  var respData = [];\n  resp.setEncoding('utf8');\n  resp.on('data', function(chunk) {\n    respData.push(chunk);\n  });\n\n  resp.on('end', function() {\n    respData = respData.join('');\n    _parseApiResponse(respData, callback);\n  });\n}\n\n/** Helpers **/\n\nfunction _headers(accessToken, options, data) {\n  var headers = (options && options.headers) || {};\n  headers['Content-Type'] = 'application/json';\n  if (data) {\n    try {\n      headers['Content-Length'] = Buffer.byteLength(data, 'utf8');\n    } catch (e) {\n      logger.error('Could not get the content length of the data');\n    }\n  }\n  headers['X-Rollbar-Access-Token'] = accessToken;\n  return headers;\n}\n\nfunction _transport(options) {\n  return {'http:': http, 'https:': https}[options.protocol];\n}\n\nfunction _parseApiResponse(data, callback) {\n  var parsedData = _.jsonParse(data);\n  if (parsedData.error) {\n    logger.error('Could not parse api response, err: ' + parsedData.error);\n    return callback(parsedData.error);\n  }\n  data = parsedData.value;\n\n  if (data.err) {\n    logger.error('Received error: ' + data.message);\n    return callback(new Error('Api error: ' + (data.message || 'Unknown error')));\n  }\n\n  callback(null, data);\n}\n\nfunction _wrapPostCallback(callback) {\n  return function(err, data) {\n    if (err) {\n      return callback(err);\n    }\n    if (data.result && data.result.uuid) {\n      logger.log([\n          'Successful api response.',\n          ' Link: https://rollbar.com/occurrence/uuid/?uuid=' + data.result.uuid\n      ].join(''));\n    } else {\n      logger.log('Successful api response');\n    }\n    callback(null, data.result);\n  }\n}\n\nfunction _currentTime() {\n  return Math.floor(Date.now() / 1000);\n}\n\nmodule.exports = Transport;\n","var async = require('async');\nvar parser = require('./parser');\nvar requestIp = require('request-ip');\nvar url = require('url');\nvar _ = require('../utility');\n\nfunction baseData(item, options, callback) {\n  var environment = (options.payload && options.payload.environment) || options.environment;\n  var data = {\n    timestamp: Math.round(item.timestamp / 1000),\n    environment: item.environment || environment,\n    level: item.level || 'error',\n    language: 'javascript',\n    framework: item.framework || options.framework,\n    uuid: item.uuid,\n    notifier: JSON.parse(JSON.stringify(options.notifier))\n  };\n\n  if (options.codeVersion) {\n    data.code_version = options.codeVersion;\n  } else if (options.code_version) {\n    data.code_version = options.code_version;\n  }\n\n  var props = Object.getOwnPropertyNames(item.custom || {});\n  props.forEach(function (name) {\n    if (!data.hasOwnProperty(name)) {\n      data[name] = item.custom[name];\n    }\n  });\n\n  data.server = {\n    host: options.host,\n    argv: process.argv.concat(),\n    pid: process.pid\n  };\n\n  if (options.branch) {\n    data.server.branch = options.branch;\n  }\n  if (options.root) {\n    data.server.root = options.root;\n  }\n\n  item.data = data;\n  callback(null, item);\n}\n\nfunction addMessageData(item, options, callback) {\n  item.data = item.data || {};\n  item.data.body = item.data.body || {};\n  var message = item.message || 'Item sent with null or missing arguments.';\n  item.data.body.message = {\n    body: message\n  };\n  callback(null, item);\n}\n\nfunction addErrorData(item, options, callback) {\n  if (item.stackInfo) {\n    item.data = item.data || {};\n    item.data.body = item.data.body || {};\n    item.data.body.trace_chain = item.stackInfo;\n  }\n  callback(null, item);\n}\n\nfunction addBody(item, options, callback) {\n  if (item.stackInfo) {\n    addErrorData(item, options, callback);\n  } else {\n    addMessageData(item, options, callback);\n  }\n}\n\nfunction handleItemWithError(item, options, callback) {\n  if (!item.err) {\n    return callback(null, item);\n  }\n\n  var err = item.err;\n  var errors = [];\n  var chain = [];\n  do {\n    errors.push(err);\n    err = err.nested;\n  } while (err !== undefined);\n  item.stackInfo = chain;\n\n  var cb = function(e) {\n    if (e) {\n      item.message = item.err.message || item.err.description || item.message || String(item.err);\n      item.diagnostic.buildTraceData = e.message;\n      delete item.stackInfo;\n    }\n    callback(null, item);\n  };\n  async.eachSeries(errors, _buildTraceData(chain, options, item), cb);\n}\n\nfunction addRequestData(item, options, callback) {\n  item.data = item.data || {};\n\n  var req = item.request;\n  if (!req) {\n    callback(null, item);\n    return;\n  }\n\n  if (options.addRequestData && _.isFunction(options.addRequestData)) {\n    options.addRequestData(item.data, req);\n    callback(null, item);\n    return;\n  }\n\n  var requestData = _buildRequestData(req);\n  _.filterIp(requestData, options.captureIp);\n  item.data.request = requestData;\n\n  if (req.route) {\n    item.data.context = req.route.path;\n  } else {\n    try {\n      item.data.context = req.app._router.matchRequest(req).path;\n    } catch (ignore) {\n      // Ignored\n    }\n  }\n\n  var captureEmail = options.captureEmail;\n  var captureUsername = options.captureUsername;\n  if (req.rollbar_person) {\n    var person = req.rollbar_person;\n    if (!captureEmail && person.email) {\n      person.email = null;\n    }\n    if (!captureUsername && person.username) {\n      person.username = null;\n    }\n    item.data.person = person;\n  } else if (req.user) {\n    item.data.person = {id: req.user.id};\n    if (req.user.username && captureUsername) {\n      item.data.person.username = req.user.username;\n    }\n    if (req.user.email && captureEmail) {\n      item.data.person.email = req.user.email;\n    }\n  } else if (req.user_id || req.userId) {\n    var userId = req.user_id || req.userId;\n    if (_.isFunction(userId)) {\n      userId = userId();\n    }\n    item.data.person = {id: userId};\n  }\n\n  callback(null, item);\n}\n\nfunction addLambdaData(item, options, callback) {\n  var c = item.lambdaContext;\n  if (!c) {\n    callback(null, item);\n    return;\n  }\n\n  var data = {\n    remainingTimeInMillis: c.getRemainingTimeInMillis(),\n    callbackWaitsForEmptyEventLoop: c.callbackWaitsForEmptyEventLoop,\n    functionName: c.functionName,\n    functionVersion: c.functionVersion,\n    arn: c.invokedFunctionArn,\n    requestId: c.awsRequestId\n  };\n\n  item.data = item.data || {};\n  item.data.custom = item.data.custom || {};\n  item.data.custom.lambda = data;\n\n  callback(null, item);\n}\n\nfunction scrubPayload(item, options, callback) {\n  var scrubHeaders = options.scrubHeaders || [];\n  var scrubFields = options.scrubFields || [];\n  scrubFields = scrubHeaders.concat(scrubFields);\n\n  parseRequestBody(item.data.request, options);\n  item.data = _.scrub(item.data, scrubFields);\n  serializeRequestBody(item.data.request, options);\n\n  callback(null, item);\n}\n\nfunction parseRequestBody(req, options) {\n  if (!req || !options.scrubRequestBody) { return }\n\n  try {\n    if (_.isString(req.body) && _isJsonContentType(req)) {\n      req.body = JSON.parse(req.body);\n    }\n  } catch (e) {\n    req.body = null;\n    req.error = 'request.body parse failed: ' + e.message;\n  }\n}\n\nfunction serializeRequestBody(req, options) {\n  if (!req || !options.scrubRequestBody) { return }\n\n  try {\n    if (_.isObject(req.body) && _isJsonContentType(req)) {\n      req.body = JSON.stringify(req.body);\n    }\n  } catch (e) {\n    req.body = null;\n    req.error = 'request.body serialization failed: ' + e.message;\n  }\n}\n\n/** Helpers **/\n\nfunction _isJsonContentType(req) {\n  return req.headers && req.headers['content-type'] && req.headers['content-type'].includes('json');\n}\n\nfunction _buildTraceData(chain, options, item) {\n  return function(ex, cb) {\n    parser.parseException(ex, options, item, function (err, errData) {\n      if (err) {\n        return cb(err);\n      }\n\n      chain.push({\n        frames: errData.frames,\n        exception: {\n          class: errData['class'],\n          message: errData.message\n        }\n      });\n\n      return cb(null);\n    });\n  };\n}\n\nfunction _extractIp(req) {\n  var ip = req.ip;\n  if (!ip) {\n    ip = requestIp.getClientIp(req);\n  }\n  return ip;\n}\n\nfunction _buildRequestData(req) {\n  var headers = req.headers || {};\n  var host = headers.host || '<no host>';\n  var proto = req.protocol || ((req.socket && req.socket.encrypted) ? 'https' : 'http' );\n  var parsedUrl;\n  if (_.isType(req.url, 'string')) {\n    parsedUrl = url.parse(req.url, true);\n  } else {\n    parsedUrl = req.url || {};\n  }\n  parsedUrl.protocol = parsedUrl.protocol || proto;\n  parsedUrl.host = parsedUrl.host || host;\n  var reqUrl = url.format(parsedUrl);\n  var data = {\n    url: reqUrl,\n    user_ip: _extractIp(req),\n    headers: headers,\n    method: req.method\n  };\n  if (parsedUrl.search && parsedUrl.search.length > 0) {\n    data.GET = parsedUrl.query;\n  }\n\n  var body = req.body || req.payload;\n  if (body) {\n    var bodyParams = {};\n    if (_.isIterable(body)) {\n      for (var k in body) {\n        if (Object.prototype.hasOwnProperty.call(body, k)) {\n          bodyParams[k] = body[k];\n        }\n      }\n      data[req.method] = bodyParams;\n    } else {\n      data.body = body;\n    }\n  }\n  return data;\n}\n\nmodule.exports = {\n  baseData: baseData,\n  handleItemWithError: handleItemWithError,\n  addBody: addBody,\n  addMessageData: addMessageData,\n  addErrorData: addErrorData,\n  addRequestData: addRequestData,\n  addLambdaData: addLambdaData,\n  scrubPayload: scrubPayload\n};\n","'use strict';\n\nvar logger = require('./logger');\nvar async = require('async');\nvar fs = require('fs');\nvar lru = require('lru-cache');\nvar util = require('util');\nvar stackTrace = require('./sourceMap/stackTrace');\n\nvar linesOfContext = 3;\nvar tracePattern =\n  /^\\s*at (?:([^(]+(?: \\[\\w\\s+\\])?(?:.*\\)*)) )?\\(?(.+?)(?::(\\d+):(\\d+)(?:, <js>:(\\d+):(\\d+))?)?\\)?$/;\n\nvar jadeTracePattern = /^\\s*at .+ \\(.+ (at[^)]+\\))\\)$/;\nvar jadeFramePattern = /^\\s*(>?) [0-9]+\\|(\\s*.+)$/m;\n\n\nvar cache = new lru({max: 100});\nvar pendingReads = {};\n\nexports.cache = cache;\nexports.pendingReads = pendingReads;\n\n\n/*\n * Internal\n */\n\n\nfunction getMultipleErrors(errors) {\n  var errArray, key;\n\n  if (errors === null || errors === undefined) {\n    return null;\n  }\n\n  if (typeof errors !== 'object') {\n    return null;\n  }\n\n  if (util.isArray(errors)) {\n    return errors;\n  }\n\n  errArray = [];\n\n  for (key in errors) {\n    if (Object.prototype.hasOwnProperty.call(errors, key)) {\n      errArray.push(errors[key]);\n    }\n  }\n  return errArray;\n}\n\n\nfunction parseJadeDebugFrame(body) {\n  var lines, lineNumSep, filename, lineno, numLines, msg, i,\n    contextLine, preContext, postContext, line, jadeMatch;\n\n  // Given a Jade exception body, return a frame object\n  lines = body.split('\\n');\n  lineNumSep = lines[0].indexOf(':');\n  filename = lines[0].slice(0, lineNumSep);\n  lineno = parseInt(lines[0].slice(lineNumSep + 1), 10);\n  numLines = lines.length;\n  msg = lines[numLines - 1];\n\n  lines = lines.slice(1, numLines - 1);\n\n  preContext = [];\n  postContext = [];\n  for (i = 0; i < numLines - 2; ++i) {\n    line = lines[i];\n    jadeMatch = line.match(jadeFramePattern);\n    if (jadeMatch) {\n      if (jadeMatch[1] === '>') {\n        contextLine = jadeMatch[2];\n      } else {\n        if (!contextLine) {\n          if (jadeMatch[2]) {\n            preContext.push(jadeMatch[2]);\n          }\n        } else {\n          if (jadeMatch[2]) {\n            postContext.push(jadeMatch[2]);\n          }\n        }\n      }\n    }\n  }\n\n  preContext = preContext.slice(0, Math.min(preContext.length, linesOfContext));\n  postContext = postContext.slice(0, Math.min(postContext.length, linesOfContext));\n\n  return {\n    frame: {\n      method: '<jade>',\n      filename: filename,\n      lineno: lineno,\n      code: contextLine,\n      context: {\n        pre: preContext,\n        post: postContext\n      }\n    },\n    message: msg\n  };\n}\n\n\nfunction extractContextLines(frame, fileLines) {\n  frame.code = fileLines[frame.lineno - 1];\n  frame.context = {\n    pre: fileLines.slice(Math.max(0, frame.lineno - (linesOfContext + 1)), frame.lineno - 1),\n    post: fileLines.slice(frame.lineno, frame.lineno + linesOfContext)\n  };\n}\n\nfunction mapPosition(position, diagnostic) {\n  return stackTrace.mapSourcePosition({\n      source: position.source,\n      line: position.line,\n      column: position.column\n    },\n    diagnostic\n  );\n}\n\nfunction parseFrameLine(line, callback) {\n  var matched, curLine, data, frame;\n\n  curLine = line;\n  matched = curLine.match(jadeTracePattern);\n  if (matched) {\n    curLine = matched[1];\n  }\n\n  matched = curLine.match(tracePattern);\n  if (!matched) {\n    return callback(null, null);\n  }\n\n  data = matched.slice(1);\n  var position = {\n    source: data[1],\n    line: Math.floor(data[2]),\n    column: Math.floor(data[3]) - 1\n  };\n  if (this.useSourceMaps) {\n    position = mapPosition(position, this.diagnostic);\n  }\n\n  frame = {\n    method: data[0] || '<unknown>',\n    filename: position.source,\n    lineno: position.line,\n    colno: position.column\n  };\n\n  // For coffeescript, lineno and colno refer to the .coffee positions\n  // The .js lineno and colno will be stored in compiled_*\n  if (data[4]) {\n    frame.compiled_lineno = Math.floor(data[4]);\n  }\n\n  if (data[5]) {\n    frame.compiled_colno = Math.floor(data[5]);\n  }\n\n  callback(null, frame);\n}\n\n\nfunction shouldReadFrameFile(frameFilename, callback) {\n  var isValidFilename, isCached, isPending;\n\n  isValidFilename = frameFilename[0] === '/' || frameFilename[0] === '.';\n  isCached = !!cache.get(frameFilename);\n  isPending = !!pendingReads[frameFilename];\n\n  callback(isValidFilename && !isCached && !isPending);\n}\n\n\nfunction readFileLines(filename, callback) {\n  try {\n    fs.readFile(filename, function (err, fileData) {\n      var fileLines;\n      if (err) {\n        return callback(err);\n      }\n\n      fileLines = fileData.toString('utf8').split('\\n');\n      return callback(null, fileLines);\n    });\n  } catch (e) {\n    logger.log(e);\n  }\n}\n\n\n/* Older versions of node do not have fs.exists so we implement our own */\nfunction checkFileExists(filename, callback) {\n  if (fs.exists !== undefined) {\n    fs.exists(filename, callback);\n  } else {\n    fs.stat(filename, function (err) {\n      callback(!err);\n    });\n  }\n}\n\n\nfunction gatherContexts(frames, callback) {\n  var frameFilenames = [];\n\n  frames.forEach(function (frame) {\n    if (frameFilenames.indexOf(frame.filename) === -1) {\n      frameFilenames.push(frame.filename);\n    }\n  });\n\n  async.filter(frameFilenames, shouldReadFrameFile, function (results) {\n    var tempFileCache;\n\n    tempFileCache = {};\n\n    function gatherFileData(filename, callback) {\n      readFileLines(filename, function (err, lines) {\n        if (err) {\n          return callback(err);\n        }\n\n        // Cache this in a temp cache as well as the LRU cache so that\n        // we know we will have all of the necessary file contents for\n        // each filename in tempFileCache.\n        tempFileCache[filename] = lines;\n        cache.set(filename, lines);\n\n        return callback(null);\n      });\n    }\n\n    function gatherContextLines(frame, callback) {\n      var lines = tempFileCache[frame.filename] || cache.get(frame.filename);\n\n      if (lines) {\n        extractContextLines(frame, lines);\n      }\n      callback(null);\n    }\n\n    async.filter(results, checkFileExists, function (filenames) {\n      async.each(filenames, gatherFileData, function (err) {\n        if (err) {\n          return callback(err);\n        }\n        async.eachSeries(frames, gatherContextLines, function (err) {\n          if (err) {\n            return callback(err);\n          }\n          callback(null, frames);\n        });\n      });\n    });\n\n  });\n}\n\n/*\n * Public API\n */\n\n\nexports.parseException = function (exc, options, item, callback) {\n  var multipleErrs = getMultipleErrors(exc.errors);\n\n  return exports.parseStack(exc.stack, options, item, function (err, stack) {\n    var message, clss, ret, firstErr, jadeMatch, jadeData;\n\n    if (err) {\n      logger.error('could not parse exception, err: ' + err);\n      return callback(err);\n    }\n    message = String(exc.message || '<no message>') ;\n    clss = String(exc.name || '<unknown>');\n\n    ret = {\n      class: clss,\n      message: message,\n      frames: stack\n    };\n\n    if (multipleErrs && multipleErrs.length) {\n      firstErr = multipleErrs[0];\n      ret = {\n        class: clss,\n        message: String(firstErr.message || '<no message>'),\n        frames: stack\n      };\n    }\n\n    jadeMatch = message.match(jadeFramePattern);\n    if (jadeMatch) {\n      jadeData = parseJadeDebugFrame(message);\n      ret.message = jadeData.message;\n      ret.frames.push(jadeData.frame);\n    }\n    return callback(null, ret);\n  });\n};\n\n\nexports.parseStack = function (stack, options, item, callback) {\n  var lines, _stack = stack;\n\n  // Some JS frameworks (e.g. Meteor) might bury the stack property\n  while (typeof _stack === 'object') {\n    _stack = _stack && _stack.stack;\n  }\n\n  // grab all lines except the first\n  lines = (_stack || '').split('\\n').slice(1);\n\n  if (options.nodeSourceMaps) {\n    item.diagnostic.node_source_maps = {};\n    item.diagnostic.node_source_maps.source_mapping_urls = {};\n  }\n\n  // Parse out all of the frame and filename info\n  async.map(lines, parseFrameLine.bind({ useSourceMaps: options.nodeSourceMaps, diagnostic: item.diagnostic }), function (err, frames) {\n    if (err) {\n      return callback(err);\n    }\n    frames.reverse();\n    async.filter(frames, function (frame, callback) { callback(!!frame); }, function (results) {\n      gatherContexts(results, callback);\n    });\n  });\n};\n",";(function () { // closure for web browsers\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = LRUCache\n} else {\n  // just set the global for non-node platforms.\n  this.LRUCache = LRUCache\n}\n\nfunction hOP (obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key)\n}\n\nfunction naiveLength () { return 1 }\n\nfunction LRUCache (options) {\n  if (!(this instanceof LRUCache)) {\n    return new LRUCache(options)\n  }\n\n  var max\n  if (typeof options === 'number') {\n    max = options\n    options = { max: max }\n  }\n\n  if (!options) options = {}\n\n  max = options.max\n\n  var lengthCalculator = options.length || naiveLength\n\n  if (typeof lengthCalculator !== \"function\") {\n    lengthCalculator = naiveLength\n  }\n\n  if (!max || !(typeof max === \"number\") || max <= 0 ) {\n    // a little bit silly.  maybe this should throw?\n    max = Infinity\n  }\n\n  var allowStale = options.stale || false\n\n  var maxAge = options.maxAge || null\n\n  var dispose = options.dispose\n\n  var cache = Object.create(null) // hash of items by key\n    , lruList = Object.create(null) // list of items in order of use recency\n    , mru = 0 // most recently used\n    , lru = 0 // least recently used\n    , length = 0 // number of items in the list\n    , itemCount = 0\n\n\n  // resize the cache when the max changes.\n  Object.defineProperty(this, \"max\",\n    { set : function (mL) {\n        if (!mL || !(typeof mL === \"number\") || mL <= 0 ) mL = Infinity\n        max = mL\n        // if it gets above double max, trim right away.\n        // otherwise, do it whenever it's convenient.\n        if (length > max) trim()\n      }\n    , get : function () { return max }\n    , enumerable : true\n    })\n\n  // resize the cache when the lengthCalculator changes.\n  Object.defineProperty(this, \"lengthCalculator\",\n    { set : function (lC) {\n        if (typeof lC !== \"function\") {\n          lengthCalculator = naiveLength\n          length = itemCount\n          for (var key in cache) {\n            cache[key].length = 1\n          }\n        } else {\n          lengthCalculator = lC\n          length = 0\n          for (var key in cache) {\n            cache[key].length = lengthCalculator(cache[key].value)\n            length += cache[key].length\n          }\n        }\n\n        if (length > max) trim()\n      }\n    , get : function () { return lengthCalculator }\n    , enumerable : true\n    })\n\n  Object.defineProperty(this, \"length\",\n    { get : function () { return length }\n    , enumerable : true\n    })\n\n\n  Object.defineProperty(this, \"itemCount\",\n    { get : function () { return itemCount }\n    , enumerable : true\n    })\n\n  this.forEach = function (fn, thisp) {\n    thisp = thisp || this\n    var i = 0;\n    for (var k = mru - 1; k >= 0 && i < itemCount; k--) if (lruList[k]) {\n      i++\n      var hit = lruList[k]\n      fn.call(thisp, hit.value, hit.key, this)\n    }\n  }\n\n  this.keys = function () {\n    var keys = new Array(itemCount)\n    var i = 0\n    for (var k = mru - 1; k >= 0 && i < itemCount; k--) if (lruList[k]) {\n      var hit = lruList[k]\n      keys[i++] = hit.key\n    }\n    return keys\n  }\n\n  this.values = function () {\n    var values = new Array(itemCount)\n    var i = 0\n    for (var k = mru - 1; k >= 0 && i < itemCount; k--) if (lruList[k]) {\n      var hit = lruList[k]\n      values[i++] = hit.value\n    }\n    return values\n  }\n\n  this.reset = function () {\n    if (dispose) {\n      for (var k in cache) {\n        dispose(k, cache[k].value)\n      }\n    }\n    cache = {}\n    lruList = {}\n    lru = 0\n    mru = 0\n    length = 0\n    itemCount = 0\n  }\n\n  // Provided for debugging/dev purposes only. No promises whatsoever that\n  // this API stays stable.\n  this.dump = function () {\n    return cache\n  }\n\n  this.dumpLru = function () {\n    return lruList\n  }\n\n  this.set = function (key, value) {\n    if (hOP(cache, key)) {\n      // dispose of the old one before overwriting\n      if (dispose) dispose(key, cache[key].value)\n      if (maxAge) cache[key].now = Date.now()\n      cache[key].value = value\n      this.get(key)\n      return true\n    }\n\n    var len = lengthCalculator(value)\n    var age = maxAge ? Date.now() : 0\n    var hit = new Entry(key, value, mru++, len, age)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > max) {\n      if (dispose) dispose(key, value)\n      return false\n    }\n\n    length += hit.length\n    lruList[hit.lu] = cache[key] = hit\n    itemCount ++\n\n    if (length > max) trim()\n    return true\n  }\n\n  this.has = function (key) {\n    if (!hOP(cache, key)) return false\n    var hit = cache[key]\n    if (maxAge && (Date.now() - hit.now > maxAge)) {\n      return false\n    }\n    return true\n  }\n\n  this.get = function (key) {\n    if (!hOP(cache, key)) return\n    var hit = cache[key]\n    if (maxAge && (Date.now() - hit.now > maxAge)) {\n      this.del(key)\n      return allowStale ? hit.value : undefined\n    }\n    shiftLU(hit)\n    hit.lu = mru ++\n    lruList[hit.lu] = hit\n    return hit.value\n  }\n\n  this.del = function (key) {\n    del(cache[key])\n  }\n\n  function trim () {\n    while (lru < mru && length > max)\n      del(lruList[lru])\n  }\n\n  function shiftLU(hit) {\n    delete lruList[ hit.lu ]\n    while (lru < mru && !lruList[lru]) lru ++\n  }\n\n  function del(hit) {\n    if (hit) {\n      if (dispose) dispose(hit.key, hit.value)\n      length -= hit.length\n      itemCount --\n      delete cache[ hit.key ]\n      shiftLU(hit)\n    }\n  }\n}\n\n// classy, since V8 prefers predictable objects.\nfunction Entry (key, value, mru, len, age) {\n  this.key = key\n  this.value = value\n  this.lu = mru\n  this.length = len\n  this.now = age\n}\n\n})()\n","var SourceMapConsumer = require('source-map').SourceMapConsumer;\nvar path = require('path');\nvar fs = require('fs');\nvar bufferFrom = require('buffer-from');\n\n/**\n * Uses Node source-map to map transpiled JS stack locations to original\n * source file locations.\n *\n * The default behavior uses source map comments in the transpiled files\n * to identify the path of source maps. A later enhancement can allow\n * source map paths to be passed in by the caller.\n *\n * These functions are based on https://github.com/evanw/node-source-map-support/blob/master/source-map-support.js\n * simplified to target Node only, and optimized for Rollbar configuration scenarios.\n */\n\n// Maps a file path to a string containing the file contents\nvar fileContentsCache = {};\n\n// Maps a file path to a source map for that file\nvar sourceMapCache = {};\n\n// Regex for detecting source maps\nvar reSourceMap = /^data:application\\/json[^,]+base64,/;\n\nfunction retrieveFile(path) {\n  // Trim the path to make sure there is no extra whitespace.\n  path = path.trim();\n  if (/^file:/.test(path)) {\n    // existsSync/readFileSync can't handle file protocol, but once stripped, it works\n    path = path.replace(/file:\\/\\/\\/(\\w:)?/, function(_protocol, drive) {\n      return drive ?\n        '' : // file:///C:/dir/file -> C:/dir/file\n        '/'; // file:///root-dir/file -> /root-dir/file\n    });\n  }\n  if (path in fileContentsCache) {\n    return fileContentsCache[path];\n  }\n\n  var contents = '';\n  try {\n    if (fs.existsSync(path)) {\n      contents = fs.readFileSync(path, 'utf8');\n    }\n  } catch (er) {\n    /* ignore any errors */\n  }\n\n  return fileContentsCache[path] = contents;\n}\n\n// Support URLs relative to a directory, but be careful about a protocol prefix\n// in case we are in the browser (i.e. directories may start with \"http://\" or \"file:///\")\nfunction supportRelativeURL(file, url) {\n  if (!file) return url;\n  var dir = path.dirname(file);\n  var match = /^\\w+:\\/\\/[^\\/]*/.exec(dir);\n  var protocol = match ? match[0] : '';\n  var startPath = dir.slice(protocol.length);\n  if (protocol && /^\\/\\w\\:/.test(startPath)) {\n    // handle file:///C:/ paths\n    protocol += '/';\n    return protocol + path.resolve(dir.slice(protocol.length), url).replace(/\\\\/g, '/');\n  }\n  return protocol + path.resolve(dir.slice(protocol.length), url);\n}\n\nfunction retrieveSourceMapURL(source) {\n  var fileData;\n\n  // Get the URL of the source map\n  fileData = retrieveFile(source);\n  var re = /(?:\\/\\/[@#][ \\t]+sourceMappingURL=([^\\s'\"]+?)[ \\t]*$)|(?:\\/\\*[@#][ \\t]+sourceMappingURL=([^\\*]+?)[ \\t]*(?:\\*\\/)[ \\t]*$)/mg;\n  // Keep executing the search to find the *last* sourceMappingURL to avoid\n  // picking up sourceMappingURLs from comments, strings, etc.\n  var lastMatch, match;\n  while ((match = re.exec(fileData))) lastMatch = match;\n  if (!lastMatch) return null;\n  return lastMatch[1];\n}\n\n// Takes a generated source filename; returns a {map, optional url} object, or null if\n// there is no source map.  The map field may be either a string or the parsed\n// JSON object (ie, it must be a valid argument to the SourceMapConsumer\n// constructor).\nfunction retrieveSourceMap(source) {\n  var sourceMappingURL = retrieveSourceMapURL(source);\n  if (!sourceMappingURL) return null;\n\n  // Read the contents of the source map\n  var sourceMapData;\n  if (reSourceMap.test(sourceMappingURL)) {\n    // Support source map URL as a data url\n    var rawData = sourceMappingURL.slice(sourceMappingURL.indexOf(',') + 1);\n    sourceMapData = bufferFrom(rawData, 'base64').toString();\n    sourceMappingURL = source;\n  } else {\n    // Support source map URLs relative to the source URL\n    sourceMappingURL = supportRelativeURL(source, sourceMappingURL);\n    sourceMapData = retrieveFile(sourceMappingURL);\n  }\n\n  if (!sourceMapData) {\n    return null;\n  }\n\n  return {\n    url: sourceMappingURL,\n    map: sourceMapData\n  };\n}\n\nexports.mapSourcePosition = function mapSourcePosition(position, diagnostic) {\n  var sourceMap = sourceMapCache[position.source];\n  if (!sourceMap) {\n    // Call the (overrideable) retrieveSourceMap function to get the source map.\n    var urlAndMap = retrieveSourceMap(position.source);\n    if (urlAndMap) {\n      sourceMap = sourceMapCache[position.source] = {\n        url: urlAndMap.url,\n        map: new SourceMapConsumer(urlAndMap.map)\n      };\n      diagnostic.node_source_maps.source_mapping_urls[position.source] = urlAndMap.url;\n\n      // Load all sources stored inline with the source map into the file cache\n      // to pretend like they are already loaded. They may not exist on disk.\n      if (sourceMap.map.sourcesContent) {\n        sourceMap.map.sources.forEach(function(source, i) {\n          var contents = sourceMap.map.sourcesContent[i];\n          if (contents) {\n            var url = supportRelativeURL(sourceMap.url, source);\n            fileContentsCache[url] = contents;\n          }\n        });\n      }\n    } else {\n      sourceMap = sourceMapCache[position.source] = {\n        url: null,\n        map: null\n      };\n      diagnostic.node_source_maps.source_mapping_urls[position.source] = 'not found';\n    }\n  }\n\n  // Resolve the source URL relative to the URL of the source map\n  if (sourceMap && sourceMap.map && typeof sourceMap.map.originalPositionFor === 'function') {\n    var originalPosition = sourceMap.map.originalPositionFor(position);\n\n    // Only return the original position if a matching line was found. If no\n    // matching line is found then we return position instead, which will cause\n    // the stack trace to print the path and line for the compiled file. It is\n    // better to give a precise location in the compiled file than a vague\n    // location in the original file.\n    if (originalPosition.source !== null) {\n      originalPosition.source = supportRelativeURL(\n        sourceMap.url, originalPosition.source);\n      return originalPosition;\n    }\n  }\n\n  return position;\n}\n","/*\n * Copyright 2009-2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE.txt or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nexports.SourceMapGenerator = require('./lib/source-map-generator').SourceMapGenerator;\nexports.SourceMapConsumer = require('./lib/source-map-consumer').SourceMapConsumer;\nexports.SourceNode = require('./lib/source-node').SourceNode;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\n\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  var lineA = mappingA.generatedLine;\n  var lineB = mappingB.generatedLine;\n  var columnA = mappingA.generatedColumn;\n  var columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA ||\n         util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a neglibable overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\nfunction MappingList() {\n  this._array = [];\n  this._sorted = true;\n  // Serves as infimum\n  this._last = {generatedLine: -1, generatedColumn: 0};\n}\n\n/**\n * Iterate through internal items. This method takes the same arguments that\n * `Array.prototype.forEach` takes.\n *\n * NOTE: The order of the mappings is NOT guaranteed.\n */\nMappingList.prototype.unsortedForEach =\n  function MappingList_forEach(aCallback, aThisArg) {\n    this._array.forEach(aCallback, aThisArg);\n  };\n\n/**\n * Add the given source mapping.\n *\n * @param Object aMapping\n */\nMappingList.prototype.add = function MappingList_add(aMapping) {\n  if (generatedPositionAfter(this._last, aMapping)) {\n    this._last = aMapping;\n    this._array.push(aMapping);\n  } else {\n    this._sorted = false;\n    this._array.push(aMapping);\n  }\n};\n\n/**\n * Returns the flat, sorted array of mappings. The mappings are sorted by\n * generated position.\n *\n * WARNING: This method returns internal data without copying, for\n * performance. The return value must NOT be mutated, and should be treated as\n * an immutable borrow. If you want to take ownership, you must make your own\n * copy.\n */\nMappingList.prototype.toArray = function MappingList_toArray() {\n  if (!this._sorted) {\n    this._array.sort(util.compareByGeneratedPositionsInflated);\n    this._sorted = true;\n  }\n  return this._array;\n};\n\nexports.MappingList = MappingList;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar binarySearch = require('./binary-search');\nvar ArraySet = require('./array-set').ArraySet;\nvar base64VLQ = require('./base64-vlq');\nvar quickSort = require('./quick-sort').quickSort;\n\nfunction SourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  return sourceMap.sections != null\n    ? new IndexedSourceMapConsumer(sourceMap)\n    : new BasicSourceMapConsumer(sourceMap);\n}\n\nSourceMapConsumer.fromSourceMap = function(aSourceMap) {\n  return BasicSourceMapConsumer.fromSourceMap(aSourceMap);\n}\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nSourceMapConsumer.prototype._version = 3;\n\n// `__generatedMappings` and `__originalMappings` are arrays that hold the\n// parsed mapping coordinates from the source map's \"mappings\" attribute. They\n// are lazily instantiated, accessed via the `_generatedMappings` and\n// `_originalMappings` getters respectively, and we only parse the mappings\n// and create these arrays once queried for a source location. We jump through\n// these hoops because there can be many thousands of mappings, and parsing\n// them is expensive, so we only want to do it if we must.\n//\n// Each object in the arrays is of the form:\n//\n//     {\n//       generatedLine: The line number in the generated code,\n//       generatedColumn: The column number in the generated code,\n//       source: The path to the original source file that generated this\n//               chunk of code,\n//       originalLine: The line number in the original source that\n//                     corresponds to this chunk of generated code,\n//       originalColumn: The column number in the original source that\n//                       corresponds to this chunk of generated code,\n//       name: The name of the original symbol which generated this chunk of\n//             code.\n//     }\n//\n// All properties except for `generatedLine` and `generatedColumn` can be\n// `null`.\n//\n// `_generatedMappings` is ordered by the generated positions.\n//\n// `_originalMappings` is ordered by the original positions.\n\nSourceMapConsumer.prototype.__generatedMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {\n  get: function () {\n    if (!this.__generatedMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__generatedMappings;\n  }\n});\n\nSourceMapConsumer.prototype.__originalMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {\n  get: function () {\n    if (!this.__originalMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__originalMappings;\n  }\n});\n\nSourceMapConsumer.prototype._charIsMappingSeparator =\n  function SourceMapConsumer_charIsMappingSeparator(aStr, index) {\n    var c = aStr.charAt(index);\n    return c === \";\" || c === \",\";\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    throw new Error(\"Subclasses must implement _parseMappings\");\n  };\n\nSourceMapConsumer.GENERATED_ORDER = 1;\nSourceMapConsumer.ORIGINAL_ORDER = 2;\n\nSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\nSourceMapConsumer.LEAST_UPPER_BOUND = 2;\n\n/**\n * Iterate over each mapping between an original source/line/column and a\n * generated line/column in this source map.\n *\n * @param Function aCallback\n *        The function that is called with each mapping.\n * @param Object aContext\n *        Optional. If specified, this object will be the value of `this` every\n *        time that `aCallback` is called.\n * @param aOrder\n *        Either `SourceMapConsumer.GENERATED_ORDER` or\n *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\n *        iterate over the mappings sorted by the generated file's line/column\n *        order or the original's source/line/column order, respectively. Defaults to\n *        `SourceMapConsumer.GENERATED_ORDER`.\n */\nSourceMapConsumer.prototype.eachMapping =\n  function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {\n    var context = aContext || null;\n    var order = aOrder || SourceMapConsumer.GENERATED_ORDER;\n\n    var mappings;\n    switch (order) {\n    case SourceMapConsumer.GENERATED_ORDER:\n      mappings = this._generatedMappings;\n      break;\n    case SourceMapConsumer.ORIGINAL_ORDER:\n      mappings = this._originalMappings;\n      break;\n    default:\n      throw new Error(\"Unknown order of iteration.\");\n    }\n\n    var sourceRoot = this.sourceRoot;\n    mappings.map(function (mapping) {\n      var source = mapping.source === null ? null : this._sources.at(mapping.source);\n      if (source != null && sourceRoot != null) {\n        source = util.join(sourceRoot, source);\n      }\n      return {\n        source: source,\n        generatedLine: mapping.generatedLine,\n        generatedColumn: mapping.generatedColumn,\n        originalLine: mapping.originalLine,\n        originalColumn: mapping.originalColumn,\n        name: mapping.name === null ? null : this._names.at(mapping.name)\n      };\n    }, this).forEach(aCallback, context);\n  };\n\n/**\n * Returns all generated line and column information for the original source,\n * line, and column provided. If no column is provided, returns all mappings\n * corresponding to a either the line we are searching for or the next\n * closest line that has any mappings. Otherwise, returns all mappings\n * corresponding to the given line and either the column we are searching for\n * or the next closest column that has any offsets.\n *\n * The only argument is an object with the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: Optional. the column number in the original source.\n *\n * and an array of objects is returned, each with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\nSourceMapConsumer.prototype.allGeneratedPositionsFor =\n  function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {\n    var line = util.getArg(aArgs, 'line');\n\n    // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\n    // returns the index of the closest mapping less than the needle. By\n    // setting needle.originalColumn to 0, we thus find the last mapping for\n    // the given line, provided such a mapping exists.\n    var needle = {\n      source: util.getArg(aArgs, 'source'),\n      originalLine: line,\n      originalColumn: util.getArg(aArgs, 'column', 0)\n    };\n\n    if (this.sourceRoot != null) {\n      needle.source = util.relative(this.sourceRoot, needle.source);\n    }\n    if (!this._sources.has(needle.source)) {\n      return [];\n    }\n    needle.source = this._sources.indexOf(needle.source);\n\n    var mappings = [];\n\n    var index = this._findMapping(needle,\n                                  this._originalMappings,\n                                  \"originalLine\",\n                                  \"originalColumn\",\n                                  util.compareByOriginalPositions,\n                                  binarySearch.LEAST_UPPER_BOUND);\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (aArgs.column === undefined) {\n        var originalLine = mapping.originalLine;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we found. Since\n        // mappings are sorted, this is guaranteed to find all mappings for\n        // the line we found.\n        while (mapping && mapping.originalLine === originalLine) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      } else {\n        var originalColumn = mapping.originalColumn;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we were searching for.\n        // Since mappings are sorted, this is guaranteed to find all mappings for\n        // the line we are searching for.\n        while (mapping &&\n               mapping.originalLine === line &&\n               mapping.originalColumn == originalColumn) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      }\n    }\n\n    return mappings;\n  };\n\nexports.SourceMapConsumer = SourceMapConsumer;\n\n/**\n * A BasicSourceMapConsumer instance represents a parsed source map which we can\n * query for information about the original file positions by giving it a file\n * position in the generated source.\n *\n * The only parameter is the raw source map (either as a JSON string, or\n * already parsed to an object). According to the spec, source maps have the\n * following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - sources: An array of URLs to the original source files.\n *   - names: An array of identifiers which can be referrenced by individual mappings.\n *   - sourceRoot: Optional. The URL root from which all sources are relative.\n *   - sourcesContent: Optional. An array of contents of the original source files.\n *   - mappings: A string of base64 VLQs which contain the actual mappings.\n *   - file: Optional. The generated file this source map is associated with.\n *\n * Here is an example source map, taken from the source map spec[0]:\n *\n *     {\n *       version : 3,\n *       file: \"out.js\",\n *       sourceRoot : \"\",\n *       sources: [\"foo.js\", \"bar.js\"],\n *       names: [\"src\", \"maps\", \"are\", \"fun\"],\n *       mappings: \"AA,AB;;ABCDE;\"\n *     }\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\n */\nfunction BasicSourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sources = util.getArg(sourceMap, 'sources');\n  // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\n  // requires the array) to play nice here.\n  var names = util.getArg(sourceMap, 'names', []);\n  var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);\n  var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);\n  var mappings = util.getArg(sourceMap, 'mappings');\n  var file = util.getArg(sourceMap, 'file', null);\n\n  // Once again, Sass deviates from the spec and supplies the version as a\n  // string rather than a number, so we use loose equality checking here.\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  sources = sources\n    .map(String)\n    // Some source maps produce relative source paths like \"./foo.js\" instead of\n    // \"foo.js\".  Normalize these first so that future comparisons will succeed.\n    // See bugzil.la/1090768.\n    .map(util.normalize)\n    // Always ensure that absolute sources are internally stored relative to\n    // the source root, if the source root is absolute. Not doing this would\n    // be particularly problematic when the source root is a prefix of the\n    // source (valid, but why??). See github issue #199 and bugzil.la/1188982.\n    .map(function (source) {\n      return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source)\n        ? util.relative(sourceRoot, source)\n        : source;\n    });\n\n  // Pass `true` below to allow duplicate names and sources. While source maps\n  // are intended to be compressed and deduplicated, the TypeScript compiler\n  // sometimes generates source maps with duplicates in them. See Github issue\n  // #72 and bugzil.la/889492.\n  this._names = ArraySet.fromArray(names.map(String), true);\n  this._sources = ArraySet.fromArray(sources, true);\n\n  this.sourceRoot = sourceRoot;\n  this.sourcesContent = sourcesContent;\n  this._mappings = mappings;\n  this.file = file;\n}\n\nBasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\n\n/**\n * Create a BasicSourceMapConsumer from a SourceMapGenerator.\n *\n * @param SourceMapGenerator aSourceMap\n *        The source map that will be consumed.\n * @returns BasicSourceMapConsumer\n */\nBasicSourceMapConsumer.fromSourceMap =\n  function SourceMapConsumer_fromSourceMap(aSourceMap) {\n    var smc = Object.create(BasicSourceMapConsumer.prototype);\n\n    var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);\n    var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);\n    smc.sourceRoot = aSourceMap._sourceRoot;\n    smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),\n                                                            smc.sourceRoot);\n    smc.file = aSourceMap._file;\n\n    // Because we are modifying the entries (by converting string sources and\n    // names to indices into the sources and names ArraySets), we have to make\n    // a copy of the entry or else bad things happen. Shared mutable state\n    // strikes again! See github issue #191.\n\n    var generatedMappings = aSourceMap._mappings.toArray().slice();\n    var destGeneratedMappings = smc.__generatedMappings = [];\n    var destOriginalMappings = smc.__originalMappings = [];\n\n    for (var i = 0, length = generatedMappings.length; i < length; i++) {\n      var srcMapping = generatedMappings[i];\n      var destMapping = new Mapping;\n      destMapping.generatedLine = srcMapping.generatedLine;\n      destMapping.generatedColumn = srcMapping.generatedColumn;\n\n      if (srcMapping.source) {\n        destMapping.source = sources.indexOf(srcMapping.source);\n        destMapping.originalLine = srcMapping.originalLine;\n        destMapping.originalColumn = srcMapping.originalColumn;\n\n        if (srcMapping.name) {\n          destMapping.name = names.indexOf(srcMapping.name);\n        }\n\n        destOriginalMappings.push(destMapping);\n      }\n\n      destGeneratedMappings.push(destMapping);\n    }\n\n    quickSort(smc.__originalMappings, util.compareByOriginalPositions);\n\n    return smc;\n  };\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nBasicSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    return this._sources.toArray().map(function (s) {\n      return this.sourceRoot != null ? util.join(this.sourceRoot, s) : s;\n    }, this);\n  }\n});\n\n/**\n * Provide the JIT with a nice shape / hidden class.\n */\nfunction Mapping() {\n  this.generatedLine = 0;\n  this.generatedColumn = 0;\n  this.source = null;\n  this.originalLine = null;\n  this.originalColumn = null;\n  this.name = null;\n}\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nBasicSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    var generatedLine = 1;\n    var previousGeneratedColumn = 0;\n    var previousOriginalLine = 0;\n    var previousOriginalColumn = 0;\n    var previousSource = 0;\n    var previousName = 0;\n    var length = aStr.length;\n    var index = 0;\n    var cachedSegments = {};\n    var temp = {};\n    var originalMappings = [];\n    var generatedMappings = [];\n    var mapping, str, segment, end, value;\n\n    while (index < length) {\n      if (aStr.charAt(index) === ';') {\n        generatedLine++;\n        index++;\n        previousGeneratedColumn = 0;\n      }\n      else if (aStr.charAt(index) === ',') {\n        index++;\n      }\n      else {\n        mapping = new Mapping();\n        mapping.generatedLine = generatedLine;\n\n        // Because each offset is encoded relative to the previous one,\n        // many segments often have the same encoding. We can exploit this\n        // fact by caching the parsed variable length fields of each segment,\n        // allowing us to avoid a second parse if we encounter the same\n        // segment again.\n        for (end = index; end < length; end++) {\n          if (this._charIsMappingSeparator(aStr, end)) {\n            break;\n          }\n        }\n        str = aStr.slice(index, end);\n\n        segment = cachedSegments[str];\n        if (segment) {\n          index += str.length;\n        } else {\n          segment = [];\n          while (index < end) {\n            base64VLQ.decode(aStr, index, temp);\n            value = temp.value;\n            index = temp.rest;\n            segment.push(value);\n          }\n\n          if (segment.length === 2) {\n            throw new Error('Found a source, but no line and column');\n          }\n\n          if (segment.length === 3) {\n            throw new Error('Found a source and line, but no column');\n          }\n\n          cachedSegments[str] = segment;\n        }\n\n        // Generated column.\n        mapping.generatedColumn = previousGeneratedColumn + segment[0];\n        previousGeneratedColumn = mapping.generatedColumn;\n\n        if (segment.length > 1) {\n          // Original source.\n          mapping.source = previousSource + segment[1];\n          previousSource += segment[1];\n\n          // Original line.\n          mapping.originalLine = previousOriginalLine + segment[2];\n          previousOriginalLine = mapping.originalLine;\n          // Lines are stored 0-based\n          mapping.originalLine += 1;\n\n          // Original column.\n          mapping.originalColumn = previousOriginalColumn + segment[3];\n          previousOriginalColumn = mapping.originalColumn;\n\n          if (segment.length > 4) {\n            // Original name.\n            mapping.name = previousName + segment[4];\n            previousName += segment[4];\n          }\n        }\n\n        generatedMappings.push(mapping);\n        if (typeof mapping.originalLine === 'number') {\n          originalMappings.push(mapping);\n        }\n      }\n    }\n\n    quickSort(generatedMappings, util.compareByGeneratedPositionsDeflated);\n    this.__generatedMappings = generatedMappings;\n\n    quickSort(originalMappings, util.compareByOriginalPositions);\n    this.__originalMappings = originalMappings;\n  };\n\n/**\n * Find the mapping that best matches the hypothetical \"needle\" mapping that\n * we are searching for in the given \"haystack\" of mappings.\n */\nBasicSourceMapConsumer.prototype._findMapping =\n  function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,\n                                         aColumnName, aComparator, aBias) {\n    // To return the position we are searching for, we must first find the\n    // mapping for the given position and then return the opposite position it\n    // points to. Because the mappings are sorted, we can use binary search to\n    // find the best mapping.\n\n    if (aNeedle[aLineName] <= 0) {\n      throw new TypeError('Line must be greater than or equal to 1, got '\n                          + aNeedle[aLineName]);\n    }\n    if (aNeedle[aColumnName] < 0) {\n      throw new TypeError('Column must be greater than or equal to 0, got '\n                          + aNeedle[aColumnName]);\n    }\n\n    return binarySearch.search(aNeedle, aMappings, aComparator, aBias);\n  };\n\n/**\n * Compute the last column for each generated mapping. The last column is\n * inclusive.\n */\nBasicSourceMapConsumer.prototype.computeColumnSpans =\n  function SourceMapConsumer_computeColumnSpans() {\n    for (var index = 0; index < this._generatedMappings.length; ++index) {\n      var mapping = this._generatedMappings[index];\n\n      // Mappings do not contain a field for the last generated columnt. We\n      // can come up with an optimistic estimate, however, by assuming that\n      // mappings are contiguous (i.e. given two consecutive mappings, the\n      // first mapping ends where the second one starts).\n      if (index + 1 < this._generatedMappings.length) {\n        var nextMapping = this._generatedMappings[index + 1];\n\n        if (mapping.generatedLine === nextMapping.generatedLine) {\n          mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;\n          continue;\n        }\n      }\n\n      // The last mapping for each line spans the entire line.\n      mapping.lastGeneratedColumn = Infinity;\n    }\n  };\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.\n *   - column: The column number in the generated source.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.\n *   - column: The column number in the original source, or null.\n *   - name: The original identifier, or null.\n */\nBasicSourceMapConsumer.prototype.originalPositionFor =\n  function SourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._generatedMappings,\n      \"generatedLine\",\n      \"generatedColumn\",\n      util.compareByGeneratedPositionsDeflated,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._generatedMappings[index];\n\n      if (mapping.generatedLine === needle.generatedLine) {\n        var source = util.getArg(mapping, 'source', null);\n        if (source !== null) {\n          source = this._sources.at(source);\n          if (this.sourceRoot != null) {\n            source = util.join(this.sourceRoot, source);\n          }\n        }\n        var name = util.getArg(mapping, 'name', null);\n        if (name !== null) {\n          name = this._names.at(name);\n        }\n        return {\n          source: source,\n          line: util.getArg(mapping, 'originalLine', null),\n          column: util.getArg(mapping, 'originalColumn', null),\n          name: name\n        };\n      }\n    }\n\n    return {\n      source: null,\n      line: null,\n      column: null,\n      name: null\n    };\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nBasicSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function BasicSourceMapConsumer_hasContentsOfAllSources() {\n    if (!this.sourcesContent) {\n      return false;\n    }\n    return this.sourcesContent.length >= this._sources.size() &&\n      !this.sourcesContent.some(function (sc) { return sc == null; });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nBasicSourceMapConsumer.prototype.sourceContentFor =\n  function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    if (!this.sourcesContent) {\n      return null;\n    }\n\n    if (this.sourceRoot != null) {\n      aSource = util.relative(this.sourceRoot, aSource);\n    }\n\n    if (this._sources.has(aSource)) {\n      return this.sourcesContent[this._sources.indexOf(aSource)];\n    }\n\n    var url;\n    if (this.sourceRoot != null\n        && (url = util.urlParse(this.sourceRoot))) {\n      // XXX: file:// URIs and absolute paths lead to unexpected behavior for\n      // many users. We can help them out when they expect file:// URIs to\n      // behave like it would if they were running a local HTTP server. See\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\n      var fileUriAbsPath = aSource.replace(/^file:\\/\\//, \"\");\n      if (url.scheme == \"file\"\n          && this._sources.has(fileUriAbsPath)) {\n        return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]\n      }\n\n      if ((!url.path || url.path == \"/\")\n          && this._sources.has(\"/\" + aSource)) {\n        return this.sourcesContent[this._sources.indexOf(\"/\" + aSource)];\n      }\n    }\n\n    // This function is used recursively from\n    // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\n    // don't want to throw if we can't find the source - we just want to\n    // return null, so we provide a flag to exit gracefully.\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: The column number in the original source.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\nBasicSourceMapConsumer.prototype.generatedPositionFor =\n  function SourceMapConsumer_generatedPositionFor(aArgs) {\n    var source = util.getArg(aArgs, 'source');\n    if (this.sourceRoot != null) {\n      source = util.relative(this.sourceRoot, source);\n    }\n    if (!this._sources.has(source)) {\n      return {\n        line: null,\n        column: null,\n        lastColumn: null\n      };\n    }\n    source = this._sources.indexOf(source);\n\n    var needle = {\n      source: source,\n      originalLine: util.getArg(aArgs, 'line'),\n      originalColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._originalMappings,\n      \"originalLine\",\n      \"originalColumn\",\n      util.compareByOriginalPositions,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (mapping.source === needle.source) {\n        return {\n          line: util.getArg(mapping, 'generatedLine', null),\n          column: util.getArg(mapping, 'generatedColumn', null),\n          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n        };\n      }\n    }\n\n    return {\n      line: null,\n      column: null,\n      lastColumn: null\n    };\n  };\n\nexports.BasicSourceMapConsumer = BasicSourceMapConsumer;\n\n/**\n * An IndexedSourceMapConsumer instance represents a parsed source map which\n * we can query for information. It differs from BasicSourceMapConsumer in\n * that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\n * input.\n *\n * The only parameter is a raw source map (either as a JSON string, or already\n * parsed to an object). According to the spec for indexed source maps, they\n * have the following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - file: Optional. The generated file this source map is associated with.\n *   - sections: A list of section definitions.\n *\n * Each value under the \"sections\" field has two fields:\n *   - offset: The offset into the original specified at which this section\n *       begins to apply, defined as an object with a \"line\" and \"column\"\n *       field.\n *   - map: A source map definition. This source map could also be indexed,\n *       but doesn't have to be.\n *\n * Instead of the \"map\" field, it's also possible to have a \"url\" field\n * specifying a URL to retrieve a source map from, but that's currently\n * unsupported.\n *\n * Here's an example source map, taken from the source map spec[0], but\n * modified to omit a section which uses the \"url\" field.\n *\n *  {\n *    version : 3,\n *    file: \"app.js\",\n *    sections: [{\n *      offset: {line:100, column:10},\n *      map: {\n *        version : 3,\n *        file: \"section.js\",\n *        sources: [\"foo.js\", \"bar.js\"],\n *        names: [\"src\", \"maps\", \"are\", \"fun\"],\n *        mappings: \"AAAA,E;;ABCDE;\"\n *      }\n *    }],\n *  }\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\n */\nfunction IndexedSourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sections = util.getArg(sourceMap, 'sections');\n\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n\n  var lastOffset = {\n    line: -1,\n    column: 0\n  };\n  this._sections = sections.map(function (s) {\n    if (s.url) {\n      // The url field will require support for asynchronicity.\n      // See https://github.com/mozilla/source-map/issues/16\n      throw new Error('Support for url field in sections not implemented.');\n    }\n    var offset = util.getArg(s, 'offset');\n    var offsetLine = util.getArg(offset, 'line');\n    var offsetColumn = util.getArg(offset, 'column');\n\n    if (offsetLine < lastOffset.line ||\n        (offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {\n      throw new Error('Section offsets must be ordered and non-overlapping.');\n    }\n    lastOffset = offset;\n\n    return {\n      generatedOffset: {\n        // The offset fields are 0-based, but we use 1-based indices when\n        // encoding/decoding from VLQ.\n        generatedLine: offsetLine + 1,\n        generatedColumn: offsetColumn + 1\n      },\n      consumer: new SourceMapConsumer(util.getArg(s, 'map'))\n    }\n  });\n}\n\nIndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nIndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nIndexedSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    var sources = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {\n        sources.push(this._sections[i].consumer.sources[j]);\n      }\n    }\n    return sources;\n  }\n});\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.\n *   - column: The column number in the generated source.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.\n *   - column: The column number in the original source, or null.\n *   - name: The original identifier, or null.\n */\nIndexedSourceMapConsumer.prototype.originalPositionFor =\n  function IndexedSourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    // Find the section containing the generated position we're trying to map\n    // to an original position.\n    var sectionIndex = binarySearch.search(needle, this._sections,\n      function(needle, section) {\n        var cmp = needle.generatedLine - section.generatedOffset.generatedLine;\n        if (cmp) {\n          return cmp;\n        }\n\n        return (needle.generatedColumn -\n                section.generatedOffset.generatedColumn);\n      });\n    var section = this._sections[sectionIndex];\n\n    if (!section) {\n      return {\n        source: null,\n        line: null,\n        column: null,\n        name: null\n      };\n    }\n\n    return section.consumer.originalPositionFor({\n      line: needle.generatedLine -\n        (section.generatedOffset.generatedLine - 1),\n      column: needle.generatedColumn -\n        (section.generatedOffset.generatedLine === needle.generatedLine\n         ? section.generatedOffset.generatedColumn - 1\n         : 0),\n      bias: aArgs.bias\n    });\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nIndexedSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function IndexedSourceMapConsumer_hasContentsOfAllSources() {\n    return this._sections.every(function (s) {\n      return s.consumer.hasContentsOfAllSources();\n    });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nIndexedSourceMapConsumer.prototype.sourceContentFor =\n  function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      var content = section.consumer.sourceContentFor(aSource, true);\n      if (content) {\n        return content;\n      }\n    }\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: The column number in the original source.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\nIndexedSourceMapConsumer.prototype.generatedPositionFor =\n  function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      // Only consider this section if the requested source is in the list of\n      // sources of the consumer.\n      if (section.consumer.sources.indexOf(util.getArg(aArgs, 'source')) === -1) {\n        continue;\n      }\n      var generatedPosition = section.consumer.generatedPositionFor(aArgs);\n      if (generatedPosition) {\n        var ret = {\n          line: generatedPosition.line +\n            (section.generatedOffset.generatedLine - 1),\n          column: generatedPosition.column +\n            (section.generatedOffset.generatedLine === generatedPosition.line\n             ? section.generatedOffset.generatedColumn - 1\n             : 0)\n        };\n        return ret;\n      }\n    }\n\n    return {\n      line: null,\n      column: null\n    };\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nIndexedSourceMapConsumer.prototype._parseMappings =\n  function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    this.__generatedMappings = [];\n    this.__originalMappings = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n      var sectionMappings = section.consumer._generatedMappings;\n      for (var j = 0; j < sectionMappings.length; j++) {\n        var mapping = sectionMappings[j];\n\n        var source = section.consumer._sources.at(mapping.source);\n        if (section.consumer.sourceRoot !== null) {\n          source = util.join(section.consumer.sourceRoot, source);\n        }\n        this._sources.add(source);\n        source = this._sources.indexOf(source);\n\n        var name = section.consumer._names.at(mapping.name);\n        this._names.add(name);\n        name = this._names.indexOf(name);\n\n        // The mappings coming from the consumer for the section have\n        // generated positions relative to the start of the section, so we\n        // need to offset them to be relative to the start of the concatenated\n        // generated file.\n        var adjustedMapping = {\n          source: source,\n          generatedLine: mapping.generatedLine +\n            (section.generatedOffset.generatedLine - 1),\n          generatedColumn: mapping.generatedColumn +\n            (section.generatedOffset.generatedLine === mapping.generatedLine\n            ? section.generatedOffset.generatedColumn - 1\n            : 0),\n          originalLine: mapping.originalLine,\n          originalColumn: mapping.originalColumn,\n          name: name\n        };\n\n        this.__generatedMappings.push(adjustedMapping);\n        if (typeof adjustedMapping.originalLine === 'number') {\n          this.__originalMappings.push(adjustedMapping);\n        }\n      }\n    }\n\n    quickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);\n    quickSort(this.__originalMappings, util.compareByOriginalPositions);\n  };\n\nexports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nexports.GREATEST_LOWER_BOUND = 1;\nexports.LEAST_UPPER_BOUND = 2;\n\n/**\n * Recursive implementation of binary search.\n *\n * @param aLow Indices here and lower do not contain the needle.\n * @param aHigh Indices here and higher do not contain the needle.\n * @param aNeedle The element being searched for.\n * @param aHaystack The non-empty array being searched.\n * @param aCompare Function which takes two elements and returns -1, 0, or 1.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n */\nfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\n  // This function terminates when one of the following is true:\n  //\n  //   1. We find the exact element we are looking for.\n  //\n  //   2. We did not find the exact element, but we can return the index of\n  //      the next-closest element.\n  //\n  //   3. We did not find the exact element, and there is no next-closest\n  //      element than the one we are searching for, so we return -1.\n  var mid = Math.floor((aHigh - aLow) / 2) + aLow;\n  var cmp = aCompare(aNeedle, aHaystack[mid], true);\n  if (cmp === 0) {\n    // Found the element we are looking for.\n    return mid;\n  }\n  else if (cmp > 0) {\n    // Our needle is greater than aHaystack[mid].\n    if (aHigh - mid > 1) {\n      // The element is in the upper half.\n      return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // The exact needle element was not found in this haystack. Determine if\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return aHigh < aHaystack.length ? aHigh : -1;\n    } else {\n      return mid;\n    }\n  }\n  else {\n    // Our needle is less than aHaystack[mid].\n    if (mid - aLow > 1) {\n      // The element is in the lower half.\n      return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return mid;\n    } else {\n      return aLow < 0 ? -1 : aLow;\n    }\n  }\n}\n\n/**\n * This is an implementation of binary search which will always try and return\n * the index of the closest element if there is no exact hit. This is because\n * mappings between original and generated line/col pairs are single points,\n * and there is an implicit region between each of them, so a miss just means\n * that you aren't on the very start of a region.\n *\n * @param aNeedle The element you are looking for.\n * @param aHaystack The array that is being searched.\n * @param aCompare A function which takes the needle and an element in the\n *     array and returns -1, 0, or 1 depending on whether the needle is less\n *     than, equal to, or greater than the element, respectively.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\n */\nexports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\n  if (aHaystack.length === 0) {\n    return -1;\n  }\n\n  var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack,\n                              aCompare, aBias || exports.GREATEST_LOWER_BOUND);\n  if (index < 0) {\n    return -1;\n  }\n\n  // We have found either the exact element, or the next-closest element than\n  // the one we are searching for. However, there may be more than one such\n  // element. Make sure we always return the smallest of these.\n  while (index - 1 >= 0) {\n    if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\n      break;\n    }\n    --index;\n  }\n\n  return index;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n// It turns out that some (most?) JavaScript engines don't self-host\n// `Array.prototype.sort`. This makes sense because C++ will likely remain\n// faster than JS when doing raw CPU-intensive sorting. However, when using a\n// custom comparator function, calling back and forth between the VM's C++ and\n// JIT'd JS is rather slow *and* loses JIT type information, resulting in\n// worse generated code for the comparator function than would be optimal. In\n// fact, when sorting with a comparator, these costs outweigh the benefits of\n// sorting in C++. By using our own JS-implemented Quick Sort (below), we get\n// a ~3500ms mean speed-up in `bench/bench.html`.\n\n/**\n * Swap the elements indexed by `x` and `y` in the array `ary`.\n *\n * @param {Array} ary\n *        The array.\n * @param {Number} x\n *        The index of the first item.\n * @param {Number} y\n *        The index of the second item.\n */\nfunction swap(ary, x, y) {\n  var temp = ary[x];\n  ary[x] = ary[y];\n  ary[y] = temp;\n}\n\n/**\n * Returns a random integer within the range `low .. high` inclusive.\n *\n * @param {Number} low\n *        The lower bound on the range.\n * @param {Number} high\n *        The upper bound on the range.\n */\nfunction randomIntInRange(low, high) {\n  return Math.round(low + (Math.random() * (high - low)));\n}\n\n/**\n * The Quick Sort algorithm.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n * @param {Number} p\n *        Start index of the array\n * @param {Number} r\n *        End index of the array\n */\nfunction doQuickSort(ary, comparator, p, r) {\n  // If our lower bound is less than our upper bound, we (1) partition the\n  // array into two pieces and (2) recurse on each half. If it is not, this is\n  // the empty array and our base case.\n\n  if (p < r) {\n    // (1) Partitioning.\n    //\n    // The partitioning chooses a pivot between `p` and `r` and moves all\n    // elements that are less than or equal to the pivot to the before it, and\n    // all the elements that are greater than it after it. The effect is that\n    // once partition is done, the pivot is in the exact place it will be when\n    // the array is put in sorted order, and it will not need to be moved\n    // again. This runs in O(n) time.\n\n    // Always choose a random pivot so that an input array which is reverse\n    // sorted does not cause O(n^2) running time.\n    var pivotIndex = randomIntInRange(p, r);\n    var i = p - 1;\n\n    swap(ary, pivotIndex, r);\n    var pivot = ary[r];\n\n    // Immediately after `j` is incremented in this loop, the following hold\n    // true:\n    //\n    //   * Every element in `ary[p .. i]` is less than or equal to the pivot.\n    //\n    //   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.\n    for (var j = p; j < r; j++) {\n      if (comparator(ary[j], pivot) <= 0) {\n        i += 1;\n        swap(ary, i, j);\n      }\n    }\n\n    swap(ary, i + 1, j);\n    var q = i + 1;\n\n    // (2) Recurse on each half.\n\n    doQuickSort(ary, comparator, p, q - 1);\n    doQuickSort(ary, comparator, q + 1, r);\n  }\n}\n\n/**\n * Sort the given array in-place with the given comparator function.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n */\nexports.quickSort = function (ary, comparator) {\n  doQuickSort(ary, comparator, 0, ary.length - 1);\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar SourceMapGenerator = require('./source-map-generator').SourceMapGenerator;\nvar util = require('./util');\n\n// Matches a Windows-style `\\r\\n` newline or a `\\n` newline used by all other\n// operating systems these days (capturing the result).\nvar REGEX_NEWLINE = /(\\r?\\n)/;\n\n// Newline character code for charCodeAt() comparisons\nvar NEWLINE_CODE = 10;\n\n// Private symbol for identifying `SourceNode`s when multiple versions of\n// the source-map library are loaded. This MUST NOT CHANGE across\n// versions!\nvar isSourceNode = \"$$$isSourceNode$$$\";\n\n/**\n * SourceNodes provide a way to abstract over interpolating/concatenating\n * snippets of generated JavaScript source code while maintaining the line and\n * column information associated with the original source code.\n *\n * @param aLine The original line number.\n * @param aColumn The original column number.\n * @param aSource The original source's filename.\n * @param aChunks Optional. An array of strings which are snippets of\n *        generated JS, or other SourceNodes.\n * @param aName The original identifier.\n */\nfunction SourceNode(aLine, aColumn, aSource, aChunks, aName) {\n  this.children = [];\n  this.sourceContents = {};\n  this.line = aLine == null ? null : aLine;\n  this.column = aColumn == null ? null : aColumn;\n  this.source = aSource == null ? null : aSource;\n  this.name = aName == null ? null : aName;\n  this[isSourceNode] = true;\n  if (aChunks != null) this.add(aChunks);\n}\n\n/**\n * Creates a SourceNode from generated code and a SourceMapConsumer.\n *\n * @param aGeneratedCode The generated code\n * @param aSourceMapConsumer The SourceMap for the generated code\n * @param aRelativePath Optional. The path that relative sources in the\n *        SourceMapConsumer should be relative to.\n */\nSourceNode.fromStringWithSourceMap =\n  function SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {\n    // The SourceNode we want to fill with the generated code\n    // and the SourceMap\n    var node = new SourceNode();\n\n    // All even indices of this array are one line of the generated code,\n    // while all odd indices are the newlines between two adjacent lines\n    // (since `REGEX_NEWLINE` captures its match).\n    // Processed fragments are accessed by calling `shiftNextLine`.\n    var remainingLines = aGeneratedCode.split(REGEX_NEWLINE);\n    var remainingLinesIndex = 0;\n    var shiftNextLine = function() {\n      var lineContents = getNextLine();\n      // The last line of a file might not have a newline.\n      var newLine = getNextLine() || \"\";\n      return lineContents + newLine;\n\n      function getNextLine() {\n        return remainingLinesIndex < remainingLines.length ?\n            remainingLines[remainingLinesIndex++] : undefined;\n      }\n    };\n\n    // We need to remember the position of \"remainingLines\"\n    var lastGeneratedLine = 1, lastGeneratedColumn = 0;\n\n    // The generate SourceNodes we need a code range.\n    // To extract it current and last mapping is used.\n    // Here we store the last mapping.\n    var lastMapping = null;\n\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      if (lastMapping !== null) {\n        // We add the code from \"lastMapping\" to \"mapping\":\n        // First check if there is a new line in between.\n        if (lastGeneratedLine < mapping.generatedLine) {\n          // Associate first line with \"lastMapping\"\n          addMappingWithCode(lastMapping, shiftNextLine());\n          lastGeneratedLine++;\n          lastGeneratedColumn = 0;\n          // The remaining code is added without mapping\n        } else {\n          // There is no new line in between.\n          // Associate the code between \"lastGeneratedColumn\" and\n          // \"mapping.generatedColumn\" with \"lastMapping\"\n          var nextLine = remainingLines[remainingLinesIndex];\n          var code = nextLine.substr(0, mapping.generatedColumn -\n                                        lastGeneratedColumn);\n          remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn -\n                                              lastGeneratedColumn);\n          lastGeneratedColumn = mapping.generatedColumn;\n          addMappingWithCode(lastMapping, code);\n          // No more remaining code, continue\n          lastMapping = mapping;\n          return;\n        }\n      }\n      // We add the generated code until the first mapping\n      // to the SourceNode without any mapping.\n      // Each line is added as separate string.\n      while (lastGeneratedLine < mapping.generatedLine) {\n        node.add(shiftNextLine());\n        lastGeneratedLine++;\n      }\n      if (lastGeneratedColumn < mapping.generatedColumn) {\n        var nextLine = remainingLines[remainingLinesIndex];\n        node.add(nextLine.substr(0, mapping.generatedColumn));\n        remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn);\n        lastGeneratedColumn = mapping.generatedColumn;\n      }\n      lastMapping = mapping;\n    }, this);\n    // We have processed all mappings.\n    if (remainingLinesIndex < remainingLines.length) {\n      if (lastMapping) {\n        // Associate the remaining code in the current line with \"lastMapping\"\n        addMappingWithCode(lastMapping, shiftNextLine());\n      }\n      // and add the remaining lines without any mapping\n      node.add(remainingLines.splice(remainingLinesIndex).join(\"\"));\n    }\n\n    // Copy sourcesContent into SourceNode\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aRelativePath != null) {\n          sourceFile = util.join(aRelativePath, sourceFile);\n        }\n        node.setSourceContent(sourceFile, content);\n      }\n    });\n\n    return node;\n\n    function addMappingWithCode(mapping, code) {\n      if (mapping === null || mapping.source === undefined) {\n        node.add(code);\n      } else {\n        var source = aRelativePath\n          ? util.join(aRelativePath, mapping.source)\n          : mapping.source;\n        node.add(new SourceNode(mapping.originalLine,\n                                mapping.originalColumn,\n                                source,\n                                code,\n                                mapping.name));\n      }\n    }\n  };\n\n/**\n * Add a chunk of generated JS to this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\nSourceNode.prototype.add = function SourceNode_add(aChunk) {\n  if (Array.isArray(aChunk)) {\n    aChunk.forEach(function (chunk) {\n      this.add(chunk);\n    }, this);\n  }\n  else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    if (aChunk) {\n      this.children.push(aChunk);\n    }\n  }\n  else {\n    throw new TypeError(\n      \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n    );\n  }\n  return this;\n};\n\n/**\n * Add a chunk of generated JS to the beginning of this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\nSourceNode.prototype.prepend = function SourceNode_prepend(aChunk) {\n  if (Array.isArray(aChunk)) {\n    for (var i = aChunk.length-1; i >= 0; i--) {\n      this.prepend(aChunk[i]);\n    }\n  }\n  else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    this.children.unshift(aChunk);\n  }\n  else {\n    throw new TypeError(\n      \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n    );\n  }\n  return this;\n};\n\n/**\n * Walk over the tree of JS snippets in this node and its children. The\n * walking function is called once for each snippet of JS and is passed that\n * snippet and the its original associated source's line/column location.\n *\n * @param aFn The traversal function.\n */\nSourceNode.prototype.walk = function SourceNode_walk(aFn) {\n  var chunk;\n  for (var i = 0, len = this.children.length; i < len; i++) {\n    chunk = this.children[i];\n    if (chunk[isSourceNode]) {\n      chunk.walk(aFn);\n    }\n    else {\n      if (chunk !== '') {\n        aFn(chunk, { source: this.source,\n                     line: this.line,\n                     column: this.column,\n                     name: this.name });\n      }\n    }\n  }\n};\n\n/**\n * Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between\n * each of `this.children`.\n *\n * @param aSep The separator.\n */\nSourceNode.prototype.join = function SourceNode_join(aSep) {\n  var newChildren;\n  var i;\n  var len = this.children.length;\n  if (len > 0) {\n    newChildren = [];\n    for (i = 0; i < len-1; i++) {\n      newChildren.push(this.children[i]);\n      newChildren.push(aSep);\n    }\n    newChildren.push(this.children[i]);\n    this.children = newChildren;\n  }\n  return this;\n};\n\n/**\n * Call String.prototype.replace on the very right-most source snippet. Useful\n * for trimming whitespace from the end of a source node, etc.\n *\n * @param aPattern The pattern to replace.\n * @param aReplacement The thing to replace the pattern with.\n */\nSourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {\n  var lastChild = this.children[this.children.length - 1];\n  if (lastChild[isSourceNode]) {\n    lastChild.replaceRight(aPattern, aReplacement);\n  }\n  else if (typeof lastChild === 'string') {\n    this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);\n  }\n  else {\n    this.children.push(''.replace(aPattern, aReplacement));\n  }\n  return this;\n};\n\n/**\n * Set the source content for a source file. This will be added to the SourceMapGenerator\n * in the sourcesContent field.\n *\n * @param aSourceFile The filename of the source file\n * @param aSourceContent The content of the source file\n */\nSourceNode.prototype.setSourceContent =\n  function SourceNode_setSourceContent(aSourceFile, aSourceContent) {\n    this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;\n  };\n\n/**\n * Walk over the tree of SourceNodes. The walking function is called for each\n * source file content and is passed the filename and source content.\n *\n * @param aFn The traversal function.\n */\nSourceNode.prototype.walkSourceContents =\n  function SourceNode_walkSourceContents(aFn) {\n    for (var i = 0, len = this.children.length; i < len; i++) {\n      if (this.children[i][isSourceNode]) {\n        this.children[i].walkSourceContents(aFn);\n      }\n    }\n\n    var sources = Object.keys(this.sourceContents);\n    for (var i = 0, len = sources.length; i < len; i++) {\n      aFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);\n    }\n  };\n\n/**\n * Return the string representation of this source node. Walks over the tree\n * and concatenates all the various snippets together to one string.\n */\nSourceNode.prototype.toString = function SourceNode_toString() {\n  var str = \"\";\n  this.walk(function (chunk) {\n    str += chunk;\n  });\n  return str;\n};\n\n/**\n * Returns the string representation of this source node along with a source\n * map.\n */\nSourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {\n  var generated = {\n    code: \"\",\n    line: 1,\n    column: 0\n  };\n  var map = new SourceMapGenerator(aArgs);\n  var sourceMappingActive = false;\n  var lastOriginalSource = null;\n  var lastOriginalLine = null;\n  var lastOriginalColumn = null;\n  var lastOriginalName = null;\n  this.walk(function (chunk, original) {\n    generated.code += chunk;\n    if (original.source !== null\n        && original.line !== null\n        && original.column !== null) {\n      if(lastOriginalSource !== original.source\n         || lastOriginalLine !== original.line\n         || lastOriginalColumn !== original.column\n         || lastOriginalName !== original.name) {\n        map.addMapping({\n          source: original.source,\n          original: {\n            line: original.line,\n            column: original.column\n          },\n          generated: {\n            line: generated.line,\n            column: generated.column\n          },\n          name: original.name\n        });\n      }\n      lastOriginalSource = original.source;\n      lastOriginalLine = original.line;\n      lastOriginalColumn = original.column;\n      lastOriginalName = original.name;\n      sourceMappingActive = true;\n    } else if (sourceMappingActive) {\n      map.addMapping({\n        generated: {\n          line: generated.line,\n          column: generated.column\n        }\n      });\n      lastOriginalSource = null;\n      sourceMappingActive = false;\n    }\n    for (var idx = 0, length = chunk.length; idx < length; idx++) {\n      if (chunk.charCodeAt(idx) === NEWLINE_CODE) {\n        generated.line++;\n        generated.column = 0;\n        // Mappings end at eol\n        if (idx + 1 === length) {\n          lastOriginalSource = null;\n          sourceMappingActive = false;\n        } else if (sourceMappingActive) {\n          map.addMapping({\n            source: original.source,\n            original: {\n              line: original.line,\n              column: original.column\n            },\n            generated: {\n              line: generated.line,\n              column: generated.column\n            },\n            name: original.name\n          });\n        }\n      } else {\n        generated.column++;\n      }\n    }\n  });\n  this.walkSourceContents(function (sourceFile, sourceContent) {\n    map.setSourceContent(sourceFile, sourceContent);\n  });\n\n  return { code: generated.code, map: map };\n};\n\nexports.SourceNode = SourceNode;\n","var toString = Object.prototype.toString\n\nvar isModern = (\n  typeof Buffer.alloc === 'function' &&\n  typeof Buffer.allocUnsafe === 'function' &&\n  typeof Buffer.from === 'function'\n)\n\nfunction isArrayBuffer (input) {\n  return toString.call(input).slice(8, -1) === 'ArrayBuffer'\n}\n\nfunction fromArrayBuffer (obj, byteOffset, length) {\n  byteOffset >>>= 0\n\n  var maxLength = obj.byteLength - byteOffset\n\n  if (maxLength < 0) {\n    throw new RangeError(\"'offset' is out of bounds\")\n  }\n\n  if (length === undefined) {\n    length = maxLength\n  } else {\n    length >>>= 0\n\n    if (length > maxLength) {\n      throw new RangeError(\"'length' is out of bounds\")\n    }\n  }\n\n  return isModern\n    ? Buffer.from(obj.slice(byteOffset, byteOffset + length))\n    : new Buffer(new Uint8Array(obj.slice(byteOffset, byteOffset + length)))\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  return isModern\n    ? Buffer.from(string, encoding)\n    : new Buffer(string, encoding)\n}\n\nfunction bufferFrom (value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (isArrayBuffer(value)) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  return isModern\n    ? Buffer.from(value)\n    : new Buffer(value)\n}\n\nmodule.exports = bufferFrom\n","const is = require('is_js');\n\n/**\n * Parse x-forwarded-for headers.\n *\n * @param {string} value - The value to be parsed.\n * @return {string|null} First known IP address, if any.\n */\nfunction getClientIpFromXForwardedFor(value) {\n    if (!is.existy(value)) {\n        return null;\n    }\n\n    if (is.not.string(value)) {\n        throw new TypeError(`Expected a string, got \"${typeof value}\"`);\n    }\n\n    // x-forwarded-for may return multiple IP addresses in the format:\n    // \"client IP, proxy 1 IP, proxy 2 IP\"\n    // Therefore, the right-most IP address is the IP address of the most recent proxy\n    // and the left-most IP address is the IP address of the originating client.\n    // source: http://docs.aws.amazon.com/elasticloadbalancing/latest/classic/x-forwarded-headers.html\n    // Azure Web App's also adds a port for some reason, so we'll only use the first part (the IP)\n    const forwardedIps = value.split(',').map((e) => {\n        const ip = e.trim();\n        if (ip.includes(':')) {\n            const splitted = ip.split(':');\n            // make sure we only use this if it's ipv4 (ip:port)\n            if (splitted.length === 2) {\n                return splitted[0];\n            }\n        }\n        return ip;\n    });\n\n    // Sometimes IP addresses in this header can be 'unknown' (http://stackoverflow.com/a/11285650).\n    // Therefore taking the left-most IP address that is not unknown\n    // A Squid configuration directive can also set the value to \"unknown\" (http://www.squid-cache.org/Doc/config/forwarded_for/)\n    return forwardedIps.find(is.ip);\n}\n\n/**\n * Determine client IP address.\n *\n * @param req\n * @returns {string} ip - The IP address if known, defaulting to empty string if unknown.\n */\nfunction getClientIp(req) {\n    // Server is probably behind a proxy.\n    if (req.headers) {\n        // Standard headers used by Amazon EC2, Heroku, and others.\n        if (is.ip(req.headers['x-client-ip'])) {\n            return req.headers['x-client-ip'];\n        }\n\n        // Load-balancers (AWS ELB) or proxies.\n        const xForwardedFor = getClientIpFromXForwardedFor(req.headers['x-forwarded-for']);\n        if (is.ip(xForwardedFor)) {\n            return xForwardedFor;\n        }\n\n        // Cloudflare.\n        // @see https://support.cloudflare.com/hc/en-us/articles/200170986-How-does-Cloudflare-handle-HTTP-Request-headers-\n        // CF-Connecting-IP - applied to every request to the origin.\n        if (is.ip(req.headers['cf-connecting-ip'])) {\n            return req.headers['cf-connecting-ip'];\n        }\n\n        // Akamai and Cloudflare: True-Client-IP.\n        if (is.ip(req.headers['true-client-ip'])) {\n            return req.headers['true-client-ip'];\n        }\n\n        // Default nginx proxy/fcgi; alternative to x-forwarded-for, used by some proxies.\n        if (is.ip(req.headers['x-real-ip'])) {\n            return req.headers['x-real-ip'];\n        }\n\n        // (Rackspace LB and Riverbed's Stingray)\n        // http://www.rackspace.com/knowledge_center/article/controlling-access-to-linux-cloud-sites-based-on-the-client-ip-address\n        // https://splash.riverbed.com/docs/DOC-1926\n        if (is.ip(req.headers['x-cluster-client-ip'])) {\n            return req.headers['x-cluster-client-ip'];\n        }\n\n        if (is.ip(req.headers['x-forwarded'])) {\n            return req.headers['x-forwarded'];\n        }\n\n        if (is.ip(req.headers['forwarded-for'])) {\n            return req.headers['forwarded-for'];\n        }\n\n        if (is.ip(req.headers.forwarded)) {\n            return req.headers.forwarded;\n        }\n    }\n\n    // Remote address checks.\n    if (is.existy(req.connection)) {\n        if (is.ip(req.connection.remoteAddress)) {\n            return req.connection.remoteAddress;\n        }\n        if (is.existy(req.connection.socket) && is.ip(req.connection.socket.remoteAddress)) {\n            return req.connection.socket.remoteAddress;\n        }\n    }\n\n    if (is.existy(req.socket) && is.ip(req.socket.remoteAddress)) {\n        return req.socket.remoteAddress;\n    }\n\n    if (is.existy(req.info) && is.ip(req.info.remoteAddress)) {\n        return req.info.remoteAddress;\n    }\n\n    return null;\n}\n\n/**\n * Expose request IP as a middleware.\n *\n * @param {object} [options] - Configuration.\n * @param {string} [options.attributeName] - Name of attribute to augment request object with.\n * @return {*}\n */\nfunction mw(options) {\n    // Defaults.\n    const configuration = is.not.existy(options) ? {} : options;\n\n    // Validation.\n    if (is.not.object(configuration)) {\n        throw new TypeError('Options must be an object!');\n    }\n\n    const attributeName = configuration.attributeName || 'clientIp';\n    return (req, res, next) => {\n        req[attributeName] = getClientIp(req); // eslint-disable-line no-param-reassign\n        next();\n    };\n}\n\nmodule.exports = {\n    getClientIpFromXForwardedFor,\n    getClientIp,\n    mw,\n};\n","/*!\n * is.js 0.8.0\n * Author: Aras Atasaygin\n */\n\n// AMD with global, Node, or global\n;(function(root, factory) {    // eslint-disable-line no-extra-semi\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(function() {\n            // Also create a global in case some scripts\n            // that are loaded still are looking for\n            // a global even when an AMD loader is in use.\n            return (root.is = factory());\n        });\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like enviroments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is self)\n        root.is = factory();\n    }\n}(this, function() {\n\n    // Baseline\n    /* -------------------------------------------------------------------------- */\n\n    // define 'is' object and current version\n    var is = {};\n    is.VERSION = '0.8.0';\n\n    // define interfaces\n    is.not = {};\n    is.all = {};\n    is.any = {};\n\n    // cache some methods to call later on\n    var toString = Object.prototype.toString;\n    var slice = Array.prototype.slice;\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n    // helper function which reverses the sense of predicate result\n    function not(func) {\n        return function() {\n            return !func.apply(null, slice.call(arguments));\n        };\n    }\n\n    // helper function which call predicate function per parameter and return true if all pass\n    function all(func) {\n        return function() {\n            var params = getParams(arguments);\n            var length = params.length;\n            for (var i = 0; i < length; i++) {\n                if (!func.call(null, params[i])) {\n                    return false;\n                }\n            }\n            return true;\n        };\n    }\n\n    // helper function which call predicate function per parameter and return true if any pass\n    function any(func) {\n        return function() {\n            var params = getParams(arguments);\n            var length = params.length;\n            for (var i = 0; i < length; i++) {\n                if (func.call(null, params[i])) {\n                    return true;\n                }\n            }\n            return false;\n        };\n    }\n\n    // build a 'comparator' object for various comparison checks\n    var comparator = {\n        '<': function(a, b) { return a < b; },\n        '<=': function(a, b) { return a <= b; },\n        '>': function(a, b) { return a > b; },\n        '>=': function(a, b) { return a >= b; }\n    }\n\n    // helper function which compares a version to a range\n    function compareVersion(version, range) {\n        var string = (range + '');\n        var n = +(string.match(/\\d+/) || NaN);\n        var op = string.match(/^[<>]=?|/)[0];\n        return comparator[op] ? comparator[op](version, n) : (version == n || n !== n);\n    }\n\n    // helper function which extracts params from arguments\n    function getParams(args) {\n        var params = slice.call(args);\n        var length = params.length;\n        if (length === 1 && is.array(params[0])) {    // support array\n            params = params[0];\n        }\n        return params;\n    }\n\n    // Type checks\n    /* -------------------------------------------------------------------------- */\n\n    // is a given value Arguments?\n    is.arguments = function(value) {    // fallback check is for IE\n        return toString.call(value) === '[object Arguments]' ||\n            (value != null && typeof value === 'object' && 'callee' in value);\n    };\n\n    // is a given value Array?\n    is.array = Array.isArray || function(value) {    // check native isArray first\n        return toString.call(value) === '[object Array]';\n    };\n\n    // is a given value Boolean?\n    is.boolean = function(value) {\n        return value === true || value === false || toString.call(value) === '[object Boolean]';\n    };\n\n    // is a given value Char?\n    is.char = function(value) {\n        return is.string(value) && value.length === 1;\n    };\n\n    // is a given value Date Object?\n    is.date = function(value) {\n        return toString.call(value) === '[object Date]';\n    };\n\n    // is a given object a DOM node?\n    is.domNode = function(object) {\n        return is.object(object) && object.nodeType > 0;\n    };\n\n    // is a given value Error object?\n    is.error = function(value) {\n        return toString.call(value) === '[object Error]';\n    };\n\n    // is a given value function?\n    is['function'] = function(value) {    // fallback check is for IE\n        return toString.call(value) === '[object Function]' || typeof value === 'function';\n    };\n\n    // is given value a pure JSON object?\n    is.json = function(value) {\n        return toString.call(value) === '[object Object]';\n    };\n\n    // is a given value NaN?\n    is.nan = function(value) {    // NaN is number :) Also it is the only value which does not equal itself\n        return value !== value;\n    };\n\n    // is a given value null?\n    is['null'] = function(value) {\n        return value === null;\n    };\n\n    // is a given value number?\n    is.number = function(value) {\n        return is.not.nan(value) && toString.call(value) === '[object Number]';\n    };\n\n    // is a given value object?\n    is.object = function(value) {\n        return Object(value) === value;\n    };\n\n    // is a given value RegExp?\n    is.regexp = function(value) {\n        return toString.call(value) === '[object RegExp]';\n    };\n\n    // are given values same type?\n    // prevent NaN, Number same type check\n    is.sameType = function(value, other) {\n        var tag = toString.call(value);\n        if (tag !== toString.call(other)) {\n            return false;\n        }\n        if (tag === '[object Number]') {\n            return !is.any.nan(value, other) || is.all.nan(value, other);\n        }\n        return true;\n    };\n    // sameType method does not support 'all' and 'any' interfaces\n    is.sameType.api = ['not'];\n\n    // is a given value String?\n    is.string = function(value) {\n        return toString.call(value) === '[object String]';\n    };\n\n    // is a given value undefined?\n    is.undefined = function(value) {\n        return value === void 0;\n    };\n\n    // is a given value window?\n    // setInterval method is only available for window object\n    is.windowObject = function(value) {\n        return value != null && typeof value === 'object' && 'setInterval' in value;\n    };\n\n    // Presence checks\n    /* -------------------------------------------------------------------------- */\n\n    //is a given value empty? Objects, arrays, strings\n    is.empty = function(value) {\n        if (is.object(value)) {\n            var length = Object.getOwnPropertyNames(value).length;\n            if (length === 0 || (length === 1 && is.array(value)) ||\n                    (length === 2 && is.arguments(value))) {\n                return true;\n            }\n            return false;\n        }\n        return value === '';\n    };\n\n    // is a given value existy?\n    is.existy = function(value) {\n        return value != null;\n    };\n\n    // is a given value falsy?\n    is.falsy = function(value) {\n        return !value;\n    };\n\n    // is a given value truthy?\n    is.truthy = not(is.falsy);\n\n    // Arithmetic checks\n    /* -------------------------------------------------------------------------- */\n\n    // is a given number above minimum parameter?\n    is.above = function(n, min) {\n        return is.all.number(n, min) && n > min;\n    };\n    // above method does not support 'all' and 'any' interfaces\n    is.above.api = ['not'];\n\n    // is a given number decimal?\n    is.decimal = function(n) {\n        return is.number(n) && n % 1 !== 0;\n    };\n\n    // are given values equal? supports numbers, strings, regexes, booleans\n    // TODO: Add object and array support\n    is.equal = function(value, other) {\n        // check 0 and -0 equity with Infinity and -Infinity\n        if (is.all.number(value, other)) {\n            return value === other && 1 / value === 1 / other;\n        }\n        // check regexes as strings too\n        if (is.all.string(value, other) || is.all.regexp(value, other)) {\n            return '' + value === '' + other;\n        }\n        if (is.all.boolean(value, other)) {\n            return value === other;\n        }\n        return false;\n    };\n    // equal method does not support 'all' and 'any' interfaces\n    is.equal.api = ['not'];\n\n    // is a given number even?\n    is.even = function(n) {\n        return is.number(n) && n % 2 === 0;\n    };\n\n    // is a given number finite?\n    is.finite = isFinite || function(n) {\n        return is.not.infinite(n) && is.not.nan(n);\n    };\n\n    // is a given number infinite?\n    is.infinite = function(n) {\n        return n === Infinity || n === -Infinity;\n    };\n\n    // is a given number integer?\n    is.integer = function(n) {\n        return is.number(n) && n % 1 === 0;\n    };\n\n    // is a given number negative?\n    is.negative = function(n) {\n        return is.number(n) && n < 0;\n    };\n\n    // is a given number odd?\n    is.odd = function(n) {\n        return is.number(n) && n % 2 === 1;\n    };\n\n    // is a given number positive?\n    is.positive = function(n) {\n        return is.number(n) && n > 0;\n    };\n\n    // is a given number above maximum parameter?\n    is.under = function(n, max) {\n        return is.all.number(n, max) && n < max;\n    };\n    // least method does not support 'all' and 'any' interfaces\n    is.under.api = ['not'];\n\n    // is a given number within minimum and maximum parameters?\n    is.within = function(n, min, max) {\n        return is.all.number(n, min, max) && n > min && n < max;\n    };\n    // within method does not support 'all' and 'any' interfaces\n    is.within.api = ['not'];\n\n    // Regexp checks\n    /* -------------------------------------------------------------------------- */\n    // Steven Levithan, Jan Goyvaerts: Regular Expressions Cookbook\n    // Scott Gonzalez: Email address validation\n\n    // dateString match m/d/yy and mm/dd/yyyy, allowing any combination of one or two digits for the day and month, and two or four digits for the year\n    // eppPhone match extensible provisioning protocol format\n    // nanpPhone match north american number plan format\n    // time match hours, minutes, and seconds, 24-hour clock\n    var regexes = {\n        affirmative: /^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/,\n        alphaNumeric: /^[A-Za-z0-9]+$/,\n        caPostalCode: /^(?!.*[DFIOQU])[A-VXY][0-9][A-Z]\\s?[0-9][A-Z][0-9]$/,\n        creditCard: /^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,\n        dateString: /^(1[0-2]|0?[1-9])([\\/-])(3[01]|[12][0-9]|0?[1-9])(?:\\2)(?:[0-9]{2})?[0-9]{2}$/,\n        email: /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i, // eslint-disable-line no-control-regex\n        eppPhone: /^\\+[0-9]{1,3}\\.[0-9]{4,14}(?:x.+)?$/,\n        hexadecimal: /^(?:0x)?[0-9a-fA-F]+$/,\n        hexColor: /^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,\n        ipv4: /^(?:(?:\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}(?:\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])$/,\n        ipv6: /^((?=.*::)(?!.*::.+::)(::)?([\\dA-F]{1,4}:(:|\\b)|){5}|([\\dA-F]{1,4}:){6})((([\\dA-F]{1,4}((?!\\3)::|:\\b|$))|(?!\\2\\3)){2}|(((2[0-4]|1\\d|[1-9])?\\d|25[0-5])\\.?\\b){4})$/i,\n        nanpPhone: /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,\n        socialSecurityNumber: /^(?!000|666)[0-8][0-9]{2}-?(?!00)[0-9]{2}-?(?!0000)[0-9]{4}$/,\n        timeString: /^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,\n        ukPostCode: /^[A-Z]{1,2}[0-9RCHNQ][0-9A-Z]?\\s?[0-9][ABD-HJLNP-UW-Z]{2}$|^[A-Z]{2}-?[0-9]{4}$/,\n        url: /^(?:(?:https?|ftp):\\/\\/)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/\\S*)?$/i,\n        usZipCode: /^[0-9]{5}(?:-[0-9]{4})?$/\n    };\n\n    function regexpCheck(regexp, regexes) {\n        is[regexp] = function(value) {\n            return regexes[regexp].test(value);\n        };\n    }\n\n    // create regexp checks methods from 'regexes' object\n    for (var regexp in regexes) {\n        if (regexes.hasOwnProperty(regexp)) {\n            regexpCheck(regexp, regexes);\n        }\n    }\n\n    // simplify IP checks by calling the regex helpers for IPv4 and IPv6\n    is.ip = function(value) {\n        return is.ipv4(value) || is.ipv6(value);\n    };\n\n    // String checks\n    /* -------------------------------------------------------------------------- */\n\n    // is a given string or sentence capitalized?\n    is.capitalized = function(string) {\n        if (is.not.string(string)) {\n            return false;\n        }\n        var words = string.split(' ');\n        for (var i = 0; i < words.length; i++) {\n            var word = words[i];\n            if (word.length) {\n                var chr = word.charAt(0);\n                if (chr !== chr.toUpperCase()) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n\n    // is string end with a given target parameter?\n    is.endWith = function(string, target) {\n        if (is.not.string(string)) {\n            return false;\n        }\n        target += '';\n        var position = string.length - target.length;\n        return position >= 0 && string.indexOf(target, position) === position;\n    };\n    // endWith method does not support 'all' and 'any' interfaces\n    is.endWith.api = ['not'];\n\n    // is a given string include parameter target?\n    is.include = function(string, target) {\n        return string.indexOf(target) > -1;\n    };\n    // include method does not support 'all' and 'any' interfaces\n    is.include.api = ['not'];\n\n    // is a given string all lowercase?\n    is.lowerCase = function(string) {\n        return is.string(string) && string === string.toLowerCase();\n    };\n\n    // is a given string palindrome?\n    is.palindrome = function(string) {\n        if (is.not.string(string)) {\n            return false;\n        }\n        string = string.replace(/[^a-zA-Z0-9]+/g, '').toLowerCase();\n        var length = string.length - 1;\n        for (var i = 0, half = Math.floor(length / 2); i <= half; i++) {\n            if (string.charAt(i) !== string.charAt(length - i)) {\n                return false;\n            }\n        }\n        return true;\n    };\n\n    // is a given value space?\n    // horizantal tab: 9, line feed: 10, vertical tab: 11, form feed: 12, carriage return: 13, space: 32\n    is.space = function(value) {\n        if (is.not.char(value)) {\n            return false;\n        }\n        var charCode = value.charCodeAt(0);\n        return (charCode > 8 && charCode < 14) || charCode === 32;\n    };\n\n    // is string start with a given target parameter?\n    is.startWith = function(string, target) {\n        return is.string(string) && string.indexOf(target) === 0;\n    };\n    // startWith method does not support 'all' and 'any' interfaces\n    is.startWith.api = ['not'];\n\n    // is a given string all uppercase?\n    is.upperCase = function(string) {\n        return is.string(string) && string === string.toUpperCase();\n    };\n\n    // Time checks\n    /* -------------------------------------------------------------------------- */\n\n    var days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n    var months = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\n\n    // is a given dates day equal given day parameter?\n    is.day = function(date, day) {\n        return is.date(date) && day.toLowerCase() === days[date.getDay()];\n    };\n    // day method does not support 'all' and 'any' interfaces\n    is.day.api = ['not'];\n\n    // is a given date in daylight saving time?\n    is.dayLightSavingTime = function(date) {\n        var january = new Date(date.getFullYear(), 0, 1);\n        var july = new Date(date.getFullYear(), 6, 1);\n        var stdTimezoneOffset = Math.max(january.getTimezoneOffset(), july.getTimezoneOffset());\n        return date.getTimezoneOffset() < stdTimezoneOffset;\n    };\n\n    // is a given date future?\n    is.future = function(date) {\n        var now = new Date();\n        return is.date(date) && date.getTime() > now.getTime();\n    };\n\n    // is date within given range?\n    is.inDateRange = function(date, start, end) {\n        if (is.not.date(date) || is.not.date(start) || is.not.date(end)) {\n            return false;\n        }\n        var stamp = date.getTime();\n        return stamp > start.getTime() && stamp < end.getTime();\n    };\n    // inDateRange method does not support 'all' and 'any' interfaces\n    is.inDateRange.api = ['not'];\n\n    // is a given date in last month range?\n    is.inLastMonth = function(date) {\n        return is.inDateRange(date, new Date(new Date().setMonth(new Date().getMonth() - 1)), new Date());\n    };\n\n    // is a given date in last week range?\n    is.inLastWeek = function(date) {\n        return is.inDateRange(date, new Date(new Date().setDate(new Date().getDate() - 7)), new Date());\n    };\n\n    // is a given date in last year range?\n    is.inLastYear = function(date) {\n        return is.inDateRange(date, new Date(new Date().setFullYear(new Date().getFullYear() - 1)), new Date());\n    };\n\n    // is a given date in next month range?\n    is.inNextMonth = function(date) {\n        return is.inDateRange(date, new Date(), new Date(new Date().setMonth(new Date().getMonth() + 1)));\n    };\n\n    // is a given date in next week range?\n    is.inNextWeek = function(date) {\n        return is.inDateRange(date, new Date(), new Date(new Date().setDate(new Date().getDate() + 7)));\n    };\n\n    // is a given date in next year range?\n    is.inNextYear = function(date) {\n        return is.inDateRange(date, new Date(), new Date(new Date().setFullYear(new Date().getFullYear() + 1)));\n    };\n\n    // is the given year a leap year?\n    is.leapYear = function(year) {\n        return is.number(year) && ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0);\n    };\n\n    // is a given dates month equal given month parameter?\n    is.month = function(date, month) {\n        return is.date(date) && month.toLowerCase() === months[date.getMonth()];\n    };\n    // month method does not support 'all' and 'any' interfaces\n    is.month.api = ['not'];\n\n    // is a given date past?\n    is.past = function(date) {\n        var now = new Date();\n        return is.date(date) && date.getTime() < now.getTime();\n    };\n\n    // is a given date in the parameter quarter?\n    is.quarterOfYear = function(date, quarter) {\n        return is.date(date) && is.number(quarter) && quarter === Math.floor((date.getMonth() + 3) / 3);\n    };\n    // quarterOfYear method does not support 'all' and 'any' interfaces\n    is.quarterOfYear.api = ['not'];\n\n    // is a given date indicate today?\n    is.today = function(date) {\n        var now = new Date();\n        var todayString = now.toDateString();\n        return is.date(date) && date.toDateString() === todayString;\n    };\n\n    // is a given date indicate tomorrow?\n    is.tomorrow = function(date) {\n        var now = new Date();\n        var tomorrowString = new Date(now.setDate(now.getDate() + 1)).toDateString();\n        return is.date(date) && date.toDateString() === tomorrowString;\n    };\n\n    // is a given date weekend?\n    // 6: Saturday, 0: Sunday\n    is.weekend = function(date) {\n        return is.date(date) && (date.getDay() === 6 || date.getDay() === 0);\n    };\n\n    // is a given date weekday?\n    is.weekday = not(is.weekend);\n\n    // is a given dates year equal given year parameter?\n    is.year = function(date, year) {\n        return is.date(date) && is.number(year) && year === date.getFullYear();\n    };\n    // year method does not support 'all' and 'any' interfaces\n    is.year.api = ['not'];\n\n    // is a given date indicate yesterday?\n    is.yesterday = function(date) {\n        var now = new Date();\n        var yesterdayString = new Date(now.setDate(now.getDate() - 1)).toDateString();\n        return is.date(date) && date.toDateString() === yesterdayString;\n    };\n\n    // Environment checks\n    /* -------------------------------------------------------------------------- */\n\n    var freeGlobal = is.windowObject(typeof global == 'object' && global) && global;\n    var freeSelf = is.windowObject(typeof self == 'object' && self) && self;\n    var thisGlobal = is.windowObject(typeof this == 'object' && this) && this;\n    var root = freeGlobal || freeSelf || thisGlobal || Function('return this')();\n\n    var document = freeSelf && freeSelf.document;\n    var previousIs = root.is;\n\n    // store navigator properties to use later\n    var navigator = freeSelf && freeSelf.navigator;\n    var appVersion = (navigator && navigator.appVersion || '').toLowerCase();\n    var userAgent = (navigator && navigator.userAgent || '').toLowerCase();\n    var vendor = (navigator && navigator.vendor || '').toLowerCase();\n\n    // is current device android?\n    is.android = function() {\n        return /android/.test(userAgent);\n    };\n    // android method does not support 'all' and 'any' interfaces\n    is.android.api = ['not'];\n\n    // is current device android phone?\n    is.androidPhone = function() {\n        return /android/.test(userAgent) && /mobile/.test(userAgent);\n    };\n    // androidPhone method does not support 'all' and 'any' interfaces\n    is.androidPhone.api = ['not'];\n\n    // is current device android tablet?\n    is.androidTablet = function() {\n        return /android/.test(userAgent) && !/mobile/.test(userAgent);\n    };\n    // androidTablet method does not support 'all' and 'any' interfaces\n    is.androidTablet.api = ['not'];\n\n    // is current device blackberry?\n    is.blackberry = function() {\n        return /blackberry/.test(userAgent) || /bb10/.test(userAgent);\n    };\n    // blackberry method does not support 'all' and 'any' interfaces\n    is.blackberry.api = ['not'];\n\n    // is current browser chrome?\n    // parameter is optional\n    is.chrome = function(range) {\n        var match = /google inc/.test(vendor) ? userAgent.match(/(?:chrome|crios)\\/(\\d+)/) : null;\n        return match !== null && compareVersion(match[1], range);\n    };\n    // chrome method does not support 'all' and 'any' interfaces\n    is.chrome.api = ['not'];\n\n    // is current device desktop?\n    is.desktop = function() {\n        return is.not.mobile() && is.not.tablet();\n    };\n    // desktop method does not support 'all' and 'any' interfaces\n    is.desktop.api = ['not'];\n\n    // is current browser edge?\n    // parameter is optional\n    is.edge = function(range) {\n        var match = userAgent.match(/edge\\/(\\d+)/);\n        return match !== null && compareVersion(match[1], range);\n    };\n    // edge method does not support 'all' and 'any' interfaces\n    is.edge.api = ['not'];\n\n    // is current browser firefox?\n    // parameter is optional\n    is.firefox = function(range) {\n        var match = userAgent.match(/(?:firefox|fxios)\\/(\\d+)/);\n        return match !== null && compareVersion(match[1], range);\n    };\n    // firefox method does not support 'all' and 'any' interfaces\n    is.firefox.api = ['not'];\n\n    // is current browser internet explorer?\n    // parameter is optional\n    is.ie = function(range) {\n        var match = userAgent.match(/(?:msie |trident.+?; rv:)(\\d+)/);\n        return match !== null && compareVersion(match[1], range);\n    };\n    // ie method does not support 'all' and 'any' interfaces\n    is.ie.api = ['not'];\n\n    // is current device ios?\n    is.ios = function() {\n        return is.iphone() || is.ipad() || is.ipod();\n    };\n    // ios method does not support 'all' and 'any' interfaces\n    is.ios.api = ['not'];\n\n    // is current device ipad?\n    // parameter is optional\n    is.ipad = function(range) {\n        var match = userAgent.match(/ipad.+?os (\\d+)/);\n        return match !== null && compareVersion(match[1], range);\n    };\n    // ipad method does not support 'all' and 'any' interfaces\n    is.ipad.api = ['not'];\n\n    // is current device iphone?\n    // parameter is optional\n    is.iphone = function(range) {\n        // original iPhone doesn't have the os portion of the UA\n        var match = userAgent.match(/iphone(?:.+?os (\\d+))?/);\n        return match !== null && compareVersion(match[1] || 1, range);\n    };\n    // iphone method does not support 'all' and 'any' interfaces\n    is.iphone.api = ['not'];\n\n    // is current device ipod?\n    // parameter is optional\n    is.ipod = function(range) {\n        var match = userAgent.match(/ipod.+?os (\\d+)/);\n        return match !== null && compareVersion(match[1], range);\n    };\n    // ipod method does not support 'all' and 'any' interfaces\n    is.ipod.api = ['not'];\n\n    // is current operating system linux?\n    is.linux = function() {\n        return /linux/.test(appVersion);\n    };\n    // linux method does not support 'all' and 'any' interfaces\n    is.linux.api = ['not'];\n\n    // is current operating system mac?\n    is.mac = function() {\n        return /mac/.test(appVersion);\n    };\n    // mac method does not support 'all' and 'any' interfaces\n    is.mac.api = ['not'];\n\n    // is current device mobile?\n    is.mobile = function() {\n        return is.iphone() || is.ipod() || is.androidPhone() || is.blackberry() || is.windowsPhone();\n    };\n    // mobile method does not support 'all' and 'any' interfaces\n    is.mobile.api = ['not'];\n\n    // is current state offline?\n    is.offline = not(is.online);\n    // offline method does not support 'all' and 'any' interfaces\n    is.offline.api = ['not'];\n\n    // is current state online?\n    is.online = function() {\n        return !navigator || navigator.onLine === true;\n    };\n    // online method does not support 'all' and 'any' interfaces\n    is.online.api = ['not'];\n\n    // is current browser opera?\n    // parameter is optional\n    is.opera = function(range) {\n        var match = userAgent.match(/(?:^opera.+?version|opr)\\/(\\d+)/);\n        return match !== null && compareVersion(match[1], range);\n    };\n    // opera method does not support 'all' and 'any' interfaces\n    is.opera.api = ['not'];\n\n    // is current browser phantomjs?\n    // parameter is optional\n    is.phantom = function(range) {\n        var match = userAgent.match(/phantomjs\\/(\\d+)/);\n        return match !== null && compareVersion(match[1], range);\n    };\n    // phantom method does not support 'all' and 'any' interfaces\n    is.phantom.api = ['not'];\n\n    // is current browser safari?\n    // parameter is optional\n    is.safari = function(range) {\n        var match = userAgent.match(/version\\/(\\d+).+?safari/);\n        return match !== null && compareVersion(match[1], range);\n    };\n    // safari method does not support 'all' and 'any' interfaces\n    is.safari.api = ['not'];\n\n    // is current device tablet?\n    is.tablet = function() {\n        return is.ipad() || is.androidTablet() || is.windowsTablet();\n    };\n    // tablet method does not support 'all' and 'any' interfaces\n    is.tablet.api = ['not'];\n\n    // is current device supports touch?\n    is.touchDevice = function() {\n        return !!document && ('ontouchstart' in freeSelf ||\n            ('DocumentTouch' in freeSelf && document instanceof DocumentTouch));\n    };\n    // touchDevice method does not support 'all' and 'any' interfaces\n    is.touchDevice.api = ['not'];\n\n    // is current operating system windows?\n    is.windows = function() {\n        return /win/.test(appVersion);\n    };\n    // windows method does not support 'all' and 'any' interfaces\n    is.windows.api = ['not'];\n\n    // is current device windows phone?\n    is.windowsPhone = function() {\n        return is.windows() && /phone/.test(userAgent);\n    };\n    // windowsPhone method does not support 'all' and 'any' interfaces\n    is.windowsPhone.api = ['not'];\n\n    // is current device windows tablet?\n    is.windowsTablet = function() {\n        return is.windows() && is.not.windowsPhone() && /touch/.test(userAgent);\n    };\n    // windowsTablet method does not support 'all' and 'any' interfaces\n    is.windowsTablet.api = ['not'];\n\n    // Object checks\n    /* -------------------------------------------------------------------------- */\n\n    // has a given object got parameterized count property?\n    is.propertyCount = function(object, count) {\n        if (is.not.object(object) || is.not.number(count)) {\n            return false;\n        }\n        var n = 0;\n        for (var property in object) {\n            if (hasOwnProperty.call(object, property) && ++n > count) {\n                return false;\n            }\n        }\n        return n === count;\n    };\n    // propertyCount method does not support 'all' and 'any' interfaces\n    is.propertyCount.api = ['not'];\n\n    // is given object has parameterized property?\n    is.propertyDefined = function(object, property) {\n        return is.object(object) && is.string(property) && property in object;\n    };\n    // propertyDefined method does not support 'all' and 'any' interfaces\n    is.propertyDefined.api = ['not'];\n\n    // Array checks\n    /* -------------------------------------------------------------------------- */\n\n    // is a given item in an array?\n    is.inArray = function(value, array) {\n        if (is.not.array(array)) {\n            return false;\n        }\n        for (var i = 0; i < array.length; i++) {\n            if (array[i] === value) {\n                return true;\n            }\n        }\n        return false;\n    };\n    // inArray method does not support 'all' and 'any' interfaces\n    is.inArray.api = ['not'];\n\n    // is a given array sorted?\n    is.sorted = function(array, sign) {\n        if (is.not.array(array)) {\n            return false;\n        }\n        var predicate = comparator[sign] || comparator['>='];\n        for (var i = 1; i < array.length; i++) {\n            if (!predicate(array[i], array[i - 1])) {\n                return false;\n            }\n        }\n        return true;\n    };\n\n    // API\n    // Set 'not', 'all' and 'any' interfaces to methods based on their api property\n    /* -------------------------------------------------------------------------- */\n\n    function setInterfaces() {\n        var options = is;\n        for (var option in options) {\n            if (hasOwnProperty.call(options, option) && is['function'](options[option])) {\n                var interfaces = options[option].api || ['not', 'all', 'any'];\n                for (var i = 0; i < interfaces.length; i++) {\n                    if (interfaces[i] === 'not') {\n                        is.not[option] = not(is[option]);\n                    }\n                    if (interfaces[i] === 'all') {\n                        is.all[option] = all(is[option]);\n                    }\n                    if (interfaces[i] === 'any') {\n                        is.any[option] = any(is[option]);\n                    }\n                }\n            }\n        }\n    }\n    setInterfaces();\n\n    // Configuration methods\n    // Intentionally added after setInterfaces function\n    /* -------------------------------------------------------------------------- */\n\n    // change namespace of library to prevent name collisions\n    // var preferredName = is.setNamespace();\n    // preferredName.odd(3);\n    // => true\n    is.setNamespace = function() {\n        root.is = previousIs;\n        return this;\n    };\n\n    // set optional regexes to methods\n    is.setRegexp = function(regexp, name) {\n        for (var r in regexes) {\n            if (hasOwnProperty.call(regexes, r) && (name === r)) {\n                regexes[r] = regexp;\n            }\n        }\n    };\n\n    return is;\n}));\n","var _ = require('./utility');\n\nfunction itemToPayload(item, options, callback) {\n  var payloadOptions = options.payload || {};\n  if (payloadOptions.body) {\n    delete payloadOptions.body;\n  }\n\n  var data = _.merge(item.data, payloadOptions);\n  if (item._isUncaught) {\n    data._isUncaught = true;\n  }\n  if (item._originalArgs) {\n    data._originalArgs = item._originalArgs;\n  }\n  callback(null, data);\n}\n\nfunction addTelemetryData(item, options, callback) {\n  if (item.telemetryEvents) {\n    _.set(item, 'data.body.telemetry', item.telemetryEvents);\n  }\n  callback(null, item);\n}\n\nfunction addMessageWithError(item, options, callback) {\n  if (!item.message) {\n    callback(null, item);\n    return;\n  }\n  var tracePath = 'data.body.trace_chain.0';\n  var trace = _.get(item, tracePath);\n  if (!trace) {\n    tracePath = 'data.body.trace';\n    trace = _.get(item, tracePath);\n  }\n  if (trace) {\n    if (!(trace.exception && trace.exception.description)) {\n      _.set(item, tracePath+'.exception.description', item.message);\n      callback(null, item);\n      return;\n    }\n    var extra = _.get(item, tracePath+'.extra') || {};\n    var newExtra =  _.merge(extra, {message: item.message});\n    _.set(item, tracePath+'.extra', newExtra);\n  }\n  callback(null, item);\n}\n\nfunction userTransform(logger) {\n  return function(item, options, callback) {\n    var newItem = _.merge(item);\n    try {\n      if (_.isFunction(options.transform)) {\n        options.transform(newItem.data, item);\n      }\n    } catch (e) {\n      options.transform = null;\n      logger.error('Error while calling custom transform() function. Removing custom transform().', e);\n      callback(null, item);\n      return;\n    }\n    callback(null, newItem);\n  }\n}\n\nfunction addConfigToPayload(item, options, callback) {\n  if (!options.sendConfig) {\n    return callback(null, item);\n  }\n  var configKey = '_rollbarConfig';\n  var custom = _.get(item, 'data.custom') || {};\n  custom[configKey] = options;\n  item.data.custom = custom;\n  callback(null, item);\n}\n\nfunction addFunctionOption(options, name) {\n  if(_.isFunction(options[name])) {\n    options[name] = options[name].toString();\n  }\n}\n\nfunction addConfiguredOptions(item, options, callback) {\n  var configuredOptions = options._configuredOptions;\n\n  // These must be stringified or they'll get dropped during serialization.\n  addFunctionOption(configuredOptions, 'transform');\n  addFunctionOption(configuredOptions, 'checkIgnore');\n  addFunctionOption(configuredOptions, 'onSendCallback');\n\n  delete configuredOptions.accessToken;\n  item.data.notifier.configured_options = configuredOptions;\n  callback(null, item);\n}\n\nfunction addDiagnosticKeys(item, options, callback) {\n  var diagnostic = _.merge(item.notifier.client.notifier.diagnostic, item.diagnostic);\n\n  if (_.get(item, 'err._isAnonymous')) {\n    diagnostic.is_anonymous = true;\n  }\n\n  if (item._isUncaught) {\n    diagnostic.is_uncaught = item._isUncaught;\n    delete item._isUncaught;\n  }\n\n  if (item.err) {\n    try {\n      diagnostic.raw_error = {\n        message: item.err.message,\n        name: item.err.name,\n        constructor_name: item.err.constructor && item.err.constructor.name,\n        filename: item.err.fileName,\n        line: item.err.lineNumber,\n        column: item.err.columnNumber,\n        stack: item.err.stack\n      };\n    } catch (e) {\n      diagnostic.raw_error = { failed: String(e) };\n    }\n  }\n\n  item.data.notifier.diagnostic = _.merge(item.data.notifier.diagnostic, diagnostic);\n  callback(null, item);\n}\n\nmodule.exports = {\n  itemToPayload: itemToPayload,\n  addTelemetryData: addTelemetryData,\n  addMessageWithError: addMessageWithError,\n  userTransform: userTransform,\n  addConfigToPayload: addConfigToPayload,\n  addConfiguredOptions: addConfiguredOptions,\n  addDiagnosticKeys: addDiagnosticKeys\n};\n","var _ = require('./utility');\n\nfunction checkLevel(item, settings) {\n  var level = item.level;\n  var levelVal = _.LEVELS[level] || 0;\n  var reportLevel = settings.reportLevel;\n  var reportLevelVal = _.LEVELS[reportLevel] || 0;\n\n  if (levelVal < reportLevelVal) {\n    return false;\n  }\n  return true;\n}\n\nfunction userCheckIgnore(logger) {\n  return function(item, settings) {\n    var isUncaught = !!item._isUncaught;\n    var args = item._originalArgs;\n    delete item._originalArgs;\n    try {\n      if (_.isFunction(settings.onSendCallback)) {\n        settings.onSendCallback(isUncaught, args, item);\n      }\n    } catch (e) {\n      settings.onSendCallback = null;\n      logger.error('Error while calling onSendCallback, removing', e);\n    }\n    try {\n      if (_.isFunction(settings.checkIgnore) && settings.checkIgnore(isUncaught, args, item)) {\n        return false;\n      }\n    } catch (e) {\n      settings.checkIgnore = null;\n      logger.error('Error while calling custom checkIgnore(), removing', e);\n    }\n    return true;\n  }\n}\n\nfunction urlIsNotBlacklisted(logger) {\n  return function(item, settings) {\n    return !urlIsOnAList(item, settings, 'blacklist', logger);\n  }\n}\n\nfunction urlIsWhitelisted(logger) {\n  return function(item, settings) {\n    return urlIsOnAList(item, settings, 'whitelist', logger);\n  }\n}\n\nfunction matchFrames(trace, list, black) {\n  if (!trace) { return !black }\n\n  var frames = trace.frames;\n\n  if (!frames || frames.length === 0) { return !black; }\n\n  var frame, filename, url, urlRegex;\n  var listLength = list.length;\n  var frameLength = frames.length;\n  for (var i = 0; i < frameLength; i++) {\n    frame = frames[i];\n    filename = frame.filename;\n\n    if (!_.isType(filename, 'string')) { return !black; }\n\n    for (var j = 0; j < listLength; j++) {\n      url = list[j];\n      urlRegex = new RegExp(url);\n\n      if (urlRegex.test(filename)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction urlIsOnAList(item, settings, whiteOrBlack, logger) {\n  // whitelist is the default\n  var black = false;\n  if (whiteOrBlack === 'blacklist') {\n    black = true;\n  }\n\n  var list, traces;\n  try {\n    list = black ? settings.hostBlackList : settings.hostWhiteList;\n    traces = _.get(item, 'body.trace_chain') || [_.get(item, 'body.trace')];\n\n    // These two checks are important to come first as they are defaults\n    // in case the list is missing or the trace is missing or not well-formed\n    if (!list || list.length === 0) {\n      return !black;\n    }\n    if (traces.length === 0 || !traces[0]) {\n      return !black;\n    }\n\n    var tracesLength = traces.length;\n    for (var i = 0; i < tracesLength; i++) {\n      if(matchFrames(traces[i], list, black)) {\n        return true;\n      }\n    }\n  } catch (e)\n  /* istanbul ignore next */\n  {\n    if (black) {\n      settings.hostBlackList = null;\n    } else {\n      settings.hostWhiteList = null;\n    }\n    var listName = black ? 'hostBlackList' : 'hostWhiteList';\n    logger.error('Error while reading your configuration\\'s ' + listName + ' option. Removing custom ' + listName + '.', e);\n    return !black;\n  }\n  return false;\n}\n\nfunction messageIsIgnored(logger) {\n  return function(item, settings) {\n    var exceptionMessage, i, ignoredMessages,\n        len, messageIsIgnored, rIgnoredMessage,\n        body, traceMessage, bodyMessage;\n\n    try {\n      messageIsIgnored = false;\n      ignoredMessages = settings.ignoredMessages;\n\n      if (!ignoredMessages || ignoredMessages.length === 0) {\n        return true;\n      }\n\n      body = item.body;\n      traceMessage = _.get(body, 'trace.exception.message');\n      bodyMessage = _.get(body, 'message.body');\n\n      exceptionMessage = traceMessage || bodyMessage;\n\n      if (!exceptionMessage){\n        return true;\n      }\n\n      len = ignoredMessages.length;\n      for (i = 0; i < len; i++) {\n        rIgnoredMessage = new RegExp(ignoredMessages[i], 'gi');\n        messageIsIgnored = rIgnoredMessage.test(exceptionMessage);\n\n        if (messageIsIgnored) {\n          break;\n        }\n      }\n    } catch(e)\n    /* istanbul ignore next */\n    {\n      settings.ignoredMessages = null;\n      logger.error('Error while reading your configuration\\'s ignoredMessages option. Removing custom ignoredMessages.');\n    }\n\n    return !messageIsIgnored;\n  }\n}\n\nmodule.exports = {\n  checkLevel: checkLevel,\n  userCheckIgnore: userCheckIgnore,\n  urlIsNotBlacklisted: urlIsNotBlacklisted,\n  urlIsWhitelisted: urlIsWhitelisted,\n  messageIsIgnored: messageIsIgnored\n};\n","\"use strict\";\r\n\r\nconst vscode = require(\"vscode\");\r\nvar path = require('path');\r\n\r\nconst { kiteOpen } = require(\"./utils\");\r\nconst config = vscode.workspace.getConfiguration(\"kite\");\r\n\r\nvar hasSeenGoBetaNotification = false;\r\nconst showGoBetaNotification = () => {\r\n    if (config.showGoBetaNotification &&\r\n        !hasSeenGoBetaNotification) {\r\n        vscode.window\r\n            .showInformationMessage(\r\n                \"Welcome to the Kite for Go Beta! You\\'ve got early access to our line-of-code completions for Go, powered by machine learning. If you\\'d like to disable the beta, you can do so in the Copilot.\",\r\n                \"Open Copilot\",\r\n                \"Hide Forever\"\r\n            )\r\n            .then(item => {\r\n                if (item) {\r\n                    switch (item) {\r\n                        case \"Open Copilot\":\r\n                            kiteOpen(\"kite://home\");\r\n                            break;\r\n                        case \"Hide Forever\":\r\n                            config.update(\"showGoBetaNotification\", false, true);\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n        hasSeenGoBetaNotification = true;\r\n    }\r\n};\r\n\r\nconst showNotification = (filename) => {\r\n    switch (path.extname(filename)) {\r\n        case \".go\":\r\n            showGoBetaNotification();\r\n            break;\r\n    }\r\n};\r\n\r\nmodule.exports = {\r\n    showNotification\r\n};\r\n","module.exports = require(\"dns\");"],"sourceRoot":""}